"use strict";(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[9210],{69210:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var n=function(){var t=this,e=t._self._c;return e("three-col-layout",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:t.toggleDropdown.bind(null,!0),expression:"toggleDropdown.bind(null, true)"}],staticClass:"app-container has-dash-icon greeting",class:{"show-anyway":t.showAnyway.includes("greeting")},attrs:{"data-show-anyway":"greeting","data-test":"greeting"},scopedSlots:t._u([{key:"center",fn:function(){return[e("message",{attrs:{message:t.greeting,"editing-name":t.editingName},on:{editing:t.editing}})]},proxy:!0},{key:"right",fn:function(){return[e(t.$touch?"ToastMenu":"Dropdown",{tag:"component",attrs:{"on-dash":!0,active:t.dropdownActive,"section-title":"Greeting Actions"},on:{toggle:t.toggleDropdown}},[e("dropdown-option",{attrs:{name:"Show todayâ€™s mantra","data-test":"show-mantra"},nativeOn:{click:function(e){return t.showMantra.apply(null,arguments)}}}),t._v(" "),e("li",{staticClass:"line"}),t._v(" "),e("dropdown-option",{attrs:{name:"Edit your name","data-test":"edit-name"},nativeOn:{click:function(e){return e.stopPropagation(),t.onEditNameClick.apply(null,arguments)}}})],1)]},proxy:!0}])})};n._withStripped=!0;var i=a(40973),o=a(42223),r=a(40531),s=a(41490),d=a(30827),l=a(81405);const g={name:"Greeting",components:{ThreeColLayout:s.Z,Message:i.Z,ToastMenu:()=>a.e(2511).then(a.bind(a,22511)),Dropdown:()=>a.e(3007).then(a.bind(a,13007)),DropdownOption:()=>a.e(4541).then(a.bind(a,84541))},unreactive:()=>({mantraManager:m.models.mantraManager,showAnyway:d.Z}),mixins:[o.Z],data:()=>({dropdownActive:!1,editingName:!1}),computed:{date:()=>m.models.date,greeting(){const t=(r.ax.displayname||"").trim(),e=m.utils.getDayPart(this.date.get("date"));let a={name:t,punctuation:m.utils.endsWithEndPunctuation(t)?"":"."};return a.content=t||this.editingName?`Good ${e}, `:`Good ${e}`,a}},methods:{toggleDropdown(t){this.$emit("stop-cycle",t),this.dropdownActive=t},showMantra(){!this.mantraManager.noMantra||this.$plus?(this.mantraManager.isEnabled()&&!this.mantraManager.getActiveItem()?this.mantraManager.getActiveItem():this.mantraManager.isEnabled()||this.mantraManager.getActiveItem()?this.mantraManager.isEnabled()&&this.mantraManager.getActiveItem()&&this.$emit("show-mantra"):(this.mantraManager.toggleEnabled(),this.mantraManager.getActiveItem()),this.dropdownActive=!1,l.ZP.capture("mantra show",{feature:"mantras"})):m.cmd("modal.open","UPSELL_MANTRAS",{eventSource:"dash"})},editing(t){this.$emit("stop-cycle",t),this.editingName=t},onEditNameClick(){this.editingName=!0,this.dropdownActive=!1,l.ZP.capture("display name change",{feature:"profile"})}}},c=(0,a(51900).Z)(g,n,[],!1,null,null,null).exports}}]);