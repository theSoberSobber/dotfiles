(()=>{var e={1446:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var r=n(655),i=n(7658),o=n(4079),s=function(){function e(){this.crc32=new o.Crc32}return e.prototype.update=function(e){(0,i.isEmptyData)(e)||this.crc32.update((0,i.convertToBuffer)(e))},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,(0,i.numToUint8)(this.crc32.digest())]}))}))},e}();t.AwsCrc32=s},4079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var r=n(655),i=n(7658);t.crc32=function(e){return(new o).update(e).digest()};var o=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var i=(0,r.__values)(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.checksum=this.checksum>>>8^s[255&(this.checksum^a)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=o;var s=(0,i.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),a=n(1446);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})},8260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},969:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5287:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}},87:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(655);r.__exportStar(n(8260),t),r.__exportStar(n(6665),t),r.__exportStar(n(5470),t),r.__exportStar(n(969),t),r.__exportStar(n(5287),t)},7333:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},2769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(3479),i=n(8889),o=n(3137),s=n(21),a=n(87),u=n(6495),c=function(){function e(e){(0,s.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,a.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=c},3479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(8036),i=n(7333),o=n(8668),s=n(6495),a=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,s.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,s.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,s.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=a},7643:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(655).__exportStar)(n(2769),t);var r=n(3479);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(8889);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},8036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},8889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7658),i=n(7333),o=n(6495),s=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=s},9558:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(4750),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],l=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(l+(r.KEY[f]+this.temp[f]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;l=c,c=u,u=a,a=s+g|0,s=o,o=i,i=n,n=g+v|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=l},e}();t.RawSha256=i},4750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},3137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(655).__exportStar)(n(3020),t)},3020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(655),i=n(4750),o=n(9558),s=n(7658),a=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=a},21:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(655).__exportStar(n(7787),t)},7787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(655),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&i.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!=typeof e.crypto.subtle)&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!s(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},1106:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(7535),i="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(1106);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(4304);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(2174);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=n(1558);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},4304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},7535:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});const r=e=>"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):(e=>{const t=[];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))){const i=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)})(e),i=e=>"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):(e=>{let t="";for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r<128)t+=String.fromCharCode(r);else if(192<=r&&r<224){const i=e[++n];t+=String.fromCharCode((31&r)<<6|63&i)}else if(240<=r&&r<365){const i="%"+[r,e[++n],e[++n],e[++n]].map((e=>e.toString(16))).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t})(e)},6495:(e,t,n)=>{"use strict";n.r(t),n.d(t,{locateWindow:()=>i});const r={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}},8668:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromUtf8:()=>r,toUtf8:()=>i});var r=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),i=n(6026),o=n(4372),s=n(1246),a=n(4097),u=n(4109),c=n(7985),l=n(5061),f=n(5655),d=n(5263);e.exports=function(e){return new Promise((function(t,n){var h,p=e.data,g=e.headers,v=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(p)&&delete g["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+S)}var b=a(e.baseURL,e.url);function _(){if(y){var r="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};i((function(e){t(e),m()}),(function(e){n(e),m()}),o),y=null}}if(y.open(e.method.toUpperCase(),s(b,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=_:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(_)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||c(b))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;E&&(g[e.xsrfHeaderName]=E)}"setRequestHeader"in y&&r.forEach(g,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete g[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(n(!e||e&&e.type?new d("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),y.send(p)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),i=n(1849),o=n(321),s=n(7185);var a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(5655));a.Axios=o,a.Cancel=n(5263),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(6268),e.exports=a,e.exports.default=a},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),i=n(1246),o=n(782),s=n(3572),a=n(7185),u=n(4875),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var f=[s,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),o=Promise.resolve(t);f.length;)o=o.then(f.shift(),f.shift());return o}for(var d=t;r.length;){var h=r.shift(),p=r.shift();try{d=h(d)}catch(e){p(e);break}}try{o=s(d)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},782:(e,t,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,n)=>{"use strict";var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},3572:(e,t,n)=>{"use strict";var r=n(4867),i=n(8527),o=n(6502),s=n(5655),a=n(5263);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),i=n(5655);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5655:(e,t,n)=>{"use strict";var r=n(4867),i=n(6016),o=n(481),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(5448)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c},7288:e=>{e.exports={version:"0.26.0"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},1246:(e,t,n)=>{"use strict";var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},4867:(e,t,n)=>{"use strict";var r=n(1849),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),s=o[0],a=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},1206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,u=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})},8764:(e,t,n)=>{"use strict";var r=n(9742),i=n(645),o=n(5826);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=a(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=a(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function S(e,t,n,r){return q(z(t,e.length-n),e,n,r)}function b(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return b(e,t,n,r)}function E(e,t,n,r){return q(K(t),e,n,r)}function C(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n),f=0;f<a;++f)if(c[f]!==l[f]){o=c[f],s=l[f];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function U(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=u.isBuffer(e)?e:z(new u(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},6489:(e,t)=>{"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},s=e.split(";"),a=i.decode||n,u=0;u<s.length;u++){var c=s[u],l=c.indexOf("=");if(!(l<0)){var f=c.substring(0,l).trim();if(null==r[f]){var d=c.substring(l+1,c.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),r[f]=o(d,a)}}}return r},t.q=function(e,t,n){var o=n||{},s=o.encode||r;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw new TypeError("argument val is invalid");var u=e+"="+a;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(u+="; HttpOnly");o.secure&&(u+="; Secure");if(o.sameSite){switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(t){return e}}},8249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},a=s.lib={},u=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=u.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),l=s.enc={},f=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,l=e.min(4*u,o);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=l}return new c.init(n,l)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(a.Hasher=p.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)},8269:function(e,t,n){var r;e.exports=(r=n(8249),function(){var e=r,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)},8010:function(e,t,n){var r;e.exports=(r=n(8249),n(2153),n(9824),r.HmacSHA256)},9824:function(e,t,n){var r,i,o,s;e.exports=(r=n(8249),o=(i=r).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,u=o.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},4433:function(e,t,n){var r;e.exports=(r=n(8249),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},2153:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=c[h-2],m=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[h]=g+c[h-7]+m+c[h-16]}var y=r&i^r&o^i&o,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),S=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+u[h]+c[h];d=f,f=l,l=a,a=s+S|0,s=o,o=i,i=r,r=S+(w+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,s,c;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},259:(e,t,n)=>{"use strict";const r=n(7849).buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function s(e){this.options=r(e,i,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=g),this.options.cdataTagName?this.isCDATA=v:this.isCDATA=function(){return!1},this.replaceCDATAstr=u,this.replaceCDATAarr=c,this.processTextOrObjNode=a,this.options.format?(this.indentate=p,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=h,this.buildObjNode=f):(this.buildTextNode=d,this.buildObjNode=l),this.buildTextValNode=d,this.buildObjectNode=l}function a(e,t,n){const r=this.j2x(e,n+1);return void 0!==e[this.options.textNodeName]&&1===Object.keys(e).length?this.buildTextNode(r.val,t,r.attrStr,n):this.buildObjNode(r.val,t,r.attrStr,n)}function u(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function c(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function l(e,t,n,r){return n&&-1===e.indexOf("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function f(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function d(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function h(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function p(e){return this.options.indentBy.repeat(e)}function g(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function v(e){return e===this.options.cdataTagName}s.prototype.parse=function(e){return Array.isArray(e)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(e={[this.options.rootNodeName]:e}),this.j2x(e,0).val},s.prototype.j2x=function(e,t){let n="",r="";for(let i in e)if(void 0===e[i]);else if(null===e[i])r+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)r+=this.buildTextNode(e[i],i,"",t);else if("object"!=typeof e[i]){const o=this.isAttribute(i);o?n+=" "+o+'="'+this.options.attrValueProcessor(""+e[i])+'"':this.isCDATA(i)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAstr("",e[i]):i===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[i])):r+=this.buildTextNode(e[i],i,"",t)}else if(Array.isArray(e[i]))if(this.isCDATA(i))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[i]):r+=this.replaceCDATAarr("",e[i]);else{const n=e[i].length;for(let o=0;o<n;o++){const n=e[i][o];void 0===n||(r+=null===n?this.indentate(t)+"<"+i+"/"+this.tagEndChar:"object"==typeof n?this.processTextOrObjNode(n,i,t):this.buildTextNode(n,i,"",t))}}else if(this.options.attrNodeName&&i===this.options.attrNodeName){const t=Object.keys(e[i]),r=t.length;for(let o=0;o<r;o++)n+=" "+t[o]+'="'+this.options.attrValueProcessor(""+e[i][t[o]])+'"'}else r+=this.processTextOrObjNode(e[i],i,t);return{attrStr:n,val:r}},e.exports=s},8398:(e,t,n)=>{"use strict";const r=function(e){return String.fromCharCode(e)},i={nilChar:r(176),missingChar:r(201),nilPremitive:r(175),missingPremitive:r(200),emptyChar:r(178),emptyValue:r(177),boundryChar:r(179),objStart:r(198),arrStart:r(204),arrayEnd:r(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],s=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?a(e[0].val,t):a(e,t);{const o=void 0===(r=e)?i.missingChar:null===r?i.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||i.emptyChar;if(!0===o){let r="";if(Array.isArray(t)){r+=i.arrStart;const o=t[0],c=e.length;if("string"==typeof o)for(let t=0;t<c;t++){const n=a(e[t].val,o);r=u(r,n)}else for(let t=0;t<c;t++){const i=s(e[t],o,n);r=u(r,i)}r+=i.arrayEnd}else{r+=i.objStart;const o=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let i in o){const a=o[i];let c;c=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[a]?s(e.attrsMap[a],t[a],n):a===n.textNodeName?s(e.val,t[a],n):s(e.child[a],t[a],n),r=u(r,c)}}return r}return o}var r},a=function(e){switch(e){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return e}},u=function(e,t){return c(t[0])||c(e[e.length-1])||(e+=i.boundryChar),e+t},c=function(e){return-1!==o.indexOf(e)};const l=n(3543),f=n(7849).buildOptions;t.convert2nimn=function(e,t,n){return n=f(n,l.defaultOptions,l.props),s(e,t,n)}},284:(e,t,n)=>{"use strict";const r=n(7849),i=function(e,t,n){const o={};if(!t.alwaysCreateTextNode&&(!e.child||r.isEmptyObject(e.child))&&(!e.attrsMap||r.isEmptyObject(e.attrsMap)))return r.isExist(e.val)?e.val:"";if(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const i=r.isTagNameInArrayMode(e.tagname,t.arrayMode,n);o[t.textNodeName]=i?[e.val]:e.val}r.merge(o,e.attrsMap,t.arrayMode);const s=Object.keys(e.child);for(let a=0;a<s.length;a++){const u=s[a];if(e.child[u]&&e.child[u].length>1){o[u]=[];for(let n in e.child[u])e.child[u].hasOwnProperty(n)&&o[u].push(i(e.child[u][n],t,u))}else{const s=i(e.child[u][0],t,u),a=!0===t.arrayMode&&"object"==typeof s||r.isTagNameInArrayMode(u,t.arrayMode,n);o[u]=a?[s]:s}}return o};t.convertToJson=i},7702:(e,t,n)=>{"use strict";const r=n(7849),i=n(7849).buildOptions,o=n(3543),s=function(e,t,n){let i="{";const o=Object.keys(e.child);for(let n=0;n<o.length;n++){const r=o[n];if(e.child[r]&&e.child[r].length>1){i+='"'+r+'" : [ ';for(let n in e.child[r])i+=s(e.child[r][n],t)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+r+'" : '+s(e.child[r][0],t)+" ,"}return r.merge(i,e.attrsMap),r.isEmptyObject(i)?r.isExist(e.val)?e.val:"":(r.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(i+='"'+t.textNodeName+'" : '+(!0!==(a=e.val)&&!1!==a&&isNaN(a)?'"'+a+'"':a)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}");var a};t.convertToJsonString=function(e,t){return(t=i(t,o.defaultOptions,o.props)).indentBy=t.indentBy||"",s(e,t,0)}},6965:(e,t,n)=>{"use strict";const r=n(284),i=n(3543),o=n(3543),s=n(7849).buildOptions,a=n(8501);t.parse=function(e,t={},n){if(n){!0===n&&(n={});const t=a.validate(e,n);if(!0!==t)throw Error(t.err.msg)}t.parseTrueNumberOnly&&!1!==t.parseNodeValue&&!t.numParseOptions&&(t.numParseOptions={leadingZeros:!1});let u=s(t,o.defaultOptions,o.props);const c=i.getTraversalObj(e,u);return r.convertToJson(c,u)},t.convertTonimn=n(8398).convert2nimn,t.getTraversalObj=i.getTraversalObj,t.convertToJson=r.convertToJson,t.convertToJsonString=n(7702).convertToJsonString,t.validate=a.validate,t.j2xParser=n(259),t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}},7849:(e,t)=>{"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){let r={};if(!e)return t;for(let i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},t.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},t.isName=function(e){const t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r},8501:(e,t,n)=>{"use strict";const r=n(7849),i={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function s(e,t){const n=t;for(;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{const r=e.substr(n,t-n);if(t>5&&"xml"===r)return d("InvalidXml","XML declaration allowed only at the start of the document.",p(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function a(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}t.validate=function(e,t){t=r.buildOptions(t,i,o);const n=[];let c=!1,h=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let i=0;i<e.length;i++)if("<"===e[i]&&"?"===e[i+1]){if(i+=2,i=s(e,i),i.err)return i}else{if("<"!==e[i]){if(" "===e[i]||"\t"===e[i]||"\n"===e[i]||"\r"===e[i])continue;return d("InvalidChar","char '"+e[i]+"' is not expected.",p(e,i))}{let o=i;if(i++,"!"===e[i]){i=a(e,i);continue}{let v=!1;"/"===e[i]&&(v=!0,i++);let m="";for(;i<e.length&&">"!==e[i]&&" "!==e[i]&&"\t"!==e[i]&&"\n"!==e[i]&&"\r"!==e[i];i++)m+=e[i];if(m=m.trim(),"/"===m[m.length-1]&&(m=m.substring(0,m.length-1),i--),g=m,!r.isName(g)){let t;return t=0===m.trim().length?"Invalid space after '<'.":"Tag '"+m+"' is an invalid name.",d("InvalidTag",t,p(e,i))}const y=u(e,i);if(!1===y)return d("InvalidAttr","Attributes for '"+m+"' have open quote.",p(e,i));let w=y.value;if(i=y.index,"/"===w[w.length-1]){const n=i-w.length;w=w.substring(0,w.length-1);const r=l(w,t);if(!0!==r)return d(r.err.code,r.err.msg,p(e,n+r.err.line));c=!0}else if(v){if(!y.tagClosed)return d("InvalidTag","Closing tag '"+m+"' doesn't have proper closing.",p(e,i));if(w.trim().length>0)return d("InvalidTag","Closing tag '"+m+"' can't have attributes or invalid starting.",p(e,o));{const t=n.pop();if(m!==t.tagName){let n=p(e,t.tagStartPos);return d("InvalidTag","Expected closing tag '"+t.tagName+"' (opened in line "+n.line+", col "+n.col+") instead of closing tag '"+m+"'.",p(e,o))}0==n.length&&(h=!0)}}else{const r=l(w,t);if(!0!==r)return d(r.err.code,r.err.msg,p(e,i-w.length+r.err.line));if(!0===h)return d("InvalidXml","Multiple possible root nodes found.",p(e,i));n.push({tagName:m,tagStartPos:o}),c=!0}for(i++;i<e.length;i++)if("<"===e[i]){if("!"===e[i+1]){i++,i=a(e,i);continue}if("?"!==e[i+1])break;if(i=s(e,++i),i.err)return i}else if("&"===e[i]){const t=f(e,i);if(-1==t)return d("InvalidChar","char '&' is not expected.",p(e,i));i=t}"<"===e[i]&&i--}}}var g;return c?1==n.length?d("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",p(e,n[0].tagStartPos)):!(n.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(n.map((e=>e.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):d("InvalidXml","Start tag expected.",1)};function u(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])""===r?r=e[t]:r!==e[t]||(r="");else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const c=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function l(e,t){const n=r.getAllMatches(e,c),i={};for(let e=0;e<n.length;e++){if(0===n[e][1].length)return d("InvalidAttr","Attribute '"+n[e][2]+"' has no space in starting.",g(n[e]));if(void 0===n[e][3]&&!t.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+n[e][2]+"' is not allowed.",g(n[e]));const r=n[e][2];if(!h(r))return d("InvalidAttr","Attribute '"+r+"' is an invalid name.",g(n[e]));if(i.hasOwnProperty(r))return d("InvalidAttr","Attribute '"+r+"' is repeated.",g(n[e]));i[r]=1}return!0}function f(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function d(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function h(e){return r.isName(e)}function p(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function g(e){return e.startIndex+e[1].length}},6468:e=>{"use strict";e.exports=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}}},3543:(e,t,n)=>{"use strict";const r=n(7849),i=n(7849).buildOptions,o=n(6468),s=n(4153);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[],alwaysCreateTextNode:!1};t.defaultOptions=a;const u=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];function c(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=f(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.numParseOptions)),t}function l(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function f(e,t,n){if(t&&"string"==typeof e){const t=e.trim();return"true"===t||"false"!==t&&s(e,n)}return r.isExist(e)?e:""}t.props=u;const d=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function h(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=r.getAllMatches(e,d),i=n.length,o={};for(let e=0;e<i;e++){const r=l(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),o[t.attributeNamePrefix+r]=f(n[e][4],t.parseAttributeValue,t.numParseOptions)):t.allowBooleanAttributes&&(o[t.attributeNamePrefix+r]=!0))}if(!Object.keys(o).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=o,e}return o}}function p(e,t){let n,r="";for(let i=t;i<e.length;i++){let t=e[i];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:i};"\t"===t&&(t=" ")}r+=t}}function g(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}t.getTraversalObj=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=i(t,a,u);const n=new o("!xml");let s=n,l="";for(let n=0;n<e.length;n++){if("<"===e[n])if("/"===e[n+1]){const i=g(e,">",n,"Closing Tag is not closed.");let o=e.substring(n+2,i).trim();if(t.ignoreNameSpace){const e=o.indexOf(":");-1!==e&&(o=o.substr(e+1))}s&&(s.val?s.val=r.getValue(s.val)+""+c(o,l,t):s.val=c(o,l,t)),t.stopNodes.length&&t.stopNodes.includes(s.tagname)&&(s.child=[],null==s.attrsMap&&(s.attrsMap={}),s.val=e.substr(s.startIndex+1,n-s.startIndex-1)),s=s.parent,l="",n=i}else if("?"===e[n+1])n=g(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=g(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=g(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const i=g(e,"]]>",n,"CDATA is not closed.")-2,a=e.substring(n+9,i);if(l&&(s.val=r.getValue(s.val)+""+c(s.tagname,l,t),l=""),t.cdataTagName){const e=new o(t.cdataTagName,s,a);s.addChild(e),s.val=r.getValue(s.val)+t.cdataPositionChar,a&&(e.val=a)}else s.val=(s.val||"")+(a||"");n=i+2}else{const i=p(e,n+1);let a=i.data;const u=i.index,f=a.indexOf(" ");let d=a,g=!0;if(-1!==f&&(d=a.substr(0,f).replace(/\s\s*$/,""),a=a.substr(f+1)),t.ignoreNameSpace){const e=d.indexOf(":");-1!==e&&(d=d.substr(e+1),g=d!==i.data.substr(e+1))}if(s&&l&&"!xml"!==s.tagname&&(s.val=r.getValue(s.val)+""+c(s.tagname,l,t)),a.length>0&&a.lastIndexOf("/")===a.length-1){"/"===d[d.length-1]?(d=d.substr(0,d.length-1),a=d):a=a.substr(0,a.length-1);const e=new o(d,s,"");d!==a&&(e.attrsMap=h(a,t)),s.addChild(e)}else{const e=new o(d,s);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=u),d!==a&&g&&(e.attrsMap=h(a,t)),s.addChild(e),s=e}l="",n=u}else l+=e[n]}return n}},645:(e,t)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*g}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},204:(e,t,n)=>{e.exports=self.fetch||(self.fetch=n(5869).default||n(5869))},6808:(e,t,n)=>{var r,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var s=window.Cookies,a=window.Cookies=o();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},2587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(n);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l,f,d,h,p=e[c].replace(s,"%20"),g=p.indexOf(r);g>=0?(l=p.substr(0,g),f=p.substr(g+1)):(l=p,f=""),d=decodeURIComponent(l),h=decodeURIComponent(f),t(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},2361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},7673:(e,t,n)=>{"use strict";t.decode=t.parse=n(2587),t.encode=t.stringify=n(2361)},4153:e=>{const t=/^[-+]?0x[a-fA-F0-9]+$/,n=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};e.exports=function(e,i={}){if(i=Object.assign({},r,i),!e||"string"!=typeof e)return e;let o=e.trim();if(void 0!==i.skipLike&&i.skipLike.test(o))return e;if(i.hex&&t.test(o))return Number.parseInt(o,16);{const t=n.exec(o);if(t){const n=t[1],r=t[2];let s=function(e){if(e&&-1!==e.indexOf("."))return"."===(e=e.replace(/0+$/,""))?e="0":"."===e[0]?e="0"+e:"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e;return e}(t[3]);const a=t[4]||t[6];if(!i.leadingZeros&&r.length>0&&n&&"."!==o[2])return e;if(!i.leadingZeros&&r.length>0&&!n&&"."!==o[1])return e;{const t=Number(o),u=""+t;return-1!==u.search(/[eE]/)||a?i.eNotation?t:e:-1!==o.indexOf(".")?"0"===u&&""===s||u===s||n&&u==="-"+s?t:e:r?s===u||n+s===u?t:e:o===u||o===n+u?t:e}}return e}}},655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>o,__asyncDelegator:()=>S,__asyncGenerator:()=>w,__asyncValues:()=>b,__await:()=>y,__awaiter:()=>l,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>P,__createBinding:()=>d,__decorate:()=>a,__exportStar:()=>h,__extends:()=>i,__generator:()=>f,__importDefault:()=>C,__importStar:()=>E,__makeTemplateObject:()=>_,__metadata:()=>c,__param:()=>u,__read:()=>g,__rest:()=>s,__spread:()=>v,__spreadArrays:()=>m,__values:()=>p});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},5869:(e,t,n)=>{"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}n.r(t),n.d(t,{default:()=>r})},2511:function(e,t,n){var r;/*! https://mths.be/punycode v1.3.2 by @mathias */e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var s,a=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function g(e){throw RangeError(d[e])}function v(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+v((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return v(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=u)e=h(e/35);return h(r+36*e/(e+38))}function _(e){var t,n,r,i,o,s,c,l,f,d,p,v=[],m=e.length,y=0,S=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&g("not-basic"),v.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=y,s=1,c=u;i>=m&&g("invalid-input"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>h((a-y)/s))&&g("overflow"),y+=l*s,!(l<(f=c<=_?1:c>=_+26?26:c-_));c+=u)s>h(a/(d=u-f))&&g("overflow"),s*=d;_=b(y-o,t=v.length+1,0==o),h(y/t)>a-S&&g("overflow"),S+=h(y/t),y%=t,v.splice(y++,0,S)}return w(v)}function E(e){var t,n,r,i,o,s,c,l,f,d,v,m,w,_,E,C=[];for(m=(e=y(e)).length,t=128,n=0,o=72,s=0;s<m;++s)(v=e[s])<128&&C.push(p(v));for(r=i=C.length,i&&C.push("-");r<m;){for(c=a,s=0;s<m;++s)(v=e[s])>=t&&v<c&&(c=v);for(c-t>h((a-n)/(w=r+1))&&g("overflow"),n+=(c-t)*w,t=c,s=0;s<m;++s)if((v=e[s])<t&&++n>a&&g("overflow"),v==t){for(l=n,f=u;!(l<(d=f<=o?1:f>=o+26?26:f-o));f+=u)E=l-d,_=u-d,C.push(p(S(d+E%_,0))),l=h(E/_);C.push(p(S(l,0))),o=b(n,w,r==i),n=0,++r}++n,++t}return C.join("")}s={version:"1.3.2",ucs2:{decode:y,encode:w},decode:_,encode:E,toASCII:function(e){return m(e,(function(e){return l.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return m(e,(function(e){return c.test(e)?_(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8575:(e,t,n)=>{"use strict";var r=n(2511),i=n(2502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=w;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(7673);function w(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var w=e=c.join(a);if(w=w.trim(),!n&&1===e.split("#").length){var S=u.exec(w);if(S)return this.path=w,this.href=w,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=s.exec(w);if(b){var _=(b=b[0]).toLowerCase();this.protocol=_,w=w.substr(b.length)}if(n||b||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===w.substr(0,2);!E||b&&v[b]||(w=w.substr(2),this.slashes=!0)}if(!v[b]&&(E||b&&!m[b])){for(var C,A,P=-1,k=0;k<d.length;k++){-1!==(x=w.indexOf(d[k]))&&(-1===P||x<P)&&(P=x)}-1!==(A=-1===P?w.lastIndexOf("@"):w.lastIndexOf("@",P))&&(C=w.slice(0,A),w=w.slice(A+1),this.auth=decodeURIComponent(C)),P=-1;for(k=0;k<f.length;k++){var x;-1!==(x=w.indexOf(f[k]))&&(-1===P||x<P)&&(P=x)}-1===P&&(P=w.length),this.host=w.slice(0,P),w=w.slice(P),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var T=this.hostname.split(/\./),U=(k=0,T.length);k<U;k++){var O=T[k];if(O&&!O.match(h)){for(var M="",L=0,R=O.length;L<R;L++)O.charCodeAt(L)>127?M+="x":M+=O[L];if(!M.match(h)){var N=T.slice(0,k),D=T.slice(k+1),j=O.match(p);j&&(N.push(j[1]),D.unshift(j[2])),D.length&&(w="/"+D.join(".")+w),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!g[_])for(k=0,U=l.length;k<U;k++){var z=l[k];if(-1!==w.indexOf(z)){var K=encodeURIComponent(z);K===z&&(K=escape(z)),w=w.split(z).join(K)}}var q=w.indexOf("#");-1!==q&&(this.hash=w.substr(q),w=w.slice(0,q));var H=w.indexOf("?");if(-1!==H?(this.search=w.substr(H),this.query=w.substr(H+1),t&&(this.query=y.parse(this.query)),w=w.slice(0,H)):t&&(this.search="",this.query={}),w&&(this.pathname=w),m[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(w(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var w=n.pathname&&"/"===n.pathname.charAt(0),S=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=S||w||n.host&&e.pathname,_=b,E=n.pathname&&n.pathname.split("/")||[],C=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(C&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===E[0])),S)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(C)n.hostname=n.host=E.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=E.slice(-1)[0],P=(n.host||e.host||E.length>1)&&("."===A||".."===A)||""===A,k=0,x=E.length;x>=0;x--)"."===(A=E[x])?E.splice(x,1):".."===A?(E.splice(x,1),k++):k&&(E.splice(x,1),k--);if(!b&&!_)for(;k--;k)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),P&&"/"!==E.join("/").substr(-1)&&E.push("");var I,T=""===E[0]||E[0]&&"/"===E[0].charAt(0);C&&(n.hostname=n.host=T?"":E.length?E.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(b=b||n.host&&E.length)&&!T&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},5877:(e,t,n)=>{var r=n(3570),i=n(1171),o=i;o.v1=r,o.v4=i,e.exports=o},5327:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},5217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},3570:(e,t,n)=>{var r,i,o=n(5217),s=n(5327),a=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=p-a+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(d=d+1&16383),(v<0||p>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=g,i=d;var m=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var y=p/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var w=0;w<6;++w)l[c+w]=f[w];return t||s(l)}},1171:(e,t,n)=>{var r=n(5217),i=n(5327);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},6249:()=>{},2480:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e,t,r;function i(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function o(e){return void 0!==e.redirectSignIn}!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(e||(e={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(t||(t={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(r||(r={}));var s,a=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},c=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e},l={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(s||(s={}));var f=function(){function e(e,t){void 0===t&&(t=s.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var u=this.level;e.LOG_LEVEL&&(u=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(u=window.LOG_LEVEL);var c=l[u],f=l[t];if(f>=c){var d=console.log.bind(console);t===s.ERROR&&console.error&&(d=console.error.bind(console)),t===s.WARN&&console.warn&&(d=console.warn.bind(console));var h="["+t+"] "+this._ts()+" "+this.name,p="";if(1===i.length&&"string"==typeof i[0])d(p=h+" - "+i[0]);else if(1===i.length)p=h+" "+i[0],d(h,i[0]);else if("string"==typeof i[0]){var g=i.slice(1);1===g.length&&(g=g[0]),p=h+" - "+i[0]+" "+g,d(h+" - "+i[0],g)}else p=h+" "+i,d(h,i);try{for(var v=a(this._pluggables),m=v.next();!m.done;m=v.next()){var y=m.value,w={message:p,timestamp:Date.now()};y.pushLogs([w])}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,c([s.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,c([s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,c([s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,c([s.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,c([s.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,c([s.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)},h=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e},g=new f("Hub"),v="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var m=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void g.warn("No listeners for "+e);this.patterns=p(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void g.warn("No listeners for "+e);this.listeners[e]=p(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===v||g.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:d({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){g.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))g.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){g.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){g.error(e)}})),this.patterns.length>0){if(!n.message)return void g.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=h(n).slice(1),o=d(d({},e),{patternInfo:r});try{t.callback(o)}catch(e){g.error(e)}}}))}},e}())("__default__");var y={},w=function(){function e(){}return e.setItem=function(e,t){return y[e]=t,y[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(y,e)?y[e]:void 0},e.removeItem=function(e){return delete y[e]},e.clear=function(){return y={}},e}(),S=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=w}}return e.prototype.getStorage=function(){return this.storageWindow},e}();var b=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],_=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},E=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return void 0===o?void 0===i?0:1*r:void 0===i||i<o?-1*r:i>o?1*r:0})),!0},C=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},A=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=b.filter((function(e){return n.endsWith("."+e.ext)}));return r.length>0?r[0].type:t},P=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},k=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},x=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},I=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},T=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},U=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!M(e))return e;var r={};for(var i in e){if(e.hasOwnProperty(i))r[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=n.includes(i)?e[i]:U(e[i],t,n)}return r},O=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!M(e))return e;var r={};for(var i in e){if(e.hasOwnProperty(i))r[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=n.includes(i)?e[i]:O(e[i],t,n)}return r},M=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)};!function(){function e(){}e.isEmpty=_,e.sortByField=E,e.objectLessAttributes=C,e.filenameToContentType=A,e.isTextFile=P,e.generateRandomString=k,e.makeQuerablePromise=x,e.isWebWorker=I,e.browserOrNode=T,e.transferKeyToLowerCase=U,e.transferKeyToUpperCase=O,e.isStrictObject=M}();var L=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},N=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},D=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},j=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(D(arguments[t]));return e},F=new f("Util"),B=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return L(t,e),t}(Error);var z=3e5;var K=function(e,t,n,r){return void 0===n&&(n=z),function(e,t,n,r){return R(this,void 0,void 0,(function(){var i=this;return N(this,(function(o){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise((function(o,s){return R(i,void 0,void 0,(function(){var i,a,u,c,l,f,d;return N(this,(function(h){switch(h.label){case 0:i=0,a=!1,c=function(){},r&&r.then((function(){a=!0,clearTimeout(u),c()})),f=function(){var r,f,d,h;return N(this,(function(p){switch(p.label){case 0:i++,F.debug(e.name+" attempt #"+i+" with this vars: "+JSON.stringify(t)),p.label=1;case 1:return p.trys.push([1,3,,7]),r={},f=o,[4,e.apply(void 0,j(t))];case 2:return[2,(r.value=f.apply(void 0,[p.sent()]),r)];case 3:return d=p.sent(),l=d,F.debug("error on "+e.name,d),(g=d)&&g.nonRetryable?(F.debug(e.name+" non retryable error",d),[2,{value:s(d)}]):(h=n(i,t,d),F.debug(e.name+" retrying in "+h+" ms"),!1===h||a?[2,{value:s(d)}]:[3,4]);case 4:return[4,new Promise((function(e){c=e,u=setTimeout(c,h)}))];case 5:p.sent(),p.label=6;case 6:return[3,7];case 7:return[2]}var g}))},h.label=1;case 1:return a?[3,3]:[5,f()];case 2:return"object"==typeof(d=h.sent())?[2,d.value]:[3,1];case 3:return s(l),[2]}}))}))}))]}))}))}(e,t,function(e){return void 0===e&&(e=z),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n),r)},q=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},H=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},V=new f("CognitoCredentials"),W=new Promise((function(e,t){return T().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(V.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(V.debug("not in the browser, directly resolved"),e())})),G=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return q(this,void 0,void 0,(function(){return H(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(V.debug("need to wait for the Google SDK loaded"),[4,W]);case 1:e.sent(),this.initialized=!0,V.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return T().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(V.debug("google Auth undefined"),n(new B("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(V.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new B("Failed to reload google auth response"))}))):n(new B("User is not signed in with Google"))})).catch((function(e){V.debug("Failed to refresh google token",e),n(new B("Failed to refresh google token"))}))})):(V.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}();var $=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Y=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},J=new f("CognitoCredentials"),Z=new Promise((function(e,t){return T().isBrowser?window.FB?(J.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(J.debug("not in the browser, directly resolved"),e())})),Q=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return $(this,void 0,void 0,(function(){return Y(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(J.debug("need to wait for the Facebook SDK loaded"),[4,Z]);case 1:e.sent(),this.initialized=!0,J.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(T().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return J.debug(t),Promise.reject(new B(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){s="the jwtToken is undefined";J.debug(s),n(new B(s))}t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";J.debug(s),n(new B(s))}}),{scope:"public_profile,email"})}))},e}();var X=new G,ee=new Q,te="aws-amplify/4.7.11",ne={userAgent:te+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(ne.product=navigator.product||"",ne.navigator=navigator||null,"ReactNative"===navigator.product)ne.userAgent=te+" react-native",ne.isReactNative=!0;else ne.userAgent=te+" js",ne.isReactNative=!1;var re=function(e){return""+ne.userAgent+(e||"")};var ie=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},oe=new f("Amplify"),se=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=f,this.ServiceWorker=null}return e.prototype.register=function(e){oe.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):oe.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),oe.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=ie(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}());var ae=n(655),ue=function(e,t){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ue(e,t)};function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ue(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},le.apply(this,arguments)};function fe(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function de(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function he(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}var pe,ge,ve,me,ye,we,Se,be,_e,Ee,Ce,Ae,Pe,ke,xe,Ie,Te,Ue,Oe,Me,Le,Re,Ne,De,je,Fe,Be,ze,Ke,qe,He,Ve,We,Ge,$e,Ye,Je,Ze,Qe,Xe,et,tt,nt,rt,it,ot,st,at,ut,ct,lt,ft,dt,ht,pt,gt,vt;Object.create;!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(pe||(pe={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ge||(ge={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ve||(ve={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(me||(me={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ye||(ye={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(we||(we={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Se||(Se={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(be||(be={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(_e||(_e={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ee||(Ee={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ce||(Ce={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(Ae||(Ae={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Pe||(Pe={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ke||(ke={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(xe||(xe={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ie||(Ie={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Te||(Te={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ue||(Ue={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Oe||(Oe={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Me||(Me={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Le||(Le={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Re||(Re={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ne||(Ne={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(De||(De={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(je||(je={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Fe||(Fe={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Be||(Be={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(ze||(ze={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ke||(Ke={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(qe||(qe={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(He||(He={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ve||(Ve={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(We||(We={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ge||(Ge={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}($e||($e={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ye||(Ye={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Je||(Je={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Ze||(Ze={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Qe||(Qe={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(Xe||(Xe={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(et||(et={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(tt||(tt={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(nt||(nt={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(rt||(rt={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(it||(it={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ot||(ot={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(st||(st={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(at||(at={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ut||(ut={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ct||(ct={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(lt||(lt={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ft||(ft={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(dt||(dt={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(ht||(ht={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(pt||(pt={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(gt||(gt={})),function(e){e.filterSensitiveLog=function(e){return le({},e)}}(vt||(vt={}));var mt=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),yt=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,ae.__assign)((0,ae.__assign)({},this),{headers:(0,ae.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return(0,ae.__assign)((0,ae.__assign)({},e),((r={})[n]=Array.isArray(i)?(0,ae.__spread)(i):i,r))}),{}))),n},e}();var wt=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return de(this,(function(m){switch(m.label){case 0:return r=[le({},e)],v={},[4,$t(e.body,t)];case 1:switch(n=le.apply(void 0,r.concat([(v.body=m.sent(),v)])),o="UnknownError",o=Yt(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,bt(n,t)];case 3:return i=le.apply(void 0,[le.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 4:return a=[{}],[4,_t(n,t)];case 5:return i=le.apply(void 0,[le.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 6:return u=[{}],[4,Et(n,t)];case 7:return i=le.apply(void 0,[le.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 8:return c=[{}],[4,Ct(n,t)];case 9:return i=le.apply(void 0,[le.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 10:return l=[{}],[4,Pt(n,t)];case 11:return i=le.apply(void 0,[le.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 12:return f=[{}],[4,kt(n,t)];case 13:return i=le.apply(void 0,[le.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 14:return d=[{}],[4,xt(n,t)];case 15:return i=le.apply(void 0,[le.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 16:return h=[{}],[4,It(n,t)];case 17:return i=le.apply(void 0,[le.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=le(le({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Vt(e)}),m.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}}))}))},St=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return de(this,(function(m){switch(m.label){case 0:return r=[le({},e)],v={},[4,$t(e.body,t)];case 1:switch(n=le.apply(void 0,r.concat([(v.body=m.sent(),v)])),o="UnknownError",o=Yt(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,bt(n,t)];case 3:return i=le.apply(void 0,[le.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 4:return a=[{}],[4,_t(n,t)];case 5:return i=le.apply(void 0,[le.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 6:return u=[{}],[4,Ct(n,t)];case 7:return i=le.apply(void 0,[le.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 8:return c=[{}],[4,At(n,t)];case 9:return i=le.apply(void 0,[le.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 10:return l=[{}],[4,Pt(n,t)];case 11:return i=le.apply(void 0,[le.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 12:return f=[{}],[4,kt(n,t)];case 13:return i=le.apply(void 0,[le.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 14:return d=[{}],[4,xt(n,t)];case 15:return i=le.apply(void 0,[le.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 16:return h=[{}],[4,It(n,t)];case 17:return i=le.apply(void 0,[le.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:Vt(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=le(le({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Vt(e)}),m.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}}))}))},bt=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=Lt(n,t),[2,le({name:"ExternalServiceException",$fault:"client",$metadata:Vt(e)},r)]}))}))},_t=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=Dt(n,t),[2,le({name:"InternalErrorException",$fault:"server",$metadata:Vt(e)},r)]}))}))},Et=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=jt(n,t),[2,le({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Vt(e)},r)]}))}))},Ct=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=Ft(n,t),[2,le({name:"InvalidParameterException",$fault:"client",$metadata:Vt(e)},r)]}))}))},At=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=Bt(n,t),[2,le({name:"LimitExceededException",$fault:"client",$metadata:Vt(e)},r)]}))}))},Pt=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=zt(n,t),[2,le({name:"NotAuthorizedException",$fault:"client",$metadata:Vt(e)},r)]}))}))},kt=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=Kt(n,t),[2,le({name:"ResourceConflictException",$fault:"client",$metadata:Vt(e)},r)]}))}))},xt=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=qt(n,t),[2,le({name:"ResourceNotFoundException",$fault:"client",$metadata:Vt(e)},r)]}))}))},It=function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n=e.body,r=Ht(n,t),[2,le({name:"TooManyRequestsException",$fault:"client",$metadata:Vt(e)},r)]}))}))},Tt=function(e,t){return le(le(le({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Ot(e.Logins,t)})},Ut=function(e,t){return le(le(le({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:Ot(e.Logins,t)})},Ot=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=he(t,2),i=r[0],o=r[1];return null===o?e:le(le({},e),((n={})[i]=o,n))}),{})},Mt=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},Lt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Rt=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?Mt(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Nt=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},Dt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},jt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ft=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Bt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},zt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Kt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},qt=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ht=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Vt=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Wt=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Gt=function(e,t,n,r,i){return fe(void 0,void 0,void 0,(function(){var o,s,a,u,c,l;return de(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new yt(l)]}}))}))},$t=function(e,t){return function(e,t){return Wt(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Yt=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},Jt={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Zt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Qt(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var i,o;return(0,ae.__generator)(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:return i=s.sent().response,[4,t(i,e)];case 2:return o=s.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),Jt),r.add(function(e,t){return function(n,r){return function(r){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,ae.__generator)(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n((0,ae.__assign)((0,ae.__assign)({},r),{request:i}))]}}))}))}}}(e,t),Zt)}}}var Xt=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,(0,ae.__assign)({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,(0,ae.__assign)({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,ae.__spread)(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,ae.__spread)(i(e)))})),t},o=function(){var n,r=[],o=[],s={};return e.forEach((function(e){var t=(0,ae.__assign)((0,ae.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),r.push(t)})),t.forEach((function(e){var t=(0,ae.__assign)((0,ae.__assign)({},e),{before:[],after:[]});t.name&&(s[t.name]=t),o.push(t)})),o.forEach((function(e){if(e.toMiddleware){var t=s[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}})),(n=r,n.sort((function(e,t){return en[t.step]-en[e.step]||tn[t.priority||"normal"]-tn[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,(0,ae.__spread)(t)),e}),[]).map((function(e){return e.middleware}))},s={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,s=(0,ae.__assign)({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=e.findIndex((function(e){return e.name===i})),u=e[a];if(u.step!==s.step||u.priority!==s.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+s.priority+" priority in "+s.step+" step.");e.splice(a,1)}n.add(i)}e.push(s)},addRelativeTo:function(e,r){var i=r.name,o=r.override,s=(0,ae.__assign)({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=t.findIndex((function(e){return e.name===i})),u=t[a];if(u.toMiddleware!==s.toMiddleware||u.relation!==s.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+s.relation+' "'+s.toMiddleware+'" middleware.');t.splice(a,1)}n.add(i)}t.push(s)},clone:function(){return r(Xt())},use:function(e){e.applyToStack(s)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(Xt());return t.use(e),t},applyToStack:r,resolve:function(e,t){var n,r;try{for(var i=(0,ae.__values)(o().reverse()),s=i.next();!s.done;s=i.next()){e=(0,s.value)(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return s},en={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},tn={high:3,normal:2,low:1},nn=function(){function e(e){this.middlewareStack=Xt(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),rn=function(){this.middlewareStack=Xt()};function on(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var sn=function(e){return Array.isArray(e)?e:[e]},an=function(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]["#text"]?e[t]=e[t]["#text"]:"object"==typeof e[t]&&null!==e[t]&&(e[t]=an(e[t]));return e},un=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,(0,ae.__spread)([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};un.prototype=Object.create(String.prototype,{constructor:{value:un,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(un,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,ae.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(un);var cn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ln=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fn(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds();return cn[r]+", "+(i<10?"0"+i:""+i)+" "+ln[n]+" "+t+" "+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)+":"+(a<10?"0"+a:""+a)+" GMT"}var dn="***SensitiveInformation***",hn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ce(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:Le.filterSensitiveLog,outputFilterSensitiveLog:Ne.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(Tt(e,t)),[2,Gt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r,i;return de(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,wt(e,t)]:[4,$t(e.body,t)];case 1:return n=o.sent(),r=Rt(n,t),i=le({$metadata:Vt(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(rn),pn=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return(0,ae.__extends)(t,e),t}(Error);function gn(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=(0,ae.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function vn(e){var t=this;return function(){return(0,ae.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h;return(0,ae.__generator)(this,(function(p){switch(p.label){case 0:return l=(c=e.client).send,f=hn.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,gn(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(hn,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new pn("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new pn("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new pn("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}}))}))}}var mn=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ce(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:je.filterSensitiveLog,outputFilterSensitiveLog:Fe.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r;return de(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(Ut(e,t)),[2,Gt(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return fe(void 0,void 0,void 0,(function(){var n,r,i;return de(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,St(e,t)]:[4,$t(e.body,t)];case 1:return n=o.sent(),r=Nt(n,t),i=le({$metadata:Vt(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(rn),yn="IdentityIds",wn=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(yn,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(yn,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(yn)))})).catch((function(e){throw n.close(),e}))}))},e}(),Sn=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function bn(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new wn:"object"==typeof window&&window.localStorage?window.localStorage:Sn:r,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,d=function(){return(0,ae.__awaiter)(t,void 0,void 0,(function(){var e,t,r,c,l,h,p,g,v;return(0,ae.__generator)(this,(function(m){switch(m.label){case 0:return(t=f)?[4,i.getItem(f)]:[3,2];case 1:t=m.sent(),m.label=2;case 2:return(e=t)?[3,7]:(h=(l=o).send,p=mn.bind,v={AccountId:n,IdentityPoolId:a},u?[4,gn(u)]:[3,4]);case 3:return g=m.sent(),[3,5];case 4:g=void 0,m.label=5;case 5:return[4,h.apply(l,[new(p.apply(mn,[void 0,(v.Logins=g,v)]))])];case 6:r=m.sent().IdentityId,c=void 0===r?function(){throw new pn("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(i.setItem(f,e)).catch((function(){})),m.label=7;case 7:return[2,(d=vn({client:o,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return d().catch((function(e){return(0,ae.__awaiter)(t,void 0,void 0,(function(){return(0,ae.__generator)(this,(function(t){throw f&&Promise.resolve(i.removeItem(f)).catch((function(){})),e}))}))}))}}var _n=n(7643),En=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Cn)},Cn=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function An(e){var t,n,r=[];try{for(var i=(0,ae.__values)(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=En(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)r.push(s+"="+En(a[u]));else{var l=s;(a||"string"==typeof a)&&(l+="="+En(a)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}for(var Pn=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var s=An(e.query);s&&(o+="?"+s)}var a=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=(0,ae.__values)(r.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new mt({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new mt({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),kn={},xn=new Array(64),In=0,Tn="A".charCodeAt(0),Un="Z".charCodeAt(0);In+Tn<=Un;In++){var On=String.fromCharCode(In+Tn);kn[On]=In,xn[In]=On}for(In=0,Tn="a".charCodeAt(0),Un="z".charCodeAt(0);In+Tn<=Un;In++){On=String.fromCharCode(In+Tn);var Mn=In+26;kn[On]=Mn,xn[Mn]=On}for(In=0;In<10;In++){kn[In.toString(10)]=In+52;On=In.toString(10),Mn=In+52;kn[On]=Mn,xn[Mn]=On}kn["+"]=62,xn[62]="+",kn["/"]=63,xn[63]="/";function Ln(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)"="!==e[a]?(o|=kn[e[a]]<<6*(u-a),s+=6):o>>=6;var c=i/4*3;o>>=s%8;for(var l=Math.floor(s/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function Rn(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,s=Math.min(n+3,e.length);o<s;o++)r|=e[o]<<8*(s-o-1),i+=8;var a=Math.ceil(i/6);r<<=6*a-i;for(var u=1;u<=a;u++){var c=6*(a-u);t+=xn[(r&63<<c)>>c]}t+="==".slice(0,4-a)}return t}var Nn=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,ae.__generator)(this,(function(r){switch(r.label){case 0:return[4,Dn(e)];case 1:return t=r.sent(),n=Ln(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return(0,ae.__generator)(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(s=i.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function Dn(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var jn=function(e){return function(){return Promise.reject(e)}},Fn={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Bn=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,ae.__generator)(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=(0,ae.__spread)(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),Fn)}}},zn=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],Kn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],qn=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Hn=[500,502,503,504],Vn=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||Kn.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Wn=n(5877),Gn=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},$n=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return zn.includes(e.name)}(e)||Vn(e)||function(e){var t;return qn.includes(e.name)||Hn.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Yn="standard",Jn=function(){function e(e,t){var n,r,i,o,s,a,u,c;this.maxAttemptsProvider=e,this.mode=Yn,this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:$n,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Gn,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(s=o=500,a=o,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=a},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,s)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var e;return(0,ae.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return(0,ae.__generator)(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),s=t.request,yt.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,Wn.v4)()),a=function(){var a,c,l,f,d;return(0,ae.__generator)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),yt.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return a=h.sent(),c=a.response,l=a.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(Vn(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,a()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}(),Zn=function(e){var t=Qn(e.maxAttempts);return(0,ae.__assign)((0,ae.__assign)({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new Jn(t)})},Qn=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Xn(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}var er=n(1206),tr=n.n(er),nr=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var e,r,i,o,s,a,u,c,l;return(0,ae.__generator)(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?tr().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser",(null!==(u=null===(a=null==e?void 0:e.browser)||void 0===a?void 0:a.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}};var rr="cognito-identity.{region}.amazonaws.com",ir=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),or=new Set(["cn-north-1","cn-northwest-1"]),sr=new Set(["us-iso-east-1"]),ar=new Set(["us-isob-east-1"]),ur=new Set(["us-gov-east-1","us-gov-west-1"]);var cr=function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,s=n.protocol,a=n.search;return a&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=(0,ae.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,a=(0,ae.__read)(s.split("="),2),u=a[0],c=a[1],l=void 0===c?null:c;u=decodeURIComponent(u),l&&(l=decodeURIComponent(l)),u in r?Array.isArray(r[u])?r[u].push(l):r[u]=[r[u],l]:r[u]=l}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(a)),{hostname:r,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}},lr={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:ir.has(e)&&(n={hostname:rr.replace("{region}",e),partition:"aws"}),or.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),sr.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),ar.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),ur.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:rr.replace("{region}",e),partition:"aws"})}return Promise.resolve(le({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:cr},fr=le(le({},lr),{runtime:"browser",base64Decoder:Ln,base64Encoder:Rn,bodyLengthChecker:Xn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:nr({serviceId:lr.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:jn("Region is missing"),requestHandler:new Pn,sha256:_n.Sha256,streamCollector:Nn,utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),dr=function(e){var t;return(0,ae.__assign)((0,ae.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?hr(e):function(){return pr(e)},isCustomEndpoint:!!e.endpoint})},hr=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},pr=function(e){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,i,o;return(0,ae.__generator)(this,(function(s){switch(s.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=s.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},gr=function(e){if(!e.region)throw new Error("Region is missing");return(0,ae.__assign)((0,ae.__assign)({},e),{region:vr(e.region)})},vr=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},mr="content-length";var yr={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},wr=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,ae.__awaiter)(t,void 0,void 0,(function(){var t,i,o,s,a;return(0,ae.__generator)(this,(function(u){return t=r.request,yt.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(mr)&&void 0!==(s=e(i))&&(t.headers=(0,ae.__assign)((0,ae.__assign)({},t.headers),((a={})["content-length"]=String(s),a)))),[2,n((0,ae.__assign)((0,ae.__assign)({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),yr)}}};for(var Sr={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},br=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var r,i;return(0,ae.__generator)(this,(function(o){return yt.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Sr)}}},_r={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Er=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f;return(0,ae.__generator)(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),s?("function"==typeof s.info&&(c=u.output,l=c.$metadata,f=(0,ae.__rest)(c,["$metadata"]),s.info({clientName:r,commandName:i,input:o(n.input),output:a(f),metadata:l})),[2,u]):[2,u]}}))}))}}),_r)}}},Cr={},Ar={},Pr=0;Pr<256;Pr++){var kr=Pr.toString(16).toLowerCase();1===kr.length&&(kr="0"+kr),Cr[Pr]=kr,Ar[kr]=Pr}function xr(e){for(var t="",n=0;n<e.byteLength;n++)t+=Cr[e[n]];return t}var Ir="X-Amz-Date",Tr="X-Amz-Signature",Ur="X-Amz-Security-Token",Or="authorization",Mr=Ir.toLowerCase(),Lr=[Or,Mr,"date"],Rr=Tr.toLowerCase(),Nr="x-amz-content-sha256",Dr=Ur.toLowerCase(),jr={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Fr=/^proxy-/,Br=/^sec-/,zr="AWS4-HMAC-SHA256",Kr="AWS4-HMAC-SHA256-PAYLOAD",qr="aws4_request",Hr={},Vr=[];function Wr(e,t,n){return e+"/"+t+"/"+n+"/"+qr}function Gr(e,t,n){var r=new e(t);return r.update(n),r.digest()}function $r(e,t,n){var r,i,o=e.headers,s={};try{for(var a=(0,ae.__values)(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,l=c.toLowerCase();(l in jr||(null==t?void 0:t.has(l))||Fr.test(l)||Br.test(l))&&(!n||n&&!n.has(l))||(s[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function Yr(e,t){var n=e.headers,r=e.body;return(0,ae.__awaiter)(this,void 0,void 0,(function(){var e,i,o,s,a,u,c;return(0,ae.__generator)(this,(function(l){switch(l.label){case 0:try{for(e=(0,ae.__values)(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===Nr)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((s=new t).update(r),a=xr,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function Jr(e){var t=e.headers,n=e.query,r=(0,ae.__rest)(e,["headers","query"]);return(0,ae.__assign)((0,ae.__assign)({},r),{headers:(0,ae.__assign)({},t),query:n?Zr(n):void 0})}function Zr(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return(0,ae.__assign)((0,ae.__assign)({},t),((r={})[n]=Array.isArray(i)?(0,ae.__spread)(i):i,r))}),{})}function Qr(e){var t,n;e="function"==typeof e.clone?e.clone():Jr(e);try{for(var r=(0,ae.__values)(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;Lr.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function Xr(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var ei=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=ri(r),this.credentialProvider=ii(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,ae.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,S,b,_,E,C,A;return(0,ae.__generator)(this,(function(P){switch(P.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,s=t.unsignableHeaders,a=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=P.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=P.sent(),P.label=4;case 4:return d=h,p=ti(r),g=p.longDate,v=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=Wr(v,d,null!=l?l:this.service),y=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():Jr(e),s=o.headers,a=o.query,u=void 0===a?{}:a;try{for(var c=(0,ae.__values)(Object.keys(s)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=s[f],delete s[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return(0,ae.__assign)((0,ae.__assign)({},e),{headers:s,query:u})}(Qr(e),{unhoistableHeaders:a}),f.sessionToken&&(y.query[Ur]=f.sessionToken),y.query["X-Amz-Algorithm"]=zr,y.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,y.query["X-Amz-Date"]=g,y.query["X-Amz-Expires"]=o.toString(10),w=$r(y,s,u),y.query["X-Amz-SignedHeaders"]=ni(w),S=y.query,b=Tr,_=this.getSignature,E=[g,m,this.getSigningKey(f,d,v,l)],C=this.createCanonicalRequest,A=[y,w],[4,Yr(e,this.sha256)]);case 5:return[4,_.apply(this,E.concat([C.apply(this,A.concat([P.sent()]))]))];case 6:return S[b]=P.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return(0,ae.__awaiter)(this,void 0,void 0,(function(){return(0,ae.__generator)(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return(0,ae.__awaiter)(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,g,v;return(0,ae.__generator)(this,(function(m){switch(m.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,i=ti(o),c=i.shortDate,l=i.longDate,f=Wr(c,e,null!=u?u:this.service),[4,Yr({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(h=new this.sha256).update(n),g=xr,[4,h.digest()];case 5:return p=g.apply(void 0,[m.sent()]),v=[Kr,l,f,s,p,d].join("\n"),[2,this.signString(v,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,s=n.signingService;return(0,ae.__awaiter)(this,void 0,void 0,(function(){var t,n,r,a,u,c,l,f;return(0,ae.__generator)(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,a=ti(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,a,s)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=xr,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,s=n.unsignableHeaders,a=n.signingRegion,u=n.signingService;return(0,ae.__awaiter)(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,g,v;return(0,ae.__generator)(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,c=Qr(e),l=ti(i),f=l.longDate,d=l.shortDate,h=Wr(d,n,null!=u?u:this.service),c.headers[Mr]=f,t.sessionToken&&(c.headers[Dr]=t.sessionToken),[4,Yr(c,this.sha256)];case 5:return p=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=(0,ae.__values)(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(Nr,c.headers)&&this.applyChecksum&&(c.headers[Nr]=p),g=$r(c,s,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,g,p))];case 6:return v=m.sent(),c.headers[Or]="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+ni(g)+", Signature="+v,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],s={},a=function(e){if(e.toLowerCase()===Rr)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=En(e)+"="+En(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([En(e)+"="+En(n)])}),[]).join("&"))};try{for(var u=(0,ae.__values)(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())a(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,ae.__generator)(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+xr(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,u;return(0,ae.__generator)(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=xr,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var o,s,a,u,c,l,f,d,h;return(0,ae.__generator)(this,(function(p){switch(p.label){case 0:return[4,Gr(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(s=n+":"+r+":"+i+":"+xr(o)+":"+t.sessionToken)in Hr)return[2,Hr[s]];for(Vr.push(s);Vr.length>50;)delete Hr[Vr.shift()];a="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=(0,ae.__values)([n,r,i,qr]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Gr(e,a,l)]);case 4:a=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Hr[s]=a]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),ti=function(e){var t=Xr(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},ni=function(e){return Object.keys(e).sort().join(";")},ri=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},ii=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function oi(e){var t,n=this,r=si(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,u=e.sha256;return t=e.signer?si(e.signer):function(){return si(e.region)().then((function(t){return(0,ae.__awaiter)(n,void 0,void 0,(function(){return(0,ae.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=(0,ae.__read)(t,2),i=n[0],s=n[1],a=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||c||e.serviceId,new ei({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},(0,ae.__assign)((0,ae.__assign)({},e),{systemClockOffset:a,signingEscapePath:o,credentials:r,signer:t})}function si(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var ai=function(e){return new Date(Date.now()+e)};function ui(e){return function(t,n){return function(r){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d;return(0,ae.__generator)(this,(function(h){switch(h.label){case 0:return yt.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,a=t,u=[(0,ae.__assign)({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,a.apply(void 0,[ae.__assign.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return s=h.sent(),c=s.response.headers,(l=c&&(c.date||c.Date))&&(f=Date.parse(l),p=f,g=e.systemClockOffset,Math.abs(ai(g).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,s]}var p,g}))}))}}}var ci={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};function li(e){return(0,ae.__assign)((0,ae.__assign)({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var fi="user-agent",di=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,hi=function(e){var t=(0,ae.__read)(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),s=n.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(di,"_")})).join("/")},pi={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},gi=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,l,f;return(0,ae.__generator)(this,(function(d){switch(d.label){case 0:return i=r.request,yt.isInstance(i)?(o=i.headers,s=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(hi))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return a=d.sent().map(hi),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(hi))||[],o["x-amz-user-agent"]=(0,ae.__spread)(a,s,u).join(" "),c=(0,ae.__spread)(a.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[fi]=o[fi]?o[fi]+" "+c:c),[2,e((0,ae.__assign)((0,ae.__assign)({},r),{request:i}))]}}))}))}}),pi)}}},vi=function(e){function t(t){var n=this,r=le(le({},fr),t),i=gr(r),o=oi(dr(i)),s=li(Zn(o));return(n=e.call(this,s)||this).config=s,n.middlewareStack.use(Bn(n.config)),n.middlewareStack.use(wr(n.config)),n.middlewareStack.use(br(n.config)),n.middlewareStack.use(Er(n.config)),n.middlewareStack.use(gi(n.config)),n}return ce(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(nn),mi=function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mi.apply(this,arguments)},yi=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},wi=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Si=new f("Credentials"),bi=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=X.refreshGoogleToken,this._refreshHandlers.facebook=ee.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=mi(mi({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new S).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return Si.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return Si.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Si.debug("getting old cred promise"):(Si.debug("getting new cred promise"),this._gettingCredPromise=x(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return yi(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return wi(this,(function(a){switch(a.label){case 0:if(Si.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Si.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Si.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?se.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Si.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=a.sent(),[4,n.currentSession()];case 3:return i=a.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),Si.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Si.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var s=this;return Si.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(Si.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):s._refreshHandlers[t]&&"function"==typeof s._refreshHandlers[t]?(Si.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[t],provider:t,user:n})):(Si.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return K(n,[],1e4).then((function(e){return Si.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Si.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Si.debug("no credentials for expiration check"),!0;Si.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return yi(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u=this;return wi(this,(function(c){switch(c.label){case 0:return Si.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(i=this,[4,this._getGuestIdentityId()]):(Si.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Si.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=i._identityId=c.sent(),o=new vi({region:n,customUserAgent:re()}),s=void 0,r?s=vn({identityId:r,client:o})():(a=function(){return yi(u,void 0,void 0,(function(){var e;return wi(this,(function(n){switch(n.label){case 0:return[4,o.send(new mn({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,vn({client:o,identityId:e})()]}}))}))},s=a().catch((function(e){return yi(u,void 0,void 0,(function(){return wi(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(s,"guest",!1,null).then((function(e){return e})).catch((function(e){return yi(u,void 0,void 0,(function(){var n,i=this;return wi(this,(function(a){switch(a.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(Si.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return a.sent(),n=function(){return yi(i,void 0,void 0,(function(){var e;return wi(this,(function(n){switch(n.label){case 0:return[4,o.send(new mn({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,vn({client:o,identityId:e})()]}}))}))},s=n().catch((function(e){return yi(i,void 0,void 0,(function(){return wi(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return Si.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return Si.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new vi({region:u,customUserAgent:re()}),l=void 0;r?l=vn({identityId:r,logins:o,client:c})():l=bn({logins:o,identityPoolId:a,client:c})();return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Si.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId;if(!s)return Si.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return Si.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=new vi({region:i,customUserAgent:re()}),c=yi(t,void 0,void 0,(function(){var e,t,n,r,i,o,c,l,f,d;return wi(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new mn({IdentityPoolId:s,Logins:a}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new hn({IdentityId:e||t,Logins:a}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,c=i.Expiration,l=i.SecretKey,f=i.SessionToken,d=r.IdentityId,this._identityId=d,e?(Si.debug("The guest identity "+e+" has been successfully linked to the logins"),e===d&&Si.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:l,sessionToken:f,expiration:c,identityId:d}]}}))})).catch((function(e){return yi(t,void 0,void 0,(function(){return wi(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(s,a){e.then((function(e){return yi(i,void 0,void 0,(function(){var i,a,u,c,l;return wi(this,(function(f){switch(f.label){case 0:if(Si.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:l}))}catch(e){Si.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return s(o._credentials),[2]}}))}))})).catch((function(t){if(t)return Si.debug("Failed to load credentials",e),Si.debug("Error loading credentials",t),void a(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Si.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return yi(this,void 0,void 0,(function(){return wi(this,(function(e){return this._credentials=null,this._credentials_source=null,Si.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return yi(this,void 0,void 0,(function(){var e,t;return wi(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),Si.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return yi(this,void 0,void 0,(function(){var t,n;return wi(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),Si.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return yi(this,void 0,void 0,(function(){var e;return wi(this,(function(t){return e=this._config.identityPoolId,Si.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),_i=new bi(null);se.register(_i);var Ei=function(){return Ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ei.apply(this,arguments)},Ci=new f("Parser"),Ai=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=Ei(Ei({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),Ci.debug("parse config",e,"to amplifyconfig",n),n},Pi=function(){function e(){}return e.parseMobilehubConfig=Ai,e}();var ki=n(6489);function xi(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var Ii=function(){return Ii=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ii.apply(this,arguments)},Ti=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?ki.Q(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=ki.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),xi(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=xi(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=Ii(Ii({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=ki.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=Ii(Ii({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Ii({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=ki.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();const Ui=Ti;var Oi=T().isBrowser,Mi=function(){function e(e){void 0===e&&(e={}),this.cookies=new Ui,this.store=Oi?window.localStorage:Object.create(null),this.cookies=e.req?new Ui(e.req.headers.cookie):new Ui,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":Oi?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}();
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
var Li,Ri=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),Ni=n(8764),Di=n(8249),ji=n.n(Di),Fi=(n(4433),n(2153)),Bi=n.n(Fi),zi=n(8010),Ki=n.n(zi);if("undefined"!=typeof window&&window.crypto&&(Li=window.crypto),!Li&&"undefined"!=typeof window&&window.msCrypto&&(Li=window.msCrypto),!Li&&void 0!==n.g&&n.g.crypto&&(Li=n.g.crypto),!Li)try{Li=n(6249)}catch(e){}function qi(){if(Li){if("function"==typeof Li.getRandomValues)try{return Li.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof Li.randomBytes)try{return Li.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var Hi=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(qi());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}();const Vi=Wi;function Wi(e,t){null!=e&&this.fromString(e,t)}function Gi(){return new Wi(null)}var $i;var Yi="undefined"!=typeof navigator;Yi&&"Microsoft Internet Explorer"==navigator.appName?(Wi.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},$i=30):Yi&&"Netscape"!=navigator.appName?(Wi.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},$i=26):(Wi.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},$i=28),Wi.prototype.DB=$i,Wi.prototype.DM=(1<<$i)-1,Wi.prototype.DV=1<<$i;Wi.prototype.FV=Math.pow(2,52),Wi.prototype.F1=52-$i,Wi.prototype.F2=2*$i-52;var Ji,Zi,Qi=new Array;for(Ji="0".charCodeAt(0),Zi=0;Zi<=9;++Zi)Qi[Ji++]=Zi;for(Ji="a".charCodeAt(0),Zi=10;Zi<36;++Zi)Qi[Ji++]=Zi;for(Ji="A".charCodeAt(0),Zi=10;Zi<36;++Zi)Qi[Ji++]=Zi;function Xi(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function eo(e,t){var n=Qi[e.charCodeAt(t)];return null==n?-1:n}function to(e){var t=Gi();return t.fromInt(e),t}function no(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function ro(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
function io(e){return Ni.lW.from((new Hi).random(e).toString(),"hex")}ro.prototype.convert=function(e){var t=Gi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Wi.ZERO)>0&&this.m.subTo(t,t),t},ro.prototype.revert=function(e){var t=Gi();return e.copyTo(t),this.reduce(t),t},ro.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},ro.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},ro.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Wi.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},Wi.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},Wi.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=eo(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&Wi.ZERO.subTo(this,this)},Wi.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},Wi.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},Wi.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},Wi.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},Wi.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},Wi.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},Wi.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Wi.ZERO.subTo(t,t)},Wi.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},Wi.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Gi());var o=Gi(),s=this.s,a=e.s,u=this.DB-no(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,g=n.t,v=g-c,m=null==t?Gi():t;for(o.dlShiftTo(v,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),Wi.ONE.dlShiftTo(c,m),m.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var y=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+p)*h);if((n[g]+=o.am(0,y,n,v,0,c))<y)for(o.dlShiftTo(v,m),n.subTo(m,n);n[g]<--y;)n.subTo(m,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&Wi.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&Wi.ZERO.subTo(n,n)}}},Wi.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Wi.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},Wi.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=Xi(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=Xi(n));return i?o:"0"},Wi.prototype.negate=function(){var e=Gi();return Wi.ZERO.subTo(this,e),e},Wi.prototype.abs=function(){return this.s<0?this.negate():this},Wi.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},Wi.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+no(this[this.t-1]^this.s&this.DM)},Wi.prototype.mod=function(e){var t=Gi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Wi.ZERO)>0&&e.subTo(t,t),t},Wi.prototype.equals=function(e){return 0==this.compareTo(e)},Wi.prototype.add=function(e){var t=Gi();return this.addTo(e,t),t},Wi.prototype.subtract=function(e){var t=Gi();return this.subTo(e,t),t},Wi.prototype.multiply=function(e){var t=Gi();return this.multiplyTo(e,t),t},Wi.prototype.divide=function(e){var t=Gi();return this.divRemTo(e,t,null),t},Wi.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=to(1),s=new ro(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var f=Gi();for(s.sqrTo(a[1],f);u<=l;)a[u]=Gi(),s.mulTo(f,a[u-2],a[u]),u+=2}var d,h,p=e.t-1,g=!0,v=Gi();for(i=no(e[p])-1;p>=0;){for(i>=c?d=e[p]>>i-c&l:(d=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(d|=e[p-1]>>this.DB+i-c)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[d].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,v),s.sqrTo(v,o),u-=2;u>0?s.sqrTo(o,v):(h=o,o=v,v=h),s.mulTo(v,a[d],o)}for(;p>=0&&0==(e[p]&1<<i);)s.sqrTo(o,v),h=o,o=v,v=h,--i<0&&(i=this.DB-1,--p)}var m=s.revert(o);return n(null,m),m},Wi.ZERO=to(0),Wi.ONE=to(1);var oo=/^[89a-f]/i,so=function(){function e(e){this.N=new Vi("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new Vi("2",16),this.k=new Vi(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=Ni.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=io(128).toString("hex");return new Vi(e,16)},t.generateRandomString=function(){return io(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=io(16).toString("hex");this.SaltToHashDevices=this.padHex(new Vi(s,16)),this.g.modPow(new Vi(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(Vi.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new Vi(this.UHexHash,16)},t.hash=function(e){var t=e instanceof Ni.lW?ji().lib.WordArray.create(e):e,n=Bi()(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(Ni.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=ji().lib.WordArray.create(Ni.lW.concat([this.infoBits,Ni.lW.from(String.fromCharCode(1),"utf8")])),r=e instanceof Ni.lW?ji().lib.WordArray.create(e):e,i=t instanceof Ni.lW?ji().lib.WordArray.create(t):t,o=Ki()(r,i),s=Ki()(n,o);return Ni.lW.from(s.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(Vi.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Vi.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new Vi(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(Ni.lW.from(o.padHex(t),"hex"),Ni.lW.from(o.padHex(o.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof Vi))throw new Error("Not a BigInteger");var t=e.compareTo(Vi.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=oo.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new Vi(r,16).add(Vi.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),ao=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(Ni.lW.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function uo(e,t){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uo(e,t)}
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var co=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,uo(t,n),r}(ao);function lo(e,t){return lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lo(e,t)}
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var fo=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,lo(t,n),r}(ao),ho=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),po=n(8269),go=n.n(po),vo=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),mo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wo=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=yo[e.getUTCDay()],n=mo[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),So=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),bo={},_o=function(){function e(){}return e.setItem=function(e,t){return bo[e]=t,bo[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(bo,e)?bo[e]:void 0},e.removeItem=function(e){return delete bo[e]},e.clear=function(){return bo={}},e}(),Eo=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=_o}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Co="undefined"!=typeof navigator?navigator.userAgent:"nodejs",Ao=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Eo).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new so(this.pool.getUserPoolName()),s=new wo,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue((function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:l};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,(function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new Vi(c.SRP_B,16),r=new Vi(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=s.getNowString(),a=ji().lib.WordArray.create(Ni.lW.concat([Ni.lW.from(i.pool.getUserPoolName(),"utf8"),Ni.lW.from(i.username,"utf8"),Ni.lW.from(c.SECRET_BLOCK,"base64"),Ni.lW.from(r,"utf8")])),f=ji().lib.WordArray.create(n),d=go().stringify(Ki()(a,f)),h={};h.USERNAME=i.username,h.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,h.TIMESTAMP=r,h.PASSWORD_CLAIM_SIGNATURE=d,null!=i.deviceKey&&(h.DEVICE_KEY=i.deviceKey);var p={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:h,Session:u.Session,ClientMetadata:l};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(h.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(p,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new so(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var l=0;l<a.length;l++)u[l]=a[l].substr(c.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:Ni.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ni.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Co},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new so(this.pool.getUserPoolName()),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new so(this.deviceGroupKey),i=new wo,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(s,a){s&&e.onFailure(s),o.SRP_A=a.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,o){if(t)return e.onFailure(t);var s=o.ChallengeParameters,a=new Vi(s.SRP_B,16),u=new Vi(s.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,a,u,(function(t,r){if(t)return e.onFailure(t);var a=i.getNowString(),u=ji().lib.WordArray.create(Ni.lW.concat([Ni.lW.from(n.deviceGroupKey,"utf8"),Ni.lW.from(n.deviceKey,"utf8"),Ni.lW.from(s.SECRET_BLOCK,"base64"),Ni.lW.from(a,"utf8")])),c=ji().lib.WordArray.create(r),l=go().stringify(Ki()(u,c)),f={};f.USERNAME=n.username,f.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,f.TIMESTAMP=a,f.PASSWORD_CLAIM_SIGNATURE=l,f.DEVICE_KEY=n.deviceKey;var d={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:f,Session:o.Session};n.getUserContextData()&&(d.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",d,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new so(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new so(i.pool.getUserPoolName());r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:Ni.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Ni.lW.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Co},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new So(o);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new fo({IdToken:this.storage.getItem(r)}),u=new co({AccessToken:this.storage.getItem(i)}),c=new ho({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(s),0)||0,f=new vo({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new fo(e),n=new co(e),r=new ho(e);return new vo({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}(),Po=(n(204),{userAgent:"aws-amplify/5.0.4 js",product:"",navigator:null,isReactNative:!1});if("undefined"!=typeof navigator&&navigator.product)if(Po.product=navigator.product||"",Po.navigator=navigator||null,"ReactNative"===navigator.product)Po.userAgent="aws-amplify/5.0.4 react-native",Po.isReactNative=!0;else Po.userAgent="aws-amplify/5.0.4 js",Po.isReactNative=!1;function ko(){}ko.prototype.userAgent=Po.userAgent;const xo=ko;function Io(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Mo(e,t)}function To(e){var t="function"==typeof Map?new Map:void 0;return To=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Uo(e,arguments,Lo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Mo(r,e)},To(e)}function Uo(e,t,n){return Uo=Oo()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Mo(i,n.prototype),i},Uo.apply(null,arguments)}function Oo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mo(e,t){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mo(e,t)}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lo(e)}var Ro=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return Io(t,e),t}(To(Error)),No=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new Ro(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=Fo);return jo(e,t,function(e){var t=100,n=100;return function(r){var i=Math.pow(2,r)*t+n*Math.random();return!(i>e)&&i}}(n))})((function(t){return new Promise((function(n,i){r.request(e,t,(function(e,t){e?i(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":xo.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),Do=function(){};Error;function jo(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return Do(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(Do("error on "+e.name,i),(o=i)&&o.nonRetryable)throw Do(e.name+" non retryable error",i),i;var o,s=n(r,t,i);if(Do(e.name+" retrying in "+s+" ms"),!1!==s)return new Promise((function(e){return setTimeout(e,s)})).then((function(){return jo(e,t,n,r+1)}));throw i}))}var Fo=3e5;
/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */
var Bo=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new No(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new Eo).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new Ao(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Ao(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),zo=n(6808),Ko=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),zo.set(e,t,n),zo.get(e)},t.getItem=function(e){return zo.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),zo.remove(e,t)},t.clear=function(){for(var e=zo.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),qo=n(8575),Ho=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Vo=function(){return Vo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vo.apply(this,arguments)},Wo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Go=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},$o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Yo="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Jo=function(e,t,n){m.dispatch("auth",{event:e,data:t,message:n},"Auth",Yo)},Zo=new f("OAuth"),Qo=function(){function t(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Ho,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return t.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},t.prototype.oauthSignIn=function(t,n,r,i,o,s){void 0===t&&(t="code"),void 0===o&&(o=e.Cognito);var a=this._generateState(32),u=s?a+"-"+s.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(u);var c,l=this._generateRandom(128);c=l,window.sessionStorage.setItem("ouath_pkce_key",c);var f=this._generateChallenge(l),d=this._scopes.join(" "),h="https://"+n+"/oauth2/authorize?"+Object.entries(Vo(Vo({redirect_uri:r,response_type:t,client_id:i,identity_provider:o,scope:d,state:u},"code"===t?{code_challenge:f}:{}),"code"===t?{code_challenge_method:"S256"}:{})).map((function(e){var t=$o(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&");Zo.debug("Redirecting to "+h),this._urlOpener(h,r)},t.prototype._handleCodeFlow=function(e){return Wo(this,void 0,void 0,(function(){var t,n,r,i,s,a,u,c,l,f,d,h,p,g;return Go(this,(function(v){switch(v.label){case 0:return t=((0,qo.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=$o(t,2),i=r[0],o=r[1];return Vo(Vo({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=(0,qo.Qc)(e).pathname||"/",r=(0,qo.Qc)(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",Jo("codeFlow",{},"Retrieving tokens from "+i),s=o(this._config)?this._cognitoClientId:this._config.clientID,a=o(this._config)?this._config.redirectSignIn:this._config.redirectUri,m=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),c=Vo({grant_type:"authorization_code",code:t,client_id:s,redirect_uri:a},(u=m)?{code_verifier:u}:{}),Zo.debug("Calling token endpoint: "+i+" with",c),l=Object.entries(c).map((function(e){var t=$o(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})]):[2];case 1:return[4,v.sent().json()];case 2:if(f=v.sent(),d=f.access_token,h=f.refresh_token,p=f.id_token,g=f.error)throw new Error(g);return[2,{accessToken:d,refreshToken:h,idToken:p}]}var m}))}))},t.prototype._handleImplicitFlow=function(e){return Wo(this,void 0,void 0,(function(){var t,n,r;return Go(this,(function(i){return t=((0,qo.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=$o(t,2),i=r[0],o=r[1];return Vo(Vo({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,Jo("implicitFlow",{},"Got tokens from "+e),Zo.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},t.prototype.handleAuthResponse=function(e){return Wo(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return Go(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?Vo(Vo({},((0,qo.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=$o(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),((0,qo.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=$o(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),Zo.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,Vo.apply(void 0,[Vo.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,Vo.apply(void 0,[Vo.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),Zo.error("Error handling auth response.",a),a;case 6:return[2]}}))}))},t.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},t.prototype.signOut=function(){return Wo(this,void 0,void 0,(function(){var e,t,n;return Go(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=o(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=o(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=$o(e,2);return t[0]+"="+t[1]})).join("&"),Jo("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Zo.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},t.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},t.prototype._generateChallenge=function(e){return this._base64URL(Bi()(e))},t.prototype._base64URL=function(e){return e.toString(go()).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},t.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},t.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},t}();const Xo=Qo;var es;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(es||(es={}));var ts=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ns=new f("AuthError"),rs=function(e){function t(n){var r=this,i=os[n],o=i.message,s=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||o,ns.error(r.log),r}return ts(t,e),t}(Error),is=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return ts(t,e),t}(rs),os={noConfig:{message:es.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:es.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:es.EMPTY_USERNAME},invalidUsername:{message:es.INVALID_USERNAME},emptyPassword:{message:es.EMPTY_PASSWORD},emptyCode:{message:es.EMPTY_CODE},signUpError:{message:es.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:es.NO_MFA},invalidMFA:{message:es.INVALID_MFA},emptyChallengeResponse:{message:es.EMPTY_CHALLENGE},noUserSession:{message:es.NO_USER_SESSION},deviceConfig:{message:es.DEVICE_CONFIG},networkError:{message:es.NETWORK_ERROR},autoSignInError:{message:es.AUTOSIGNIN_ERROR},default:{message:es.DEFAULT_MSG}},ss=function(){return ss=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ss.apply(this,arguments)},as=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},us=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},cs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ls=new f("AuthClass"),fs="aws.cognito.signin.user.admin",ds="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",hs=function(e,t,n){m.dispatch("auth",{event:e,data:t,message:n},"Auth",ds)},ps=function(){function n(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.Credentials=_i,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?hs("tokenRefresh",void 0,"New token retrieved"):hs("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),m.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return n.prototype.getModuleName=function(){return"Auth"},n.prototype.configure=function(e){var n=this;if(!e)return this._config||{};ls.debug("configure Auth");var r=Object.assign({},this._config,Pi.parseMobilehubConfig(e).Auth,e);this._config=r;var i=this._config,s=i.userPoolId,a=i.userPoolWebClientId,u=i.cookieStorage,c=i.oauth,l=i.region,f=i.identityPoolId,d=i.mandatorySignIn,h=i.refreshHandlers,p=i.identityPoolRegion,g=i.clientMetadata,v=i.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw ls.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=u?new Ko(u):e.ssr?new Mi:(new S).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),s){var m={UserPoolId:s,ClientId:a,endpoint:v};m.Storage=this._storage,this.userPool=new Bo(m,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:d,region:p||l,userPoolId:s,identityPoolId:f,refreshHandlers:h,storage:this._storage});var y=c?o(this._config.oauth)?c:c.awsCognito:void 0;if(y){var w=Object.assign({cognitoClientId:a,UserPoolId:s,domain:y.domain,scopes:y.scope,redirectSignIn:y.redirectSignIn,redirectSignOut:y.redirectSignOut,responseType:y.responseType,Storage:this._storage,urlOpener:y.urlOpener,clientMetadata:g},y.options);this._oAuthHandler=new Xo({scopes:w.scopes,config:w,cognitoClientId:w.cognitoClientId});var b={};!function(e){if(T().isBrowser&&window.location)e({url:window.location.href});else if(!T().isNode)throw new Error("Not supported")}((function(e){var t=e.url;b[t]||(b[t]=!0,n._handleAuthResponse(t))}))}(hs("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem)||(this.isTrueStorageValue("amplify-polling-started")&&(hs("autoSignIn_failure",null,t.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started"));return this._config},n.prototype.signUp=function(e){for(var n,r,i,o=this,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(!this.userPool)return this.rejectNoUserPool();var u,c=null,l=null,f=[],d=null,h={enabled:!1},p={},g={};if(e&&"string"==typeof e){c=e,l=s?s[0]:null;var v=s?s[1]:null,m=s?s[2]:null;v&&f.push(new So({Name:"email",Value:v})),m&&f.push(new So({Name:"phone_number",Value:m}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(t.SignUpError);c=e.username,l=e.password,e&&e.clientMetadata?u=e.clientMetadata:this._config.clientMetadata&&(u=this._config.clientMetadata);var y=e.attributes;y&&Object.keys(y).map((function(e){f.push(new So({Name:e,Value:y[e]}))}));var w=e.validationData;w&&(d=[],Object.keys(w).map((function(e){d.push(new So({Name:e,Value:w[e]}))}))),(h=null!==(n=e.autoSignIn)&&void 0!==n?n:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),p=null!==(r=h.validationData)&&void 0!==r?r:{},g=null!==(i=h.clientMetaData)&&void 0!==i?i:{})}return c?l?(ls.debug("signUp attrs:",f),ls.debug("signUp validation data:",d),new Promise((function(e,t){o.userPool.signUp(c,l,f,d,(function(n,r){n?(hs("signUp_failure",n,c+" failed to signup"),t(n)):(hs("signUp",r,c+" has signed up successfully"),h.enabled&&o.handleAutoSignIn(c,l,p,g,r),e(r))}),u)}))):this.rejectAuthError(t.EmptyPassword):this.rejectAuthError(t.EmptyUsername)},n.prototype.handleAutoSignIn=function(e,t,n,r,i){this.autoSignInInitiated=!0;var o=new Ri({Username:e,Password:t,ValidationData:n,ClientMetadata:r});i.userConfirmed?this.signInAfterUserConfirmed(o):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(o):this.handleCodeAutoSignIn(o)},n.prototype.handleCodeAutoSignIn=function(e){var t=this,n=function(r){"confirmSignUp"===r.payload.event&&t.signInAfterUserConfirmed(e,n)};m.listen("auth",n)},n.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var n=Date.now(),r=setInterval((function(){Date.now()-n>18e4?(clearInterval(r),hs("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,r)}),5e3)},n.prototype.signInAfterUserConfirmed=function(e,t,n){return as(this,void 0,void 0,(function(){var r,i,o=this;return us(this,(function(s){switch(s.label){case 0:r=this.createCognitoUser(e.getUsername()),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.authenticateUser(e,this.authCallbacks(r,(function(r){hs("autoSignIn",r,e.getUsername()+" has signed in successfully"),t&&m.remove("auth",t),n&&(clearInterval(n),o._storage.removeItem("amplify-polling-started")),o._storage.removeItem("amplify-auto-sign-in")}),(function(e){ls.error(e),o._storage.removeItem("amplify-auto-sign-in")})))];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),ls.error(i),[3,4];case 4:return[2]}}))}))},n.prototype.confirmSignUp=function(e,n,r){var i=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(t.EmptyUsername);if(!n)return this.rejectAuthError(t.EmptyCode);var o,s=this.createCognitoUser(e),a=!r||"boolean"!=typeof r.forceAliasCreation||r.forceAliasCreation;return r&&r.clientMetadata?o=r.clientMetadata:this._config.clientMetadata&&(o=this._config.clientMetadata),new Promise((function(r,u){s.confirmRegistration(n,a,(function(n,o){n?u(n):(hs("confirmSignUp",o,e+" has been confirmed successfully"),i.isTrueStorageValue("amplify-auto-sign-in")&&!i.autoSignInInitiated&&(hs("autoSignIn_failure",null,t.AutoSignInError),i._storage.removeItem("amplify-auto-sign-in")),r(o))}),o)}))},n.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},n.prototype.resendSignUp=function(e,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(t.EmptyUsername);var r=this.createCognitoUser(e);return new Promise((function(e,t){r.resendConfirmationCode((function(n,r){n?t(n):e(r)}),n)}))},n.prototype.signIn=function(e,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var i=null,o=null,s={};if("string"==typeof e)i=e,o=n;else{if(!e.username)return this.rejectAuthError(t.InvalidUsername);void 0!==n&&ls.warn("The password should be defined under the first parameter object!"),i=e.username,o=e.password,s=e.validationData}if(!i)return this.rejectAuthError(t.EmptyUsername);var a=new Ri({Username:i,Password:o,ValidationData:s,ClientMetadata:r});return o?this.signInWithPassword(a):this.signInWithoutPassword(a)},n.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return as(r,void 0,void 0,(function(){var r,s,a,u;return us(this,(function(c){switch(c.label){case 0:ls.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),ls.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),ls.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,hs("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),ls.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){ls.debug("signIn failure",t),hs("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){ls.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){ls.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){ls.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){ls.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){ls.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){ls.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},n.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},n.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},n.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return ls.debug("get MFA Options failed",e),void n(e);ls.debug("get MFA options success",r),t(r)}))}))},n.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var s=n._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData((function(t,s){return as(n,void 0,void 0,(function(){var n,a;return us(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(ls.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(a=r._getMfaTypeFromUserData(s))?(i(a),[2]):(o("invalid MFA Type"),[2])}}))}))}),{bypassCache:a,clientMetadata:s})}))},n.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":ls.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},n.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,i){e.getUserData((function(t,o){return as(n,void 0,void 0,(function(){var n;return us(this,(function(s){switch(s.label){case 0:if(!t)return[3,5];if(ls.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return n=s.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),s.label=6;case 6:return[2]}}))}))}),t)}))},n.prototype.setPreferredMFA=function(e,n){return as(this,void 0,void 0,(function(){var r,i,o,s,a,u,c=this;return us(this,(function(l){switch(l.label){case 0:return r=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:r})];case 1:switch(i=l.sent(),o=null,s=null,n){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return s={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=i.UserMFASettingList,[4,this._getMfaTypeFromUserData(i)];case 5:if("NOMFA"===(u=l.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===u)o={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==u)return[2,this.rejectAuthError(t.InvalidMFA)];s={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?o={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(s={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return ls.debug("no validmfa method provided"),[2,this.rejectAuthError(t.NoMFA)];case 7:return this,[2,new Promise((function(t,n){e.setUserMfaPreference(o,s,(function(i,o){if(i)return ls.debug("Set user mfa preference error",i),n(i);ls.debug("Set user mfa success",o),ls.debug("Caching the latest user data into local"),e.getUserData((function(r,i){return as(c,void 0,void 0,(function(){var i;return us(this,(function(s){switch(s.label){case 0:if(!r)return[3,5];if(ls.debug("getting user data failed",r),!this.isSessionInvalid(r))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),n(new Error("Session is invalid due to: "+r.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,n(r)];case 5:return[2,t(o)]}}))}))}),{bypassCache:!0,clientMetadata:r})}))}))]}}))}))},n.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return ls.debug("disable mfa failed",e),void n(e);ls.debug("disable mfa succeed",r),t(r)}))}))},n.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return ls.debug("enable mfa failed",e),void n(e);ls.debug("enable mfa succeed",r),t(r)}))}))},n.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){ls.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){ls.debug("associateSoftwareToken sucess",e),t(e)}})}))},n.prototype.verifyTotpToken=function(e,t){return ls.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){ls.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){hs("signIn",e,"A user "+e.getUsername()+" has been signed in"),ls.debug("verifyTotpToken success",t),n(t)}})}))},n.prototype.confirmSignIn=function(e,n,r,i){var o=this;if(void 0===i&&(i=this._config.clientMetadata),!n)return this.rejectAuthError(t.EmptyCode);var s=this;return new Promise((function(t,a){e.sendMFACode(n,{onSuccess:function(n){return as(o,void 0,void 0,(function(){var r,i;return us(this,(function(o){switch(o.label){case 0:ls.debug(n),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(n,"session")];case 3:return r=o.sent(),ls.debug("succeed to get cognito credentials",r),[3,6];case 4:return i=o.sent(),ls.debug("cannot get cognito credentials",i),[3,6];case 5:return s.user=e,hs("signIn",e,"A user "+e.getUsername()+" has been signed in"),t(e),[7];case 6:return[2]}}))}))},onFailure:function(e){ls.debug("confirm signIn failure",e),a(e)}},r,i)}))},n.prototype.completeNewPassword=function(e,n,r,i){var o=this;if(void 0===r&&(r={}),void 0===i&&(i=this._config.clientMetadata),!n)return this.rejectAuthError(t.EmptyPassword);var s=this;return new Promise((function(t,a){e.completeNewPasswordChallenge(n,r,{onSuccess:function(n){return as(o,void 0,void 0,(function(){var r,i;return us(this,(function(o){switch(o.label){case 0:ls.debug(n),o.label=1;case 1:return o.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return o.sent(),[4,this.Credentials.set(n,"session")];case 3:return r=o.sent(),ls.debug("succeed to get cognito credentials",r),[3,6];case 4:return i=o.sent(),ls.debug("cannot get cognito credentials",i),[3,6];case 5:return s.user=e,hs("signIn",e,"A user "+e.getUsername()+" has been signed in"),t(e),[7];case 6:return[2]}}))}))},onFailure:function(e){ls.debug("completeNewPassword failure",e),hs("completeNewPassword_failure",e,o.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(n,r){ls.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){ls.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},totpRequired:function(n,r){ls.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)}},i)}))},n.prototype.sendCustomChallengeAnswer=function(e,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!n)return this.rejectAuthError(t.EmptyChallengeResponse);return new Promise((function(t,o){e.sendCustomChallengeAnswer(n,i.authCallbacks(e,t,o),r)}))},n.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},n.prototype.deleteUser=function(){return as(this,void 0,void 0,(function(){var e,t,n=this;return us(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),ls.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return as(n,void 0,void 0,(function(){var n,i=this;return us(this,(function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return ls.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(o,s){return as(i,void 0,void 0,(function(){var i,s=this;return us(this,(function(a){switch(a.label){case 0:if(!o)return[3,5];if(ls.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser((function(i,o){if(i)r(i);else{hs("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),s.user=null;try{s.cleanCachedItems()}catch(e){ls.debug("failed to clear cached items")}t?s.oAuthSignOutRedirect(e,r):(hs("signOut",s.user,"A user has been signed out"),e(o))}})),a.label=6;case 6:return[2]}}))}))}))}else ls.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},n.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise((function(o,s){i.userSession(e).then((function(i){for(var a in t)if("sub"!==a&&a.indexOf("_verified")<0){var u={Name:a,Value:t[a]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?s(e):o(t)}),n)}))}))},n.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},n.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},n.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},n.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},n.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},n.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},n.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},n.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},n.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},n.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},n.prototype.cleanUpInvalidSession=function(e){return as(this,void 0,void 0,(function(){var t=this;return us(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),ls.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(hs("signOut",this.user,"A user has been signed out"),[2])}}))}))},n.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return as(t,void 0,void 0,(function(){var t,i,o=this;return us(this,(function(s){switch(s.label){case 0:return this.isOAuthInProgress()?(ls.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){ls.debug("OAuth signIn in progress timeout"),m.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(ls.debug("OAuth signIn resolved: "+i),clearTimeout(t),m.remove("auth",n),e())}m.listen("auth",n)}))]):[3,2];case 1:s.sent(),s.label=2;case 2:return(t=this.userPool.getCurrentUser())?(i=this._config.clientMetadata,t.getSession((function(i,s){return as(o,void 0,void 0,(function(){var o,a,u,c,l=this;return us(this,(function(f){switch(f.label){case 0:if(!i)return[3,5];if(ls.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return f.sent(),[3,4];case 3:return o=f.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(i),[2];case 5:return(a=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:f.sent(),f.label=7;case 7:return u=this._config.clientMetadata,c=s.getAccessToken().decodePayload().scope,(void 0===c?"":c).split(" ").includes(fs)?(t.getUserData((function(e,i){return as(l,void 0,void 0,(function(){var o,s,a,u,c,l,f;return us(this,(function(d){switch(d.label){case 0:if(!e)return[3,7];if(ls.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return o=d.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),d.label=6;case 6:return[2];case 7:for(s=i.PreferredMfaSetting||"NOMFA",a=[],u=0;u<i.UserAttributes.length;u++)c={Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value},l=new So(c),a.push(l);return f=this.attributesToObject(a),Object.assign(t,{attributes:f,preferredMFA:s}),[2,n(t)]}}))}))}),{bypassCache:a,clientMetadata:u}),[2]):(ls.debug("Unable to get the user data because the "+fs+" is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:i}),[2]):(ls.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return ls.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},n.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},n.prototype.currentAuthenticatedUser=function(e){return as(this,void 0,void 0,(function(){var t,n,r,i,o;return us(this,(function(s){switch(s.label){case 0:ls.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),ls.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=ss(ss({},r.user),{token:r.token}))}catch(e){ls.debug("cannot load federated user from auth storage")}return t?(this.user=t,ls.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:ls.debug("get current authenticated userpool user"),i=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=s.sent(),[3,9];case 8:return"No userPool"===(o=s.sent())&&ls.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),ls.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},n.prototype.currentSession=function(){var e=this;return ls.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){ls.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){ls.debug("Failed to get the current user",e),n(e)}))})):Promise.reject(new Error("No User Pool in the configuration."))},n.prototype.userSession=function(e){var n=this;if(!e)return ls.debug("the user is null"),this.rejectAuthError(t.NoUserSession);var r=this._config.clientMetadata;return new Promise((function(t,i){ls.debug("Getting the session from this user:",e),e.getSession((function(r,o){return as(n,void 0,void 0,(function(){var n;return us(this,(function(s){switch(s.label){case 0:if(!r)return[3,5];if(ls.debug("Failed to get the session from user",e),!this.isSessionInvalid(r))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return n=s.sent(),i(new Error("Session is invalid due to: "+r.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(r),[2];case 5:return ls.debug("Succeed to get the user session",o),t(o),[2]}}))}))}),{clientMetadata:r})}))},n.prototype.currentUserCredentials=function(){return as(this,void 0,void 0,(function(){var e,t,n=this;return us(this,(function(r){switch(r.label){case 0:ls.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),ls.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){ls.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return ls.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return ls.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},n.prototype.currentCredentials=function(){return ls.debug("getting current credentials"),this.Credentials.get()},n.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},n.prototype.verifyUserAttributeSubmit=function(e,n,r){return r?new Promise((function(t,i){e.verifyAttribute(n,r,{onSuccess:function(e){t(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(t.EmptyCode)},n.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},n.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},n.prototype.cognitoIdentitySignOut=function(e,t){return as(this,void 0,void 0,(function(){var n,r,i=this;return us(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),ls.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){ls.debug("user global sign out",t);var s=i._config.clientMetadata;t.getSession((function(e,s){return as(i,void 0,void 0,(function(){var i,s=this;return us(this,(function(a){switch(a.label){case 0:if(!e)return[3,5];if(ls.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(ls.debug("global sign out success"),!r)return n();s.oAuthSignOutRedirect(n,o)},onFailure:function(e){return ls.debug("global sign out failed",e),o(e)}}),[2]}}))}))}),{clientMetadata:s})}else ls.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},n.prototype.oAuthSignOutRedirect=function(e,t){T().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},n.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},n.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},n.prototype.signOut=function(e){return as(this,void 0,void 0,(function(){var t;return us(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),ls.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:ls.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:ls.debug("no Cognito User pool"),n.label=8;case 8:return hs("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},n.prototype.cleanCachedItems=function(){return as(this,void 0,void 0,(function(){return us(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},n.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,s){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(ls.debug("change password failure",e),s(e)):o(t)}),r)}))}))},n.prototype.forgotPassword=function(e,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(t.EmptyUsername);var r=this.createCognitoUser(e);return new Promise((function(t,i){r.forgotPassword({onSuccess:function(){t()},onFailure:function(t){ls.debug("forgot password failure",t),hs("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(n){hs("forgotPassword",r,e+" has initiated forgot password flow"),t(n)}},n)}))},n.prototype.forgotPasswordSubmit=function(e,n,r,i){if(void 0===i&&(i=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(t.EmptyUsername);if(!n)return this.rejectAuthError(t.EmptyCode);if(!r)return this.rejectAuthError(t.EmptyPassword);var o=this.createCognitoUser(e);return new Promise((function(t,s){o.confirmPassword(n,r,{onSuccess:function(n){hs("forgotPasswordSubmit",o,e+" forgotPasswordSubmit successful"),t(n)},onFailure:function(t){hs("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},i)}))},n.prototype.currentUserInfo=function(){return as(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return us(this,(function(a){switch(a.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return ls.error(e)}))];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return i=a.sent(),ls.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return o=a.sent(),ls.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(s=this.user)||{}]:[2]}}))}))},n.prototype.federatedSignIn=function(t,n,r){return as(this,void 0,void 0,(function(){var s,a,u,c,l,f,d,h,p,g,v;return us(this,(function(m){switch(m.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===t&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return i(t)||(y=t)&&["customProvider"].find((function(e){return y.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(t)||void 0===t?(s=t||{provider:e.Cognito},l=i(s)?s.provider:s.customProvider,i(s),a=s.customState,this._config.userPoolId&&(u=o(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,c=o(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,c,u,l,a)),[3,4]):[3,1];case 1:l=t;try{(f=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&ls.warn("There is already a signed in user: "+f+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return d=n.token,h=n.identity_id,p=n.expires_at,[4,this.Credentials.set({provider:l,token:d,identity_id:h,user:r,expires_at:p},"federation")];case 2:return g=m.sent(),[4,this.currentAuthenticatedUser()];case 3:return v=m.sent(),hs("signIn",v,"A user "+v.username+" has been signed in"),ls.debug("federated sign in credentials",g),[2,g];case 4:return[2]}var y}))}))},n.prototype._handleAuthResponse=function(e){return as(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h,p;return us(this,(function(g){switch(g.label){case 0:if(this.oAuthFlowInProgress)return ls.debug("Skipping URL "+e+" current flow in progress"),[2];g.label=1;case 1:if(g.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(hs("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(T().isBrowser?window.location.href:""),n=!!((0,qo.Qc)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=cs(e,1)[0];return"code"===t||"error"===t})),r=!!((0,qo.Qc)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=cs(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),g.label=2;case 2:return g.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=g.sent(),o=i.accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new vo({IdToken:new fo({IdToken:s}),RefreshToken:new ho({RefreshToken:a}),AccessToken:new co({AccessToken:o})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=g.sent(),ls.debug("AWS credentials",l),g.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),hs("signIn",d,"A user "+d.getUsername()+" has been signed in"),hs("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(h=u.split("-").splice(1).join("-"),hs("customOAuthState",h.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,l];case 6:return p=g.sent(),ls.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),hs("signIn_failure",p,"The OAuth response flow failed"),hs("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),hs("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},n.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},n.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},n.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},n.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Ao(t);return n&&r.setAuthenticationFlowType(n),r},n.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},n.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?t.NoConfig:t.MissingAuthConfig},n.prototype.rejectAuthError=function(e){return Promise.reject(new rs(e))},n.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new is(e))},n.prototype.rememberDevice=function(){return as(this,void 0,void 0,(function(){var e,n;return us(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:return n=r.sent(),ls.debug("The user is not authenticated by the error",n),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(n,r){e.setDeviceStatusRemembered({onSuccess:function(e){n(e)},onFailure:function(e){"InvalidParameterException"===e.code?r(new rs(t.DeviceConfig)):"NetworkError"===e.code?r(new rs(t.NetworkError)):r(e)}})}))]}}))}))},n.prototype.forgetDevice=function(){return as(this,void 0,void 0,(function(){var e,n;return us(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:return n=r.sent(),ls.debug("The user is not authenticated by the error",n),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(n,r){e.forgetDevice({onSuccess:function(e){n(e)},onFailure:function(e){"InvalidParameterException"===e.code?r(new rs(t.DeviceConfig)):"NetworkError"===e.code?r(new rs(t.NetworkError)):r(e)}})}))]}}))}))},n.prototype.fetchDevices=function(){return as(this,void 0,void 0,(function(){var e,n;return us(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:throw n=r.sent(),ls.debug("The user is not authenticated by the error",n),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(n,r){var i={onSuccess:function(e){var t=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));n(t)},onFailure:function(e){"InvalidParameterException"===e.code?r(new rs(t.DeviceConfig)):"NetworkError"===e.code?r(new rs(t.NetworkError)):r(e)}};e.listDevices(60,null,i)}))]}}))}))},n}(),gs=new ps(null);se.register(gs);var vs=function(e,t){return vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},vs(e,t)};function ms(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}vs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ys=function(){return ys=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ys.apply(this,arguments)};function ws(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Ss(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;var bs,_s,Es,Cs,As,Ps,ks,xs,Is,Ts,Us,Os,Ms,Ls,Rs,Ns,Ds,js,Fs,Bs,zs,Ks,qs,Hs,Vs,Ws,Gs,$s,Ys,Js,Zs,Qs,Xs,ea,ta,na,ra,ia,oa,sa,aa,ua,ca,la,fa,da,ha,pa,ga,va,ma,ya,wa,Sa,ba,_a,Ea,Ca,Aa,Pa,ka,xa,Ia,Ta,Ua,Oa,Ma,La,Ra,Na,Da,ja,Fa,Ba,za,Ka,qa,Ha,Va,Wa,Ga,$a,Ya,Ja,Za,Qa,Xa,eu,tu,nu,ru,iu,ou,su,au,uu,cu,lu,fu,du,hu,pu,gu,vu,mu,yu,wu,Su,bu,_u,Eu,Cu,Au,Pu,ku,xu,Iu,Tu,Uu,Ou,Mu,Lu,Ru,Nu,Du,ju,Fu,Bu,zu,Ku,qu,Hu,Vu,Wu,Gu,$u,Yu,Ju,Zu,Qu,Xu,ec,tc,nc,rc,ic,oc,sc,ac,uc,cc,lc,fc,dc,hc,pc,gc,vc,mc,yc,wc,Sc,bc,_c,Ec,Cc,Ac,Pc,kc,xc,Ic,Tc,Uc,Oc,Mc,Lc,Rc,Nc,Dc,jc,Fc,Bc,zc,Kc,qc,Hc,Vc,Wc,Gc,$c,Yc,Jc,Zc,Qc,Xc,el,tl,nl,rl,il,ol,sl,al,ul,cl,ll,fl,dl,hl,pl,gl,vl,ml,yl,wl,Sl,bl,_l,El,Cl,Al,Pl,kl,xl,Il,Tl,Ul,Ol,Ml,Ll,Rl,Nl,Dl,jl,Fl,Bl,zl,Kl,ql,Hl,Vl,Wl,Gl,$l,Yl,Jl,Zl,Ql,Xl,ef,tf;Object.create;!function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(bs||(bs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(_s||(_s={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Es||(Es={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Cs||(Cs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(As||(As={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ps||(Ps={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ks||(ks={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(xs||(xs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Is||(Is={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ts||(Ts={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:dn})}}(Us||(Us={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Os||(Os={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ms||(Ms={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ls||(Ls={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Rs||(Rs={})),function(e){e.filterSensitiveLog=function(e){return ys(ys(ys({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:dn}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:dn})}}(Ns||(Ns={})),function(e){e.filterSensitiveLog=function(e){return ys(ys(ys(ys(ys({},e),e.SSECustomerKey&&{SSECustomerKey:dn}),e.SSEKMSKeyId&&{SSEKMSKeyId:dn}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:dn}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:dn})}}(Ds||(Ds={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(js||(js={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Fs||(Fs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Bs||(Bs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(zs||(zs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ks||(Ks={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(qs||(qs={})),function(e){e.filterSensitiveLog=function(e){return ys(ys(ys({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:dn}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:dn})}}(Hs||(Hs={})),function(e){e.filterSensitiveLog=function(e){return ys(ys(ys(ys({},e),e.SSECustomerKey&&{SSECustomerKey:dn}),e.SSEKMSKeyId&&{SSEKMSKeyId:dn}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:dn})}}(Vs||(Vs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ws||(Ws={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Gs||(Gs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}($s||($s={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ys||(Ys={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Js||(Js={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Zs||(Zs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Qs||(Qs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Xs||(Xs={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ea||(ea={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ta||(ta={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(na||(na={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ra||(ra={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ia||(ia={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(oa||(oa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(sa||(sa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(aa||(aa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ua||(ua={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ca||(ca={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(la||(la={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(fa||(fa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(da||(da={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ha||(ha={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(pa||(pa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ga||(ga={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(va||(va={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ma||(ma={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ya||(ya={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(wa||(wa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Sa||(Sa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ba||(ba={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Sa.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:ba.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(_a||(_a={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ea||(Ea={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ca||(Ca={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Aa||(Aa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Pa||(Pa={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Filter&&{Filter:_a.filterSensitiveLog(e.Filter)})}}(ka||(ka={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:ka.filterSensitiveLog(e.AnalyticsConfiguration)})}}(xa||(xa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ia||(Ia={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ta||(Ta={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ua||(Ua={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Oa||(Oa={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:dn})}}(Ma||(Ma={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:Ma.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})}}(La||(La={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Rules&&{Rules:e.Rules.map((function(e){return La.filterSensitiveLog(e)}))})}}(Ra||(Ra={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Ra.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(Na||(Na={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Da||(Da={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ja||(ja={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Fa||(Fa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ba||(Ba={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(za||(za={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ka||(Ka={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(qa||(qa={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.KeyId&&{KeyId:dn})}}(Ha||(Ha={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Va||(Va={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSEKMS&&{SSEKMS:Ha.filterSensitiveLog(e.SSEKMS)})}}(Wa||(Wa={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Encryption&&{Encryption:Wa.filterSensitiveLog(e.Encryption)})}}(Ga||(Ga={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.S3BucketDestination&&{S3BucketDestination:Ga.filterSensitiveLog(e.S3BucketDestination)})}}($a||($a={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ya||(Ya={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ja||(Ja={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Destination&&{Destination:$a.filterSensitiveLog(e.Destination)})}}(Za||(Za={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.InventoryConfiguration&&{InventoryConfiguration:Za.filterSensitiveLog(e.InventoryConfiguration)})}}(Qa||(Qa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Xa||(Xa={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(eu||(eu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(tu||(tu={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Sa.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:tu.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(nu||(nu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ru||(ru={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(iu||(iu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ou||(ou={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Filter&&{Filter:nu.filterSensitiveLog(e.Filter)})}}(su||(su={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Rules&&{Rules:e.Rules.map((function(e){return su.filterSensitiveLog(e)}))})}}(au||(au={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(uu||(uu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(cu||(cu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(lu||(lu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(fu||(fu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(du||(du={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(hu||(hu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(pu||(pu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(gu||(gu={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Sa.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:gu.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(vu||(vu={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Filter&&{Filter:vu.filterSensitiveLog(e.Filter)})}}(mu||(mu={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.MetricsConfiguration&&{MetricsConfiguration:mu.filterSensitiveLog(e.MetricsConfiguration)})}}(yu||(yu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(wu||(wu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Su||(Su={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(bu||(bu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(_u||(_u={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Eu||(Eu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Cu||(Cu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Au||(Au={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Pu||(Pu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ku||(ku={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(xu||(xu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Iu||(Iu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Tu||(Tu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Uu||(Uu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ou||(Ou={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Mu||(Mu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Lu||(Lu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ru||(Ru={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Nu||(Nu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Du||(Du={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ju||(ju={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Fu||(Fu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Bu||(Bu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(zu||(zu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ku||(Ku={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(qu||(qu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Hu||(Hu={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:Sa.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Hu.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Vu||(Vu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Wu||(Wu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Gu||(Gu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}($u||($u={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Filter&&{Filter:Vu.filterSensitiveLog(e.Filter)})}}(Yu||(Yu={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Rules&&{Rules:e.Rules.map((function(e){return Yu.filterSensitiveLog(e)}))})}}(Ju||(Ju={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:Ju.filterSensitiveLog(e.ReplicationConfiguration)})}}(Zu||(Zu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Qu||(Qu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Xu||(Xu={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ec||(ec={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(tc||(tc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(nc||(nc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(rc||(rc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ic||(ic={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(oc||(oc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(sc||(sc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ac||(ac={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(uc||(uc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(cc||(cc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(lc||(lc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(fc||(fc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(dc||(dc={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:dn})}}(hc||(hc={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSECustomerKey&&{SSECustomerKey:dn})}}(pc||(pc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(gc||(gc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(vc||(vc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(mc||(mc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(yc||(yc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(wc||(wc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Sc||(Sc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(bc||(bc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(_c||(_c={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ec||(Ec={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Cc||(Cc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ac||(Ac={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Pc||(Pc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(kc||(kc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(xc||(xc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ic||(Ic={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Tc||(Tc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Uc||(Uc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Oc||(Oc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Mc||(Mc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Lc||(Lc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Rc||(Rc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Nc||(Nc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Dc||(Dc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(jc||(jc={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:dn})}}(Fc||(Fc={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSECustomerKey&&{SSECustomerKey:dn})}}(Bc||(Bc={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((function(e){return ka.filterSensitiveLog(e)}))})}}(zc||(zc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Kc||(Kc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(qc||(qc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Hc||(Hc={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((function(e){return Za.filterSensitiveLog(e)}))})}}(Vc||(Vc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Wc||(Wc={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((function(e){return mu.filterSensitiveLog(e)}))})}}(Gc||(Gc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}($c||($c={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Yc||(Yc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Jc||(Jc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Zc||(Zc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Qc||(Qc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Xc||(Xc={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(el||(el={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(tl||(tl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(nl||(nl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(rl||(rl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(il||(il={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ol||(ol={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(sl||(sl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(al||(al={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ul||(ul={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(cl||(cl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ll||(ll={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(fl||(fl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(dl||(dl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(hl||(hl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(pl||(pl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(gl||(gl={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:ka.filterSensitiveLog(e.AnalyticsConfiguration)})}}(vl||(vl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ml||(ml={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(yl||(yl={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:Ra.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(wl||(wl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Sl||(Sl={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.InventoryConfiguration&&{InventoryConfiguration:Za.filterSensitiveLog(e.InventoryConfiguration)})}}(bl||(bl={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Rules&&{Rules:e.Rules.map((function(e){return su.filterSensitiveLog(e)}))})}}(_l||(_l={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:_l.filterSensitiveLog(e.LifecycleConfiguration)})}}(El||(El={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Cl||(Cl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Al||(Al={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.MetricsConfiguration&&{MetricsConfiguration:mu.filterSensitiveLog(e.MetricsConfiguration)})}}(Pl||(Pl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(kl||(kl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(xl||(xl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Il||(Il={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:Ju.filterSensitiveLog(e.ReplicationConfiguration)})}}(Tl||(Tl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ul||(Ul={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ol||(Ol={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ml||(Ml={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ll||(Ll={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Rl||(Rl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Nl||(Nl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Dl||(Dl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(jl||(jl={})),function(e){e.filterSensitiveLog=function(e){return ys(ys(ys({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:dn}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:dn})}}(Fl||(Fl={})),function(e){e.filterSensitiveLog=function(e){return ys(ys(ys(ys({},e),e.SSECustomerKey&&{SSECustomerKey:dn}),e.SSEKMSKeyId&&{SSEKMSKeyId:dn}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:dn})}}(Bl||(Bl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(zl||(zl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Kl||(Kl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ql||(ql={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Hl||(Hl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Vl||(Vl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Wl||(Wl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Gl||(Gl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}($l||($l={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Yl||(Yl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Jl||(Jl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Zl||(Zl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ql||(Ql={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Xl||(Xl={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(ef||(ef={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.KMSKeyId&&{KMSKeyId:dn})}}(tf||(tf={}));var nf=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),r="<"+this.name,i=this.attributes;try{for(var o=(0,ae.__values)(Object.keys(i)),s=o.next();!s.done;s=o.next()){var a=s.value,u=i[a];null!=u&&(r+=" "+a+'="'+((""+u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"'))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}();var rf=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(),of=n(6965),sf=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Ss(this,(function(l){switch(l.label){case 0:return r=[ys({},e)],c={},[4,Of(e.body,t)];case 1:switch(n=ys.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Mf(e,n.body),o){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return s=[{}],[4,wf(n,t)];case 3:return i=ys.apply(void 0,[ys.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:If(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=ys(ys({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:If(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},af=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ss(this,(function(c){switch(c.label){case 0:return r=[ys({},e)],u={},[4,Of(e.body,t)];case 1:return n=ys.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Mf(e,n.body),s=n.body,o=s.code||s.Code||o,i=ys(ys({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:If(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},uf=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Ss(this,(function(l){switch(l.label){case 0:return r=[ys({},e)],c={},[4,Of(e.body,t)];case 1:switch(n=ys.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Mf(e,n.body),o){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return s=[{}],[4,Sf(n,t)];case 3:return i=ys.apply(void 0,[ys.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:If(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=ys(ys({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:If(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},cf=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ss(this,(function(c){switch(c.label){case 0:return r=[ys({},e)],u={},[4,Of(e.body,t)];case 1:return n=ys.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Mf(e,n.body),s=n.body,o=s.code||s.Code||o,i=ys(ys({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:If(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},lf=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ss(this,(function(c){switch(c.label){case 0:return r=[ys({},e)],u={},[4,Of(e.body,t)];case 1:return n=ys.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Mf(e,n.body),s=n.body,o=s.code||s.Code||o,i=ys(ys({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:If(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},ff=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ss(this,(function(f){switch(f.label){case 0:return r=[ys({},e)],l={},[4,Of(e.body,t)];case 1:switch(n=ys.apply(void 0,r.concat([(l.body=f.sent(),l)])),o="UnknownError",o=Mf(e,n.body),o){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return s=[{}],[4,vf(n,t)];case 3:return i=ys.apply(void 0,[ys.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:If(e)}]),[3,7];case 4:return a=[{}],[4,yf(n,t)];case 5:return i=ys.apply(void 0,[ys.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:If(e)}]),[3,7];case 6:u=n.body,o=u.code||u.Code||o,i=ys(ys({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:If(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},df=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Ss(this,(function(l){switch(l.label){case 0:return r=[ys({},e)],c={},[4,Of(e.body,t)];case 1:switch(n=ys.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Mf(e,n.body),o){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,mf(n,t)];case 3:return i=ys.apply(void 0,[ys.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:If(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=ys(ys({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:If(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},hf=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ss(this,(function(c){switch(c.label){case 0:return r=[ys({},e)],u={},[4,Of(e.body,t)];case 1:return n=ys.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Mf(e,n.body),s=n.body,o=s.code||s.Code||o,i=ys(ys({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:If(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},pf=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ss(this,(function(c){switch(c.label){case 0:return r=[ys({},e)],u={},[4,Of(e.body,t)];case 1:return n=ys.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Mf(e,n.body),s=n.body,o=s.code||s.Code||o,i=ys(ys({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:If(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},gf=function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ss(this,(function(c){switch(c.label){case 0:return r=[ys({},e)],u={},[4,Of(e.body,t)];case 1:return n=ys.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Mf(e,n.body),s=n.body,o=s.code||s.Code||o,i=ys(ys({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:If(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},vf=function(e,t){return ws(void 0,void 0,void 0,(function(){var t,n;return Ss(this,(function(r){return t={name:"InvalidObjectState",$fault:"client",$metadata:If(e),AccessTier:void 0,StorageClass:void 0},void 0!==(n=e.body).AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),[2,t]}))}))},mf=function(e,t){return ws(void 0,void 0,void 0,(function(){var t;return Ss(this,(function(n){return t={name:"NoSuchBucket",$fault:"client",$metadata:If(e)},e.body,[2,t]}))}))},yf=function(e,t){return ws(void 0,void 0,void 0,(function(){var t;return Ss(this,(function(n){return t={name:"NoSuchKey",$fault:"client",$metadata:If(e)},e.body,[2,t]}))}))},wf=function(e,t){return ws(void 0,void 0,void 0,(function(){var t;return Ss(this,(function(n){return t={name:"NoSuchUpload",$fault:"client",$metadata:If(e)},e.body,[2,t]}))}))},Sf=function(e,t){return ws(void 0,void 0,void 0,(function(){var t;return Ss(this,(function(n){return t={name:"ObjectNotInActiveTierError",$fault:"client",$metadata:If(e)},e.body,[2,t]}))}))},bf=function(e,t){var n=new nf("CompletedMultipartUpload");void 0!==e.Parts&&null!==e.Parts&&_f(e.Parts,t).map((function(e){e=e.withName("Part"),n.addChildNode(e)}));return n},_f=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){if(null===e)return null;var t=function(e,t){var n=new nf("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var r=new nf("ETag").addChildNode(new rf(e.ETag)).withName("ETag");n.addChildNode(r)}void 0!==e.PartNumber&&null!==e.PartNumber&&(r=new nf("PartNumber").addChildNode(new rf(String(e.PartNumber))).withName("PartNumber"),n.addChildNode(r));return n}(e);return t.withName("member")}))},Ef=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Prefix:void 0};return void 0!==e.Prefix&&(n.Prefix=e.Prefix),n}(e)}))},Cf=function(e,t){var n={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),n},Af=function(e,t){var n={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(n.ID=e.ID),void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),n},Pf=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),void 0!==e.Owner&&(n.Owner=kf(e.Owner,t)),n}(e,t)}))},kf=function(e,t){var n={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},xf=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(n.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),n}(e)}))},If=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Tf=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Uf=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},Of=function(e,t){return function(e,t){return Tf(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){if(e.length){var t=(0,of.parse)(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n=Object.keys(t)[0],r=t[n];return r["#text"]&&(r[n]=r["#text"],delete r["#text"]),an(r)}return{}}))},Mf=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},Lf=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},Rf=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Nf=/(\d+\.){3}\d+/,Df=/\.\./,jf=/\./,Ff=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,Bf=/^s3(-external-1)?\.amazonaws\.com$/,zf="amazonaws.com",Kf=function(e){return Hf(e)?e.replace(/fips-|-fips/,""):e},qf=function(e){var t=e.match(Ff);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},Hf=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},Vf=function(e,t){return e===t||Kf(e)===t||e===Kf(t)},Wf=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&jf.test(e))throw new Error("Invalid DNS label "+e)},Gf=function(e){var t=e.isCustomEndpoint,n=(e.baseHostname,e.dualstackEndpoint),r=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(r)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?Yf((0,ae.__assign)((0,ae.__assign)({},e),{isCustomEndpoint:t})):$f((0,ae.__assign)((0,ae.__assign)({},e),{isCustomEndpoint:t}))},$f=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,i=(0,ae.__read)(n?[e.clientRegion,r]:(t=r,Bf.test(t)?[t.replace(".amazonaws.com",""),zf]:qf(t)),2),o=i[0],s=i[1],a=e.pathStyleEndpoint,u=e.dualstackEndpoint,c=void 0!==u&&u,l=e.accelerateEndpoint,f=void 0!==l&&l,d=e.tlsCompatible,h=void 0===d||d,p=e.useArnRegion,g=e.bucketName,v=e.clientPartition,m=void 0===v?"aws":v,y=e.clientSigningRegion,w=void 0===y?o:y;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:a,accelerateEndpoint:f,tlsCompatible:h});var S=g.service,b=g.partition,_=g.accountId,E=g.region,C=g.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")}(S),function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')}(b,{clientPartition:m}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(_),function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!Vf(e,t.clientRegion)&&!Vf(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&Hf(e))throw new Error("Endpoint does not support FIPS region")}(E,{useArnRegion:p,clientRegion:o,clientSigningRegion:w});var A=function(e){var t=e.includes(":")?":":"/",n=(0,ae.__read)(e.split(t)),r=n[0],i=n.slice(1);if("accesspoint"===r){if(1!==i.length||""===i[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}if("outpost"===r){if(!i[0]||"accesspoint"!==i[1]||!i[2]||3!==i.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=(0,ae.__read)(i,3),s=o[0];return o[1],{outpostId:s,accesspointName:o[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(C),P=A.accesspointName,k=A.outpostId;Wf(P+"-"+_,{tlsCompatible:h});var x=p?E:o,I=p?E:w;return k?(function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(S),Wf(k,{tlsCompatible:h}),function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")}(c),function(e){if(Hf(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(x),{bucketEndpoint:!0,hostname:P+"-"+_+"."+k+(n?"":".s3-outposts."+x)+"."+s,signingRegion:I,signingService:"s3-outposts"}):(function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(S),{bucketEndpoint:!0,hostname:P+"-"+_+(n?"":".s3-accesspoint"+(c?".dualstack":"")+"."+x)+"."+s,signingRegion:I})},Yf=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,i=e.clientRegion,o=e.baseHostname,s=e.bucketName,a=e.dualstackEndpoint,u=void 0!==a&&a,c=e.pathStyleEndpoint,l=void 0!==c&&c,f=e.tlsCompatible,d=void 0===f||f,h=e.isCustomEndpoint,p=void 0!==h&&h,g=(0,ae.__read)(p?[i,o]:(t=o,Bf.test(t)?["us-east-1",zf]:qf(t)),2),v=g[0],m=g[1];return l||!function(e){return Rf.test(e)&&!Nf.test(e)&&!Df.test(e)}(s)||d&&jf.test(s)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+v+"."+m:o}:(r?o="s3-accelerate"+(u?".dualstack":"")+"."+m:u&&(o="s3.dualstack."+v+"."+m),{bucketEndpoint:!0,hostname:s+"."+o})},Jf=function(e){return function(t,n){return function(r){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,S,b;return(0,ae.__generator)(this,(function(_){switch(_.label){case 0:return i=r.input.Bucket,o=e.bucketEndpoint,s=r.request,yt.isInstance(s)?e.bucketEndpoint?(s.hostname=i,[3,7]):[3,1]:[3,8];case 1:return Lf(i)?(a=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=(0,ae.__read)(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}}(i),u=Kf,[4,e.region()]):[3,5];case 2:return m=u.apply(void 0,[_.sent()]),[4,e.regionInfoProvider(m)];case 3:return c=_.sent()||{},l=c.partition,f=c.signingRegion,d=void 0===f?m:f,[4,e.useArnRegion()];case 4:return h=_.sent(),p=Gf({bucketName:a,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,useArnRegion:h,clientPartition:l,clientSigningRegion:d,clientRegion:m,isCustomEndpoint:e.isCustomEndpoint}),S=p.hostname,b=p.bucketEndpoint,g=p.signingRegion,v=p.signingService,g&&g!==d&&(n.signing_region=g),v&&"s3"!==v&&(n.signing_service=v),s.hostname=S,o=b,[3,7];case 5:return y=Kf,[4,e.region()];case 6:m=y.apply(void 0,[_.sent()]),w=Gf({bucketName:i,clientRegion:m,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,isCustomEndpoint:e.isCustomEndpoint}),S=w.hostname,b=w.bucketEndpoint,s.hostname=S,o=b,_.label=7;case 7:o&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),""===s.path&&(s.path="/")),_.label=8;case 8:return[2,t((0,ae.__assign)((0,ae.__assign)({},r),{request:s}))]}}))}))}}},Zf={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},Qf=function(e){return{applyToStack:function(t){t.addRelativeTo(Jf(e),Zf)}}};var Xf={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},ed=function(e){return{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return(0,ae.__awaiter)(e,void 0,void 0,(function(){var e,r;return(0,ae.__generator)(this,(function(i){if("string"==typeof(e=n.input.Bucket)&&!Lf(e)&&e.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",r;return[2,t((0,ae.__assign)({},n))]}))}))}}}(),Xf)}}},td={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},nd=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var r,i;return(0,ae.__generator)(this,(function(o){switch(o.label){case 0:return r=n.request,!yt.isInstance(r)||e.isCustomEndpoint?[2,t((0,ae.__assign)({},n))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(r.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t((0,ae.__assign)({},n))]}}))}))}}}(e),td)}}},rd=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},id=function(e,t){return rd(e,t).then((function(e){return t.utf8Encoder(e)}))},od={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},sd=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return(0,ae.__awaiter)(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c;return(0,ae.__generator)(this,(function(l){switch(l.label){case 0:return[4,t(n)];case 1:return r=l.sent(),i=r.response,mt.isInstance(i)?(o=i.statusCode,s=i.body,o<200&&o>=300?[2,r]:[4,rd(s,e)]):[2,r];case 2:return a=l.sent(),[4,id(a,e)];case 3:if(u=l.sent(),0===a.length)throw(c=new Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(i.statusCode=400),i.body=a,[2,r]}}))}))}}}(e),od)}}};var ad={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},ud=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,ae.__awaiter)(t,void 0,void 0,(function(){var t,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w;return(0,ae.__generator)(this,(function(S){switch(S.label){case 0:t=(0,ae.__assign)({},r.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],S.label=1;case 1:S.trys.push([1,6,7,8]),o=(0,ae.__values)(i),s=o.next(),S.label=2;case 2:return s.done?[3,5]:(a=s.value,(u=t[a.target])?(c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(c),(f=new e.md5).update(c),d=[(0,ae.__assign)({},t)],(w={})[a.target]=l,h=a.hash,g=(p=e).base64Encoder,[4,f.digest()]):[3,4]);case 3:t=ae.__assign.apply(void 0,d.concat([(w[h]=g.apply(p,[S.sent()]),w)])),S.label=4;case 4:return s=o.next(),[3,2];case 5:return[3,8];case 6:return v=S.sent(),m={error:v},[3,8];case 7:try{s&&!s.done&&(y=o.return)&&y.call(o)}finally{if(m)throw m.error}return[7];case 8:return[2,n((0,ae.__assign)((0,ae.__assign)({},r),{input:t}))]}}))}))}}}(e),ad)}}},cd=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(sd(t)),this.middlewareStack.use(ud(t)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:Ds.filterSensitiveLog,outputFilterSensitiveLog:Ns.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ss(this,(function(f){switch(f.label){case 0:if(n=ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys({},Uf(e.ACL)&&{"x-amz-acl":e.ACL}),Uf(e.CacheControl)&&{"cache-control":e.CacheControl}),Uf(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Uf(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Uf(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Uf(e.ContentType)&&{"content-type":e.ContentType}),Uf(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),Uf(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),Uf(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":fn(e.CopySourceIfModifiedSince).toString()}),Uf(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),Uf(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":fn(e.CopySourceIfUnmodifiedSince).toString()}),Uf(e.Expires)&&{expires:fn(e.Expires).toString()}),Uf(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Uf(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Uf(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Uf(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Uf(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),Uf(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),Uf(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Uf(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Uf(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Uf(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Uf(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Uf(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Uf(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Uf(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Uf(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Uf(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),Uf(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),Uf(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Uf(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Uf(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Uf(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),Uf(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return ys(ys({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new yt({protocol:c,hostname:a,port:l,method:"PUT",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r;return Ss(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,uf(e,t)]:(n={$metadata:If(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(n.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Of(e.body,t)]);case 1:return r=i.sent(),n.CopyObjectResult=Cf(r,t),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn),ld=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(ud(t)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:pc.filterSensitiveLog,outputFilterSensitiveLog:hc.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ss(this,(function(f){switch(f.label){case 0:if(n=ys(ys(ys(ys(ys(ys(ys(ys(ys(ys({},Uf(e.IfMatch)&&{"if-match":e.IfMatch}),Uf(e.IfModifiedSince)&&{"if-modified-since":fn(e.IfModifiedSince).toString()}),Uf(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),Uf(e.IfUnmodifiedSince)&&{"if-unmodified-since":fn(e.IfUnmodifiedSince).toString()}),Uf(e.Range)&&{range:e.Range}),Uf(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Uf(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Uf(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o=ys(ys(ys(ys(ys(ys(ys(ys({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new yt({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r;return Ss(this,(function(i){return 200!==e.statusCode&&e.statusCode>=300?[2,ff(e,t)]:(n={$metadata:If(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach((function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])})),r=e.body,n.Body=r,[2,Promise.resolve(n)])}))}))}(e,t)},t}(rn),fd=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:sa.filterSensitiveLog,outputFilterSensitiveLog:oa.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ss(this,(function(f){switch(f.label){case 0:if(n=ys(ys(ys(ys({},Uf(e.MFA)&&{"x-amz-mfa":e.MFA}),Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o=ys({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new yt({protocol:c,hostname:a,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n;return Ss(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,lf(e,t)]:(n={$metadata:If(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Tf(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn),dd=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:sl.filterSensitiveLog,outputFilterSensitiveLog:ol.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ss(this,(function(f){switch(f.label){case 0:if(n=ys(ys({},Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",on(i)),o=ys(ys(ys(ys(ys(ys(ys({"list-type":"2"},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),void 0!==e.ContinuationToken&&{"continuation-token":e.ContinuationToken}),void 0!==e.FetchOwner&&{"fetch-owner":e.FetchOwner.toString()}),void 0!==e.StartAfter&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new yt({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r;return Ss(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,df(e,t)]:(n={$metadata:If(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,Of(e.body,t)]);case 1:return""===(r=i.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=Ef(sn(r.CommonPrefixes),t)),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=Pf(sn(r.Contents),t)),void 0!==r.ContinuationToken&&(n.ContinuationToken=r.ContinuationToken),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.KeyCount&&(n.KeyCount=parseInt(r.KeyCount)),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextContinuationToken&&(n.NextContinuationToken=r.NextContinuationToken),void 0!==r.Prefix&&(n.Prefix=r.Prefix),void 0!==r.StartAfter&&(n.StartAfter=r.StartAfter),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn);function hd(e){var t=e.port,n=e.query,r=e.protocol,i=e.path,o=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(o+=":"+t),i&&"/"!==i.charAt(0)&&(i="/"+i);var s=n?An(n):"";return s&&"?"!==s[0]&&(s="?"+s),r+"//"+o+i+s}function pd(e,t){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return(0,ae.__generator)(this,(function(o){switch(o.label){case 0:return n=function(e){return function(e){return(0,ae.__awaiter)(i,void 0,void 0,(function(){return(0,ae.__generator)(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,o.sent()]}}))}))}var gd,vd,md,yd=function(){function e(e){var t=(0,ae.__assign)({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new ei(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,i=t.unhoistableHeaders,o=void 0===i?new Set:i,s=(0,ae.__rest)(t,["unsignableHeaders","unhoistableHeaders"]);return(0,ae.__awaiter)(this,void 0,void 0,(function(){return(0,ae.__generator)(this,(function(t){return r.add("content-type"),Object.keys(e.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return e.startsWith("x-amz-server-side-encryption")})).forEach((function(e){o.add(e)})),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,(0,ae.__assign)({expiresIn:900,unsignableHeaders:r,unhoistableHeaders:o},s))]}))}))},e}(),wd=n(9669),Sd=n.n(wd);!function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"}(gd||(gd={})),function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"}(vd||(vd={})),function(e){e.UPLOAD_PAUSED_MESSAGE="paused"}(md||(md={}));var bd=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Ed=new f("axios-http-handler"),Cd="sendUploadProgress",Ad="sendDownloadProgress";var Pd=function(e,t){var n,r;try{for(var i=bd(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=_d(o.value,2),a=s[0],u=s[1];a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[a])}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},kd=[function(e,t){return n=e,"undefined"!=typeof Blob&&n instanceof Blob?(Pd(t,"Content-Type"),Pd(t,"Accept"),e):Sd().defaults.transformRequest[0].call(null,e,t);var n}],xd=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,r=t.emitter||this.emitter,i=e.path;if(e.query){var o=An(e.query);o&&(i+="?"+o)}var s=e.port,a=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,u={};u.url=a,u.method=e.method,u.headers=e.headers,delete u.headers.host,e.body?u.data=e.body:u.headers[Object.keys(u.headers).find((function(e){return"content-type"===e.toLowerCase()}))]&&(u.data=null),r&&(u.onUploadProgress=function(e){r.emit(Cd,e),Ed.debug(e)},u.onDownloadProgress=function(e){r.emit(Ad,e),Ed.debug(e)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(u.cancelToken=t.cancelTokenSource.token),u.responseType="blob",ne.isReactNative&&(u.transformRequest=kd);var c=[Sd().request(u).then((function(e){return{response:new mt({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){var t,n;if(e.message!==md.UPLOAD_PAUSED_MESSAGE&&Ed.error(e.message),Sd().isCancel(e)||!function(e){return void 0!==e&&Object.prototype.hasOwnProperty.call(e,"response")&&void 0!==e.response&&Object.prototype.hasOwnProperty.call(e.response,"status")&&"number"==typeof e.response.status}(e))throw e;return{response:new mt({statusCode:e.response.status,body:null===(t=e.response)||void 0===t?void 0:t.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}})),Id(n)];return Promise.race(c)},e}();function Id(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}var Td="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Ud="contentLengthMiddleware",Od="__uploadInProgress",Md=function(e,t,n,r,i){if(e){var o={attrs:n};r&&(o.metrics=r),m.dispatch("storage",{event:t,data:o,message:i},"Storage",Td)}},Ld=function(e){return void 0!==e&&e instanceof Blob},Rd=function(e){return void 0!==e&&e instanceof ArrayBuffer};var Nd=n(4079),Dd=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)n[r]=i;return t<0&&jd(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&jd(e),parseInt(xr(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function jd(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var Fd,Bd=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,i,o=[];try{for(var s=(0,ae.__values)(Object.keys(e)),a=s.next();!a.done;a=s.next()){var u=a.value,c=this.fromUtf8(u);o.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[u]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var l=new Uint8Array(o.reduce((function(e,t){return e+t.byteLength}),0)),f=0;try{for(var d=(0,ae.__values)(o),h=d.next();!h.done;h=d.next()){var p=h.value;l.set(p,f),f+=p.byteLength}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);var o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":var s=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);var u=new Uint8Array(a.buffer);return u.set(s,3),u;case"timestamp":var c=new Uint8Array(9);return c[0]=8,c.set(Dd.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!Jd.test(e.value))throw new Error("Invalid UUID received: "+e.value);var l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in Ar))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=Ar[r]}return t}(e.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[i]={type:zd,value:!0};break;case 1:t[i]={type:zd,value:!1};break;case 2:t[i]={type:Kd,value:e.getInt8(n++)};break;case 3:t[i]={type:qd,value:e.getInt16(n,!1)},n+=2;break;case 4:t[i]={type:Hd,value:e.getInt32(n,!1)},n+=4;break;case 5:t[i]={type:Vd,value:new Dd(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var o=e.getUint16(n,!1);n+=2,t[i]={type:Wd,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:var s=e.getUint16(n,!1);n+=2,t[i]={type:Gd,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s))},n+=s;break;case 8:t[i]={type:$d,value:new Date(new Dd(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var a=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[i]={type:Yd,value:xr(a.subarray(0,4))+"-"+xr(a.subarray(4,6))+"-"+xr(a.subarray(6,8))+"-"+xr(a.subarray(8,10))+"-"+xr(a.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(Fd||(Fd={}));var zd="boolean",Kd="byte",qd="short",Hd="integer",Vd="long",Wd="binary",Gd="string",$d="timestamp",Yd="uuid",Jd=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Zd=function(){function e(e,t){this.headerMarshaller=new Bd(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),i=r.byteLength+n.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new Nd.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,n=e.byteOffset,r=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(r,n,t),o=i.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");var s=i.getUint32(4,!1),a=i.getUint32(8,!1),u=i.getUint32(t-4,!1),c=(new Nd.Crc32).update(new Uint8Array(r,n,8));if(a!==c.digest())throw new Error("The prelude checksum specified in the message ("+a+") does not match the calculated CRC32 checksum ("+c.digest()+")");if(c.update(new Uint8Array(r,n+8,t-12)),u!==c.digest())throw new Error("The message checksum ("+c.digest()+") did not match the expected value of "+u);return{headers:new DataView(r,n+8+4,s),body:new Uint8Array(r,n+8+4+s,o-s-16)}}(e),n=t.headers,r=t.body;return{headers:this.headerMarshaller.parse(n),body:r}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();var Qd=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new Zd(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n,r,i,o,s,a,u,c=(n=e,i=0,o=0,s=null,a=null,u=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);i=e,o=4,s=new Uint8Array(e),new DataView(s.buffer).setUint32(0,e,!1)},(r={})[Symbol.asyncIterator]=function(){return(0,ae.__asyncGenerator)(this,arguments,(function(){var e,t,r,c,l,f,d,h;return(0,ae.__generator)(this,(function(p){switch(p.label){case 0:e=n[Symbol.asyncIterator](),p.label=1;case 1:return[4,(0,ae.__await)(e.next())];case 2:return t=p.sent(),r=t.value,t.done?i?[3,4]:[4,(0,ae.__await)(void 0)]:[3,10];case 3:return[2,p.sent()];case 4:return i!==o?[3,7]:[4,(0,ae.__await)(s)];case 5:return[4,p.sent()];case 6:return p.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,(0,ae.__await)(void 0)];case 9:return[2,p.sent()];case 10:c=r.length,l=0,p.label=11;case 11:if(!(l<c))return[3,15];if(!s){if(f=c-l,a||(a=new Uint8Array(4)),d=Math.min(4-o,f),a.set(r.slice(l,l+d),o),l+=d,(o+=d)<4)return[3,15];u(new DataView(a.buffer).getUint32(0,!1)),a=null}return h=Math.min(i-o,c-l),s.set(r.slice(l,l+h),o),o+=h,l+=h,i&&i===o?[4,(0,ae.__await)(s)]:[3,14];case 12:return[4,p.sent()];case 13:p.sent(),s=null,i=0,o=0,p.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},r),l=function(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return(0,ae.__asyncGenerator)(this,arguments,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y;return(0,ae.__generator)(this,(function(w){switch(w.label){case 0:w.trys.push([0,12,13,18]),n=(0,ae.__asyncValues)(e),w.label=1;case 1:return[4,(0,ae.__await)(n.next())];case 2:if((r=w.sent()).done)return[3,11];if(i=r.value,o=t.eventMarshaller.unmarshall(i),"error"!==(s=o.headers[":message-type"].value))return[3,3];throw(a=new Error(o.headers[":error-message"].value||"UnknownError")).name=o.headers[":error-code"].value,a;case 3:return"exception"!==s?[3,5]:(u=o.headers[":exception-type"].value,(g={})[u]=o,c=g,[4,(0,ae.__await)(t.deserializer(c))]);case 4:if((l=w.sent()).$unknown)throw(f=new Error(t.toUtf8(o.body))).name=u,f;throw l[u];case 5:return"event"!==s?[3,9]:((v={})[o.headers[":event-type"].value]=o,d=v,[4,(0,ae.__await)(t.deserializer(d))]);case 6:return(h=w.sent()).$unknown?[3,10]:[4,(0,ae.__await)(h)];case 7:return[4,w.sent()];case 8:return w.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+o.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return p=w.sent(),m={error:p},[3,18];case 13:return w.trys.push([13,,16,17]),r&&!r.done&&(y=n.return)?[4,(0,ae.__await)(y.call(n))]:[3,15];case 14:w.sent(),w.label=15;case 15:return[3,17];case 16:if(m)throw m.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}(c,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder});return l},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return(0,ae.__asyncGenerator)(this,arguments,(function(){var n,i,o,s,a,u,c;return(0,ae.__generator)(this,(function(l){switch(l.label){case 0:l.trys.push([0,7,8,13]),n=(0,ae.__asyncValues)(e),l.label=1;case 1:return[4,(0,ae.__await)(n.next())];case 2:return(i=l.sent()).done?[3,6]:(o=i.value,s=r.eventMarshaller.marshall(t(o)),[4,(0,ae.__await)(s)]);case 3:return[4,l.sent()];case 4:l.sent(),l.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return a=l.sent(),u={error:a},[3,13];case 8:return l.trys.push([8,,11,12]),i&&!i.done&&(c=n.return)?[4,(0,ae.__await)(c.call(n))]:[3,10];case 9:l.sent(),l.label=10;case 10:return[3,12];case 11:if(u)throw u.error;return[7];case 12:return[7];case 13:return[4,(0,ae.__await)(new Uint8Array(0))];case 14:return[4,l.sent()];case 15:return l.sent(),[2]}}))}))},n},e}(),Xd=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new Zd(t,n),this.universalMarshaller=new Qd({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n,r,i=eh(e)?(n=e,(r={})[Symbol.asyncIterator]=function(){return(0,ae.__asyncGenerator)(this,arguments,(function(){var e,t,r,i;return(0,ae.__generator)(this,(function(o){switch(o.label){case 0:e=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,ae.__await)(e.read())];case 3:return t=o.sent(),r=t.done,i=t.value,r?[4,(0,ae.__await)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,ae.__await)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))},r):e;return this.universalMarshaller.deserialize(i,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var t,r,i;return(0,ae.__generator)(this,(function(o){switch(o.label){case 0:return[4,n.next()];case 1:return t=o.sent(),r=t.done,i=t.value,r?[2,e.close()]:(e.enqueue(i),[2])}}))}))}})):r},e}(),eh=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream};function th(e,t,n){return void 0===n&&(n=1048576),new Promise((function(r,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var s=e.size,a=0;function u(){a>=s?r():o.readAsArrayBuffer(e.slice(a,Math.min(s,a+n)))}o.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),a+=n.byteLength,u()})),u()}))}var nh=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},rh=64,ih=[1732584193,4023233417,2562383102,271733878],oh=function(){function e(){this.state=Uint32Array.from(ih),this.buffer=new DataView(new ArrayBuffer(rh)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){if("string"==typeof e)return nh(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array(e)}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,this.bufferLength===rh&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return(0,ae.__generator)(this,(function(a){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,i=8*r,t.setUint8(this.bufferLength++,128),n%rh>=56){for(s=this.bufferLength;s<rh;s++)t.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(s=this.bufferLength;s<56;s++)t.setUint8(s,0);t.setUint32(56,i>>>0,!0),t.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}for(o=new DataView(new ArrayBuffer(16)),s=0;s<4;s++)o.setUint32(4*s,this.state[s],!0);return[2,new Uint8Array(o.buffer,o.byteOffset,o.byteLength)]}))}))},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3];n=ah(n,r,i,o,e.getUint32(0,!0),7,3614090360),o=ah(o,n,r,i,e.getUint32(4,!0),12,3905402710),i=ah(i,o,n,r,e.getUint32(8,!0),17,606105819),r=ah(r,i,o,n,e.getUint32(12,!0),22,3250441966),n=ah(n,r,i,o,e.getUint32(16,!0),7,4118548399),o=ah(o,n,r,i,e.getUint32(20,!0),12,1200080426),i=ah(i,o,n,r,e.getUint32(24,!0),17,2821735955),r=ah(r,i,o,n,e.getUint32(28,!0),22,4249261313),n=ah(n,r,i,o,e.getUint32(32,!0),7,1770035416),o=ah(o,n,r,i,e.getUint32(36,!0),12,2336552879),i=ah(i,o,n,r,e.getUint32(40,!0),17,4294925233),r=ah(r,i,o,n,e.getUint32(44,!0),22,2304563134),n=ah(n,r,i,o,e.getUint32(48,!0),7,1804603682),o=ah(o,n,r,i,e.getUint32(52,!0),12,4254626195),i=ah(i,o,n,r,e.getUint32(56,!0),17,2792965006),n=uh(n,r=ah(r,i,o,n,e.getUint32(60,!0),22,1236535329),i,o,e.getUint32(4,!0),5,4129170786),o=uh(o,n,r,i,e.getUint32(24,!0),9,3225465664),i=uh(i,o,n,r,e.getUint32(44,!0),14,643717713),r=uh(r,i,o,n,e.getUint32(0,!0),20,3921069994),n=uh(n,r,i,o,e.getUint32(20,!0),5,3593408605),o=uh(o,n,r,i,e.getUint32(40,!0),9,38016083),i=uh(i,o,n,r,e.getUint32(60,!0),14,3634488961),r=uh(r,i,o,n,e.getUint32(16,!0),20,3889429448),n=uh(n,r,i,o,e.getUint32(36,!0),5,568446438),o=uh(o,n,r,i,e.getUint32(56,!0),9,3275163606),i=uh(i,o,n,r,e.getUint32(12,!0),14,4107603335),r=uh(r,i,o,n,e.getUint32(32,!0),20,1163531501),n=uh(n,r,i,o,e.getUint32(52,!0),5,2850285829),o=uh(o,n,r,i,e.getUint32(8,!0),9,4243563512),i=uh(i,o,n,r,e.getUint32(28,!0),14,1735328473),n=ch(n,r=uh(r,i,o,n,e.getUint32(48,!0),20,2368359562),i,o,e.getUint32(20,!0),4,4294588738),o=ch(o,n,r,i,e.getUint32(32,!0),11,2272392833),i=ch(i,o,n,r,e.getUint32(44,!0),16,1839030562),r=ch(r,i,o,n,e.getUint32(56,!0),23,4259657740),n=ch(n,r,i,o,e.getUint32(4,!0),4,2763975236),o=ch(o,n,r,i,e.getUint32(16,!0),11,1272893353),i=ch(i,o,n,r,e.getUint32(28,!0),16,4139469664),r=ch(r,i,o,n,e.getUint32(40,!0),23,3200236656),n=ch(n,r,i,o,e.getUint32(52,!0),4,681279174),o=ch(o,n,r,i,e.getUint32(0,!0),11,3936430074),i=ch(i,o,n,r,e.getUint32(12,!0),16,3572445317),r=ch(r,i,o,n,e.getUint32(24,!0),23,76029189),n=ch(n,r,i,o,e.getUint32(36,!0),4,3654602809),o=ch(o,n,r,i,e.getUint32(48,!0),11,3873151461),i=ch(i,o,n,r,e.getUint32(60,!0),16,530742520),n=lh(n,r=ch(r,i,o,n,e.getUint32(8,!0),23,3299628645),i,o,e.getUint32(0,!0),6,4096336452),o=lh(o,n,r,i,e.getUint32(28,!0),10,1126891415),i=lh(i,o,n,r,e.getUint32(56,!0),15,2878612391),r=lh(r,i,o,n,e.getUint32(20,!0),21,4237533241),n=lh(n,r,i,o,e.getUint32(48,!0),6,1700485571),o=lh(o,n,r,i,e.getUint32(12,!0),10,2399980690),i=lh(i,o,n,r,e.getUint32(40,!0),15,4293915773),r=lh(r,i,o,n,e.getUint32(4,!0),21,2240044497),n=lh(n,r,i,o,e.getUint32(32,!0),6,1873313359),o=lh(o,n,r,i,e.getUint32(60,!0),10,4264355552),i=lh(i,o,n,r,e.getUint32(24,!0),15,2734768916),r=lh(r,i,o,n,e.getUint32(52,!0),21,1309151649),n=lh(n,r,i,o,e.getUint32(16,!0),6,4149444226),o=lh(o,n,r,i,e.getUint32(44,!0),10,3174756917),i=lh(i,o,n,r,e.getUint32(8,!0),15,718787259),r=lh(r,i,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295},e}();function sh(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function ah(e,t,n,r,i,o,s){return sh(t&n|~t&r,e,t,i,o,s)}function uh(e,t,n,r,i,o,s){return sh(t&r|n&~r,e,t,i,o,s)}function ch(e,t,n,r,i,o,s){return sh(t^n^r,e,t,i,o,s)}function lh(e,t,n,r,i,o,s){return sh(n^(t|~r),e,t,i,o,s)}var fh="s3.{region}.amazonaws.com",dh=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),hh=new Set(["cn-north-1","cn-northwest-1"]),ph=new Set(["us-iso-east-1"]),gh=new Set(["us-isob-east-1"]),vh=new Set(["us-gov-east-1","us-gov-west-1"]),mh={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:dh.has(e)&&(n={hostname:fh.replace("{region}",e),partition:"aws"}),hh.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),ph.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),gh.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),vh.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:fh.replace("{region}",e),partition:"aws"})}return Promise.resolve(ys({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:cr,useArnRegion:!1},yh=ys(ys({},mh),{runtime:"browser",base64Decoder:Ln,base64Encoder:Rn,bodyLengthChecker:Xn,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:nr({serviceId:mh.serviceId,clientVersion:"3.6.1"}),eventStreamSerdeProvider:function(e){return new Xd(e)},maxAttempts:3,md5:oh,region:jn("Region is missing"),requestHandler:new Pn,sha256:_n.Sha256,streamCollector:Nn,streamHasher:function(e,t){return(0,ae.__awaiter)(this,void 0,void 0,(function(){var n;return(0,ae.__generator)(this,(function(r){switch(r.label){case 0:return n=new e,[4,th(t,(function(e){n.update(e)}))];case 1:return r.sent(),[2,n.digest()]}}))}))},utf8Decoder:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},utf8Encoder:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}});var wh,Sh,bh,_h,Eh,Ch,Ah,Ph,kh,xh,Ih,Th,Uh,Oh,Mh,Lh,Rh,Nh,Dh,jh,Fh,Bh,zh,Kh,qh,Hh,Vh,Wh,Gh,$h,Yh,Jh,Zh,Qh,Xh={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},ep=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,ae.__awaiter)(t,void 0,void 0,(function(){var t;return(0,ae.__generator)(this,(function(i){return t=r.request,yt.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=(0,ae.__assign)((0,ae.__assign)({},t.headers),{Expect:"100-continue"})),[2,n((0,ae.__assign)((0,ae.__assign)({},r),{request:t}))]}))}))}}}(e),Xh)}}},tp=function(e){function t(t){var n,r,i,o,s,a,u,c,l,f,d,h,p=this,g=ys(ys({},yh),t),v=gr(g),m=oi(dr(v)),y=Zn(m),w=function(e){return(0,ae.__assign)((0,ae.__assign)({},e),{eventStreamMarshaller:e.eventStreamSerdeProvider(e)})}(li((r=(n=y).bucketEndpoint,i=void 0!==r&&r,o=n.forcePathStyle,s=void 0!==o&&o,a=n.useAccelerateEndpoint,u=void 0!==a&&a,c=n.useDualstackEndpoint,l=void 0!==c&&c,f=n.useArnRegion,d=void 0!==f&&f,(0,ae.__assign)((0,ae.__assign)({},n),{bucketEndpoint:i,forcePathStyle:s,useAccelerateEndpoint:u,useDualstackEndpoint:l,useArnRegion:"function"==typeof d?d:function(){return Promise.resolve(d)}}))));return(p=e.call(this,w)||this).config=w,p.middlewareStack.use((h=p.config,{applyToStack:function(e){e.addRelativeTo(ui(h),ci)}})),p.middlewareStack.use(Bn(p.config)),p.middlewareStack.use(wr(p.config)),p.middlewareStack.use(br(p.config)),p.middlewareStack.use(Er(p.config)),p.middlewareStack.use(ed(p.config)),p.middlewareStack.use(nd(p.config)),p.middlewareStack.use(ep(p.config)),p.middlewareStack.use(gi(p.config)),p}return ms(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(nn),np=function(){return np=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},np.apply(this,arguments)},rp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ip=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},op=new f("S3ClientUtils"),sp={accessKeyId:"",secretAccessKey:""},ap=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},up=function(e,t){return function(n,r){return function(r){return rp(void 0,void 0,void 0,(function(){var i,o,s,a;return ip(this,(function(u){switch(u.label){case 0:return[4,_i.get()];case 1:return i=u.sent(),o=_i.shear(i),s=ap(np(np({},e),{credentials:o})),a=Object.assign({},r.input),Object.prototype.hasOwnProperty.call(r.input,"Key")?(a.Key=s+t,r.input=a):Object.prototype.hasOwnProperty.call(r.input,"Prefix")&&(a.Prefix=s+t,r.input=a),[2,n(r)]}}))}))}}},cp=function(e){return function(t,n){return function(n){return rp(void 0,void 0,void 0,(function(){var r,i;return ip(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,o.sent()];case 2:throw r=o.sent(),(s=r).ServerTime&&"string"==typeof s.Code&&"RequestTimeTooSkewed"===s.Code&&(i=new Date(r.ServerTime),e.systemClockOffset=i.getTime()-Date.now()),r;case 3:return[2]}var s}))}))}}},lp={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},fp={step:"initialize",name:"addPrefixMiddleware"},dp=function(){return rp(void 0,void 0,void 0,(function(){var e,t,n;return ip(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,_i.get()];case 1:return(e=r.sent())?(t=_i.shear(e),op.debug("credentials provider get credentials",t),[2,t]):[2,sp];case 2:return n=r.sent(),op.warn("credentials provider error",n),[2,sp];case 3:return[2]}}))}))},hp=function(e,t){var n=e.region,r=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,s={};i&&(s={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var a=new tp(np(np({region:n,credentials:dp,customUserAgent:re()},s),{requestHandler:new xd({},t,r),useAccelerateEndpoint:o}));return a.middlewareStack.remove(Ud),a},pp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(ud(t)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Bl.filterSensitiveLog,outputFilterSensitiveLog:Fl.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Ss(this,(function(h){switch(h.label){case 0:if(n=ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys({"content-type":"application/octet-stream"},Uf(e.ACL)&&{"x-amz-acl":e.ACL}),Uf(e.CacheControl)&&{"cache-control":e.CacheControl}),Uf(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Uf(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Uf(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Uf(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),Uf(e.ContentMD5)&&{"content-md5":e.ContentMD5}),Uf(e.ContentType)&&{"content-type":e.ContentType}),Uf(e.Expires)&&{expires:fn(e.Expires).toString()}),Uf(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Uf(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Uf(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Uf(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Uf(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Uf(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Uf(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Uf(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Uf(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Uf(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Uf(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Uf(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Uf(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Uf(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Uf(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Uf(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return ys(ys({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o={"x-id":"PutObject"},void 0!==e.Body&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new yt({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n;return Ss(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,pf(e,t)]:(n={$metadata:If(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Tf(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn),gp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(ud(t)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:Vs.filterSensitiveLog,outputFilterSensitiveLog:Hs.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ss(this,(function(f){switch(f.label){case 0:if(n=ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys(ys({},Uf(e.ACL)&&{"x-amz-acl":e.ACL}),Uf(e.CacheControl)&&{"cache-control":e.CacheControl}),Uf(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Uf(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Uf(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Uf(e.ContentType)&&{"content-type":e.ContentType}),Uf(e.Expires)&&{expires:fn(e.Expires).toString()}),Uf(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Uf(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Uf(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Uf(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Uf(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Uf(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Uf(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Uf(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Uf(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Uf(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Uf(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Uf(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Uf(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Uf(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Uf(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Uf(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return ys(ys({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o={uploads:""},[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new yt({protocol:c,hostname:a,port:l,method:"POST",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r;return Ss(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,cf(e,t)]:(n={$metadata:If(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Of(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn);!function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(wh||(wh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Encryption&&{Encryption:tf.filterSensitiveLog(e.Encryption)})}}(Sh||(Sh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.S3&&{S3:Sh.filterSensitiveLog(e.S3)})}}(bh||(bh={})),function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"}(_h||(_h={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Eh||(Eh={})),function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"}(Ch||(Ch={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ah||(Ah={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ph||(Ph={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(kh||(kh={})),function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"}(xh||(xh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Ih||(Ih={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Th||(Th={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Uh||(Uh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Oh||(Oh={})),function(e){e.SELECT="SELECT"}(Mh||(Mh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.OutputLocation&&{OutputLocation:bh.filterSensitiveLog(e.OutputLocation)})}}(Lh||(Lh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.RestoreRequest&&{RestoreRequest:Lh.filterSensitiveLog(e.RestoreRequest)})}}(Rh||(Rh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Nh||(Nh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Dh||(Dh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(jh||(jh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Fh||(Fh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Bh||(Bh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(zh||(zh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Kh||(Kh={})),function(e){e.visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:Bh.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:Kh.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:Fh.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:Nh.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:Dh.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(qh||(qh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})}}(Hh||(Hh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Vh||(Vh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Wh||(Wh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSECustomerKey&&{SSECustomerKey:dn})}}(Gh||(Gh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:dn})}}($h||($h={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSECustomerKey&&{SSECustomerKey:dn})}}(Yh||(Yh={})),function(e){e.filterSensitiveLog=function(e){return ys({},e)}}(Jh||(Jh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:dn})}}(Zh||(Zh={})),function(e){e.filterSensitiveLog=function(e){return ys(ys(ys({},e),e.SSECustomerKey&&{SSECustomerKey:dn}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:dn})}}(Qh||(Qh={}));var vp,mp,yp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(ud(t)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:Yh.filterSensitiveLog,outputFilterSensitiveLog:$h.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Ss(this,(function(h){switch(h.label){case 0:if(n=ys(ys(ys(ys(ys(ys(ys({"content-type":"application/octet-stream"},Uf(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),Uf(e.ContentMD5)&&{"content-md5":e.ContentMD5}),Uf(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Uf(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Uf(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o=ys(ys({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new yt({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n;return Ss(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,gf(e,t)]:(n={$metadata:If(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Tf(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn),wp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(sd(t)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:Ls.filterSensitiveLog,outputFilterSensitiveLog:Us.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Ss(this,(function(h){switch(h.label){case 0:if(n=ys(ys({"content-type":"application/xml"},Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o=ys({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(a=bf(e.MultipartUpload,t),s='<?xml version="1.0" encoding="UTF-8"?>',a.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=a.toString()),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new yt({protocol:f,hostname:c,port:d,method:"POST",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r;return Ss(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,af(e,t)]:(n={$metadata:If(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Of(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.ETag&&(n.ETag=r.ETag),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.Location&&(n.Location=r.Location),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn),Sp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:Es.filterSensitiveLog,outputFilterSensitiveLog:_s.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ss(this,(function(f){switch(f.label){case 0:if(n=ys(ys({},Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o=ys({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new yt({protocol:c,hostname:a,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n;return Ss(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,sf(e,t)]:(n={$metadata:If(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Tf(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn),bp=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return ms(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Qt(t,this.serialize,this.deserialize)),this.middlewareStack.use(Qf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:hl.filterSensitiveLog,outputFilterSensitiveLog:dl.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Ss(this,(function(f){switch(f.label){case 0:if(n=ys(ys({},Uf(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Uf(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",on(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return on(e)})).join("/")),o=ys(ys(ys({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new yt({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return ws(void 0,void 0,void 0,(function(){var n,r;return Ss(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,hf(e,t)]:(n={$metadata:If(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Of(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Initiator&&(n.Initiator=Af(r.Initiator,t)),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.MaxParts&&(n.MaxParts=parseInt(r.MaxParts)),void 0!==r.NextPartNumberMarker&&(n.NextPartNumberMarker=r.NextPartNumberMarker),void 0!==r.Owner&&(n.Owner=kf(r.Owner,t)),void 0!==r.PartNumberMarker&&(n.PartNumberMarker=r.PartNumberMarker),""===r.Part&&(n.Parts=[]),void 0!==r.Part&&(n.Parts=xf(sn(r.Part),t)),void 0!==r.StorageClass&&(n.StorageClass=r.StorageClass),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(rn),_p=n(7187),Ep=function(){return Ep=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ep.apply(this,arguments)},Cp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ap=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Pp=new f("AWSS3ProviderManagedUpload"),kp=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.uploadId=null,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n,this.s3client=this._createNewS3Client(t,n)}return e.prototype.upload=function(){return Cp(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a=this;return Ap(this,(function(u){switch(u.label){case 0:return u.trys.push([0,10,,12]),e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=u.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new pp(this.params),[2,this.s3client.send(t)]):[3,2];case 2:return n=this,[4,this.createMultiPartUpload()];case 3:n.uploadId=u.sent(),r=Math.ceil(this.totalBytesToUpload/this.minPartSize),i=this.createParts(),o=0,u.label=4;case 4:return o<r?[4,this.uploadParts(this.uploadId,i.slice(o,o+this.queueSize))]:[3,7];case 5:u.sent(),u.label=6;case 6:return o+=this.queueSize,[3,4];case 7:return i.map((function(e){a.removeEventListener(e)})),[4,this.finishMultiPartUpload(this.uploadId)];case 8:return[2,u.sent()];case 9:return[3,12];case 10:return s=u.sent(),[4,this.cleanup(this.uploadId)];case 11:throw u.sent(),Pp.error("Error. Cancelling the multipart upload."),s;case 12:return[2]}}))}))},e.prototype.createParts=function(){try{for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new _p.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e}catch(e){throw Pp.error(e),e}},e.prototype.createMultiPartUpload=function(){return Cp(this,void 0,void 0,(function(){var e,t,n;return Ap(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=new gp(this.params),[4,this.s3client.send(e)];case 1:return t=r.sent(),Pp.debug(t.UploadId),[2,t.UploadId];case 2:throw n=r.sent(),Pp.error(n),n;case 3:return[2]}}))}))},e.prototype.uploadParts=function(e,t){return Cp(this,void 0,void 0,(function(){var n,r,i,o=this;return Ap(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return Cp(o,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Ap(this,(function(c){switch(c.label){case 0:return this.setupEventListener(t),n={emitter:t.emitter},r=this.params,i=r.Key,o=r.Bucket,s=r.SSECustomerAlgorithm,a=r.SSECustomerKey,u=r.SSECustomerKeyMD5,[4,this.s3client.send(new yp(Ep(Ep(Ep({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:i,Bucket:o},s&&{SSECustomerAlgorithm:s}),a&&{SSECustomerKey:a}),u&&{SSECustomerKeyMD5:u})),n)];case 1:return[2,c.sent()]}}))}))})))];case 1:for(n=s.sent(),r=0;r<n.length;r++)this.completedParts.push({PartNumber:t[r].partNumber,ETag:n[r].ETag});return[3,3];case 2:throw i=s.sent(),Pp.error("Error happened while uploading a part. Cancelling the multipart upload"),i;case 3:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return Cp(this,void 0,void 0,(function(){var t,n,r;return Ap(this,(function(i){switch(i.label){case 0:t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new wp(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return[2,i.sent().Key];case 3:throw r=i.sent(),Pp.error("Error happened while finishing the upload."),r;case 4:return[2]}}))}))},e.prototype.cleanup=function(e){return Cp(this,void 0,void 0,(function(){var t,n;return Ap(this,(function(r){switch(r.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new Sp(t))];case 1:return r.sent(),[4,this.s3client.send(new bp(t))];case 2:if((n=r.sent())&&n.Parts&&n.Parts.length>0)throw new Error("Multipart upload clean up failed.");return[2]}}))}))},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(Cd),e.emitter.removeAllListeners(Ad)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(Cd,(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(Cd,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return Cp(this,void 0,void 0,(function(){return Ap(this,(function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]}))}))},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var n=hp(e,t);return n.middlewareStack.add(up(this.opts,this.params.Key),fp),n.middlewareStack.add(cp(n.config),lp),n},e}(),xp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Ip=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Tp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Up=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tp(arguments[t]));return e},Op=new f("AWSS3UploadTask");!function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"}(vp||(vp={})),function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"}(mp||(mp={}));function Mp(e,t){return e.PartNumber-t.PartNumber}var Lp=function(){function e(e){var t=e.s3Client,n=e.file,r=e.emitter,i=e.storage,o=e.params,s=e.level,a=e.prefixPromise;this.partSize=5242880,this.queueSize=4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=vp.INIT,this.prefixPromise=a,this.s3client=t,this.s3client.middlewareStack.remove(Ud),this.storage=i,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=o,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=r,this.queued=[],this.fileId=this._getFileId(s),this._validateParams(),this.emitter.on(mp.ERROR,(function(){}))}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===vp.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,n=e.bucket;return xp(this,void 0,void 0,(function(){var e,r,i,o;return Ip(this,(function(s){switch(s.label){case 0:return[4,this.s3client.send(new dd({Bucket:n,Prefix:t}))];case 1:return e=s.sent(),r=e.Contents,i=void 0===r?[]:r,[4,this.prefixPromise];case 2:return o=s.sent(),[2,i.find((function(e){return e.Key===""+o+t}))]}}))}))},e.prototype._getFileId=function(e){return void 0!==(t=this.file)&&t instanceof File?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-");var t},e.prototype._findCachedUploadParts=function(){return xp(this,void 0,void 0,(function(){var e,t;return Ip(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=n.sent(),0!==Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,this.fileId)?((t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem(Od,JSON.stringify(e)),[4,this.s3client.send(new bp({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))]):[2,{parts:[],uploadId:null}];case 2:return[2,{parts:n.sent().Parts||[],uploadId:t.uploadId}]}}))}))},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>1e4)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is 10000.")},e.prototype._listCachedUploadTasks=function(){return xp(this,void 0,void 0,(function(){var e;return Ip(this,(function(t){switch(t.label){case 0:return[4,this.storageSync];case 1:return t.sent(),e=this.storage.getItem(Od)||"{}",[2,JSON.parse(e)]}}))}))},e.prototype._cache=function(e){return xp(this,void 0,void 0,(function(){var t;return Ip(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=n.sent())[this.fileId]=e,this.storage.setItem(Od,JSON.stringify(t)),[2]}}))}))},e.prototype._isCached=function(){return xp(this,void 0,void 0,(function(){var e,t;return Ip(this,(function(n){switch(n.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[n.sent(),this.fileId])]}}))}))},e.prototype._removeFromCache=function(){return xp(this,void 0,void 0,(function(){var e;return Ip(this,(function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return delete(e=t.sent())[this.fileId],this.storage.setItem(Od,JSON.stringify(e)),[2]}}))}))},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,n=e.partNumber,r=e.chunk;return xp(this,void 0,void 0,(function(){return Ip(this,(function(e){return this.completedParts.push({ETag:t,PartNumber:n}),this.bytesUploaded+=function(e){if("string"==typeof e)return e.length;if(Rd(e))return e.byteLength;if(Ld(e))return e.size;throw new Error("Cannot determine byte length of "+e)}(r),this._emitEvent(mp.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter((function(e){return e.uploadPartInput.PartNumber!==n})),this.queued.length&&this.state!==vp.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]}))}))},e.prototype._completeUpload=function(){return xp(this,void 0,void 0,(function(){var e;return Ip(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.s3client.send(new wp({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(Mp)}}))];case 1:return t.sent(),this._verifyFileSize(),this._emitEvent(mp.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=vp.COMPLETED,[3,3];case 2:return e=t.sent(),Op.error("error completing upload",e),this._emitEvent(mp.ERROR,e),[3,3];case 3:return[2]}}))}))},e.prototype._makeUploadPartRequest=function(e,t){return xp(this,void 0,void 0,(function(){var n,r;return Ip(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.s3client.send(new yp(e),{cancelTokenSource:t})];case 1:return n=i.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.state===vp.PAUSED?Op.log("upload paused"):this.state===vp.CANCELLED?Op.log("upload aborted"):Op.error("error starting next part of upload: ",r),Sd().isCancel(r)||r.message===md.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(mp.ERROR,r),this.pause()),[3,4];case 4:return[2]}}))}))},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==vp.PAUSED){var e=Sd().CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return xp(this,void 0,void 0,(function(){var e,t;return Ip(this,(function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(e=n.sent(),!(t=Boolean(e&&e.Size===this.file.size)))throw new Error("File size does not match between local file and file on s3");return[2,t]}}))}))},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],n=0;n<e;){var r=Math.min(n+this.partSize,e);t.push({Body:this.file.slice(n,r),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),n+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce((function(e,t){return e+t.Size}),0);var t=new Set(e.map((function(e){return e.PartNumber})));this.queued=this.queued.filter((function(e){return!t.has(e.PartNumber)})),this.completedParts=e.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}})),this._emitEvent(mp.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return xp(this,void 0,void 0,(function(){var e;return Ip(this,(function(t){switch(t.label){case 0:return[4,this.s3client.send(new gp(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}}))}))},e.prototype._initializeUploadTask=function(){return xp(this,void 0,void 0,(function(){var e,t,n,r;return Ip(this,(function(i){switch(i.label){case 0:this.state=vp.IN_PROGRESS,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this._isCached()];case 2:return i.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return e=i.sent(),t=e.parts,n=e.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=i.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),i.label=6;case 6:return[3,8];case 7:return r=i.sent(),Sd().isCancel(r)||Op.error("Error initializing the upload task",r),[3,8];case 8:return[2]}}))}))},e.prototype.resume=function(){this.state===vp.CANCELLED?Op.warn("This task has already been cancelled"):this.state===vp.COMPLETED?Op.warn("This task has already been completed"):this.state===vp.IN_PROGRESS?Op.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=vp.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return xp(this,void 0,void 0,(function(){var e;return Ip(this,(function(t){switch(t.label){case 0:return this.state!==vp.CANCELLED?[3,1]:(Op.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==vp.COMPLETED?[3,2]:(Op.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=vp.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new Sp({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),Op.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}}))}))},e.prototype.pause=function(){var e;this.state===vp.CANCELLED?Op.warn("This task has already been cancelled"):this.state===vp.COMPLETED?Op.warn("This task has already been completed"):this.state===vp.PAUSED&&Op.warn("This task is already paused"),this.state=vp.PAUSED;var t=this.inProgress.splice(0,this.inProgress.length);t.forEach((function(e){e.cancel(md.UPLOAD_PAUSED_MESSAGE)})),(e=this.queued).unshift.apply(e,Up(t.map((function(e){return e.uploadPartInput}))))},e}(),Rp=function(){return Rp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rp.apply(this,arguments)},Np=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Dp=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},jp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Fp=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(jp(arguments[t]));return e},Bp=new f("AWSS3Provider"),zp="public",Kp=function(){function e(e){var t=this;this._config=e||{},this._storage=(new S).getStorage(),m.listen("auth",(function(e){var n=e.payload;"signOut"!==n.event&&"signIn"!==n.event||t._storage.removeItem(Od)})),Bp.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(Bp.debug("configure Storage",e),!e)return this._config;var t=Pi.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||Bp.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var n=e.s3Client,r=e.emitter,i=e.key,o=e.file,s=e.params,a=t.progressCallback,u=t.completeCallback,c=t.errorCallback,l=t.track,f=void 0!==l&&l;if(!(o instanceof Blob))throw new Error(gd.INVALID_BLOB);r.on(mp.UPLOAD_PROGRESS,(function(e){a&&("function"==typeof a?a(e):Bp.warn("progressCallback should be a function, not a "+typeof a))})),r.on(mp.UPLOAD_COMPLETE,(function(e){u&&("function"==typeof u?u(e):Bp.warn("completeCallback should be a function, not a "+typeof u))})),r.on(mp.ERROR,(function(e){c&&("function"==typeof c?c(e):Bp.warn("errorCallback should be a function, not a "+typeof c))}));var d=_i.get().then((function(e){var n=_i.shear(e);return ap(Rp(Rp({},t),{credentials:n}))})),h=new Lp({s3Client:n,file:o,emitter:r,level:t.level,storage:this._storage,params:s,prefixPromise:d});return Md(f,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+i),h.resume(),h},e.prototype.copy=function(e,t,n){return Np(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,S,b,_,E,C,A,P,k;return Dp(this,(function(x){switch(x.label){case 0:return[4,this._ensureCredentials()];case 1:if(!x.sent()||!this._isWithCredentials(this._config))throw new Error(gd.NO_CREDENTIALS);if(r=Object.assign({},this._config,n),i=r.acl,o=r.bucket,s=r.cacheControl,a=r.expires,u=r.track,c=r.serverSideEncryption,l=r.SSECustomerAlgorithm,f=r.SSECustomerKey,d=r.SSECustomerKeyMD5,h=r.SSEKMSKeyId,p=e.level,g=void 0===p?zp:p,v=e.identityId,m=e.key,y=t.level,w=void 0===y?zp:y,S=t.key,!m||"string"!=typeof m)throw new Error(gd.NO_SRC_KEY);if(!S||"string"!=typeof S)throw new Error(gd.NO_DEST_KEY);"protected"!==g&&v&&Bp.warn('You may copy files from another user if the source level is "protected", currently it\'s '+g),b=this._prefix(Rp(Rp(Rp({},r),{level:g}),v&&{identityId:v})),_=this._prefix(Rp(Rp({},r),{level:w})),E=o+"/"+b+m,C=""+_+S,Bp.debug("copying "+E+" to "+C),A={Bucket:o,CopySource:E,Key:C,MetadataDirective:"COPY"},s&&(A.CacheControl=s),a&&(A.Expires=a),c&&(A.ServerSideEncryption=c),l&&(A.SSECustomerAlgorithm=l),f&&(A.SSECustomerKey=f),d&&(A.SSECustomerKeyMD5=d),h&&(A.SSEKMSKeyId=h),i&&(A.ACL=i),P=this._createNewS3Client(r),x.label=2;case 2:return x.trys.push([2,4,,5]),[4,P.send(new cd(A))];case 3:return x.sent(),Md(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+m+" to "+S),[2,{key:S}];case 4:throw k=x.sent(),Md(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+m+" to "+S),k;case 5:return[2]}}))}))},e.prototype.get=function(e,t){return Np(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,m,y,w,S,b,_,E,C,A,P,k,x;return Dp(this,(function(I){switch(I.label){case 0:return[4,this._ensureCredentials()];case 1:if(!I.sent()||!this._isWithCredentials(this._config))throw new Error(gd.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),r=n.bucket,i=n.download,o=n.cacheControl,s=n.contentDisposition,a=n.contentEncoding,u=n.contentLanguage,c=n.contentType,l=n.expires,f=n.track,d=n.SSECustomerAlgorithm,h=n.SSECustomerKey,p=n.SSECustomerKeyMD5,g=n.progressCallback,v=this._prefix(n),m=v+e,y=new _p.EventEmitter,w=this._createNewS3Client(n,y),Bp.debug("get "+e+" from "+m),S={Bucket:r,Key:m},o&&(S.ResponseCacheControl=o),s&&(S.ResponseContentDisposition=s),a&&(S.ResponseContentEncoding=a),u&&(S.ResponseContentLanguage=u),c&&(S.ResponseContentType=c),d&&(S.SSECustomerAlgorithm=d),h&&(S.SSECustomerKey=h),p&&(S.SSECustomerKeyMD5=p),!0!==i)return[3,5];b=new ld(S),I.label=2;case 2:return I.trys.push([2,4,,5]),g&&("function"==typeof g?y.on(Ad,(function(e){g(e)})):Bp.warn("progressCallback should be a function, not a "+typeof g)),[4,w.send(b)];case 3:return _=I.sent(),y.removeAllListeners(Ad),Md(f,"download",{method:"get",result:"success"},{fileSize:Number(_.Body.size||_.Body.length)},"Download success for "+e),[2,_];case 4:throw E=I.sent(),Md(f,"download",{method:"get",result:"failed"},null,"Download failed with "+E.message),E;case 5:return I.trys.push([5,8,,9]),C=new yd(Rp({},w.config)),[4,pd(w,new ld(S))];case 6:return A=I.sent(),k=hd,[4,C.presign(A,{expiresIn:l||900})];case 7:return P=k.apply(void 0,[I.sent()]),Md(f,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+P),[2,P];case 8:throw x=I.sent(),Bp.warn("get signed url error",x),Md(f,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),x;case 9:return[2]}}))}))},e.prototype.put=function(e,t,n){var r=Object.assign({},this._config,n),i=r.bucket,o=r.track,s=r.progressCallback,a=r.level,u=r.resumable,c=r.contentType,l=r.contentDisposition,f=r.contentEncoding,d=r.cacheControl,h=r.expires,p=r.metadata,g=r.tagging,v=r.acl,m=r.serverSideEncryption,y=r.SSECustomerAlgorithm,w=r.SSECustomerKey,S=r.SSECustomerKeyMD5,b=r.SSEKMSKeyId,_={Bucket:i,Key:e,Body:t,ContentType:c||"binary/octet-stream"};d&&(_.CacheControl=d),l&&(_.ContentDisposition=l),f&&(_.ContentEncoding=f),h&&(_.Expires=h),p&&(_.Metadata=p),g&&(_.Tagging=g),m&&(_.ServerSideEncryption=m),y&&(_.SSECustomerAlgorithm=y),w&&(_.SSECustomerKey=w),S&&(_.SSECustomerKeyMD5=S),b&&(_.SSEKMSKeyId=b);var E=new _p.EventEmitter,C=new kp(_,r,E);if(v&&(_.ACL=v),!0===u){var A=this._createNewS3Client(r);A.middlewareStack.add(up(r,e),fp);var P={bucket:i,key:e,s3Client:A,file:t,emitter:E,accessLevel:a,params:_};return this.startResumableUpload(P,n)}try{return s&&("function"==typeof s?E.on(Cd,(function(e){s(e)})):Bp.warn("progressCallback should be a function, not a "+typeof s)),C.upload().then((function(t){return Bp.debug("upload result",t),Md(o,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}}))}catch(t){throw Bp.warn("error uploading",t),Md(o,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),t}},e.prototype.remove=function(e,t){return Np(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Dp(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent()||!this._isWithCredentials(this._config))throw new Error(gd.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=this._prefix(n),s=o+e,a=this._createNewS3Client(n),Bp.debug("remove "+e+" from "+s),u=new fd({Bucket:r,Key:s}),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.send(u)];case 3:return c=f.sent(),Md(i,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw l=f.sent(),Md(i,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+l),l;case 5:return[2]}}))}))},e.prototype._list=function(e,t,n){return Np(this,void 0,void 0,(function(){var r,i,o,s;return Dp(this,(function(a){switch(a.label){case 0:return r={contents:[],nextToken:""},i=this._createNewS3Client(t),o=new dd(Rp({},e)),[4,i.send(o)];case 1:return(s=a.sent())&&s.Contents&&(r.contents=s.Contents.map((function(e){return{key:e.Key.substr(n.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}})),r.nextToken=s.NextContinuationToken),[2,r]}}))}))},e.prototype.list=function(e,t){return Np(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Dp(this,(function(h){switch(h.label){case 0:return[4,this._ensureCredentials()];case 1:if(!h.sent()||!this._isWithCredentials(this._config))throw new Error(gd.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=n.maxKeys,s=this._prefix(n),a=s+e,Bp.debug("list "+e+" from "+a),h.label=2;case 2:if(h.trys.push([2,10,,11]),u=[],c=void 0,l=void 0,f={Bucket:r,Prefix:a,MaxKeys:1e3},"ALL"!==o)return[3,7];h.label=3;case 3:return f.ContinuationToken=c,f.MaxKeys=1e3,[4,this._list(f,n,s)];case 4:l=h.sent(),u.push.apply(u,Fp(l.contents)),l.nextToken&&(c=l.nextToken),h.label=5;case 5:if(l.nextToken)return[3,3];h.label=6;case 6:return[3,9];case 7:return f.MaxKeys=o<1e3||"string"==typeof o?o:1e3,[4,this._list(f,n,s)];case 8:l=h.sent(),u.push.apply(u,Fp(l.contents)),o>1e3&&Bp.warn("maxkeys can be from 0 - 1000 or 'ALL'. To list all files you can set maxKeys to 'ALL'."),h.label=9;case 9:return Md(i,"list",{method:"list",result:"success"},null,u.length+" items returned from list operation"),Bp.debug("list",u),[2,u];case 10:throw d=h.sent(),Bp.warn("list error",d),Md(i,"list",{method:"list",result:"failed"},null,"Listing items failed: "+d.message),d;case 11:return[2]}}))}))},e.prototype._ensureCredentials=function(){return Np(this,void 0,void 0,(function(){var e,t,n;return Dp(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,_i.get()];case 1:return(e=r.sent())?(t=_i.shear(e),Bp.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),Bp.warn("ensure credentials error",n),[2,!1];case 3:return[2]}}))}))},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},e.prototype._createNewS3Client=function(e,t){var n=hp(e,t);return n.middlewareStack.add(cp(n.config),lp),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}();var qp=function(){return qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qp.apply(this,arguments)},Hp=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Vp=new f("StorageClass"),Wp="AWSS3",Gp=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,Vp.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory()){this._pluggables.push(e);return e.configure(this._config[e.getProviderName()])}},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(Vp.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(Vp.debug("configure Storage"),!e)return this._config;var n=Pi.parseMobilehubConfig(e),r=Object.keys(n.Storage),i=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],o=function(e){return i.some((function(t){return t===e}))};return r&&r.find((function(e){return o(e)}))&&!n.Storage.AWSS3&&(n.Storage.AWSS3={}),Object.entries(n.Storage).map((function(e){var t=Hp(e,2),r=t[0],i=t[1];r&&o(r)&&void 0!==i&&(n.Storage.AWSS3[r]=i,delete n.Storage[r])})),Object.keys(n.Storage).forEach((function(e){"string"!=typeof n.Storage[e]&&(t._config[e]=qp(qp({},t._config[e]),n.Storage[e]))})),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new Kp),this._config},e.prototype.getCancellableTokenSource=function(){return Sd().CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof Lp)return e._cancel();var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):Vp.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var r=(null==n?void 0:n.provider)||Wp,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return Vp.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource();if("function"!=typeof i.copy)return Promise.reject(".copy is not implemented on provider "+i.getProviderName());var s=i.copy(e,t,qp(qp({},n),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(s,o),s},e.prototype.get=function(e,t){var n=(null==t?void 0:t.provider)||Wp,r=this._pluggables.find((function(e){return e.getProviderName()===n}));if(void 0===r)return Vp.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),o=r.get(e,qp(qp({},t),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(o,i),o},e.prototype.isCancelError=function(e){return Sd().isCancel(e)},e.prototype.put=function(e,t,n){var r=(null==n?void 0:n.provider)||Wp,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return Vp.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),s=i.put(e,t,qp(qp({},n),{cancelTokenSource:o}));return this.isUploadTask(s)||this.updateRequestToBeCancellable(s,o),s},e.prototype.remove=function(e,t){var n=(null==t?void 0:t.provider)||Wp,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(Vp.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.remove(e,t)},e.prototype.list=function(e,t){var n=(null==t?void 0:t.provider)||Wp,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(Vp.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.list(e,t)},e}();var $p=function(){return $p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$p.apply(this,arguments)},Yp=new f("Storage"),Jp=null,Zp=function(){if(Jp)return Jp;Yp.debug("Create Storage Instance, debug"),(Jp=new Gp).vault=new Gp;var e=Jp.configure;return Jp.configure=function(t){Yp.debug("storage configure called");var n=$p({},e.call(Jp,t));Object.keys(n).forEach((function(e){"string"!=typeof n[e]&&(n[e]=$p($p({},n[e]),{level:"private"}))})),Yp.debug("storage vault configure called"),Jp.vault.configure(n)},Jp}();se.register(Zp);gs.configure({Auth:{region:"us-east-1",identityPoolId:"us-east-1:bae5c41f-cb27-4ac6-9ac1-05977f7812d0",userPoolId:"us-east-1_cIskjGoJg",userPoolWebClientId:"2o2ltcq8tnme2fidk35frk2kt4"}}),Zp.configure({AWSS3:{bucket:"tmpuploadfiles",region:"us-east-1"}}),chrome.amplifyStorage=chrome.amplifyStorage||Zp,chrome.amplifyAuth=chrome.amplifyAuth||gs})()})();