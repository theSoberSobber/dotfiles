function Convert(){let e=this;function n(n,t,o){if(e[n.fn]&&(e[n.fn](n,t,o),function(n){if(e.needToSendTrueForChromeAsyncResFunctions.includes(n))return!0;return!1}(n.fn)))return!0}function t(n,o,r){n===e.convertTabId&&void 0!==o.status&&"complete"===o.status&&(chrome.tabs.sendMessage(e.convertTabId,{fn:"setTextInNRInput",text:e.textToConvert},(()=>{chrome.runtime.lastError})),chrome.tabs.onUpdated.removeListener(t))}e.needToSendTrueForChromeAsyncResFunctions=[],e.convertTabId=null,e.textToConvert="",e.convertAlertWindowId=0,e.shouldConvert=!1,this.init=function(){chrome.runtime.onMessage.addListener(n)},this.addOnRemovedListenerForConvert=function(){chrome.windows.onRemoved.addListener((function n(t){e.convertAlertWindowId===t&&e.shouldConvert&&(chrome.windows.onRemoved.removeListener(n),convert(),e.shouldConvert=!1)}))},this.setConvertAlertWindowId=function(e,n,t){this.convertAlertWindowId=e.windowId},this.setShouldConvert=function(e,n,t){this.shouldConvert=e.val},this.passTextToPwForConvert=function(n){return new Promise((function(o){chrome.tabs.create({url:"https://www.naturalreaders.com/online/?source=ext-convert",active:!0},(function(r){e.convertTabId=r.id,e.textToConvert=n,chrome.tabs.onUpdated.addListener(t),o()}))}))}}const convert=new Convert;convert.init();