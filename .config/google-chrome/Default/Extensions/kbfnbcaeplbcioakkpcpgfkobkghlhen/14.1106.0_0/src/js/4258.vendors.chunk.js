(self.webpackChunk=self.webpackChunk||[]).push([[4258],{5315:(e,t)=>{t.x=void 0,t.x=.5},62172:(e,t,n)=>{n.r(t),n.d(t,{Blue0:()=>r,Blue10:()=>i,Blue100:()=>p,Blue20:()=>o,Blue30:()=>s,Blue40:()=>a,Blue60:()=>u,Blue80:()=>c,Blue90:()=>l,BlueGray0:()=>f,BlueGray10:()=>h,BlueGray100:()=>C,BlueGray20:()=>m,BlueGray30:()=>g,BlueGray35:()=>v,BlueGray40:()=>y,BlueGray5:()=>d,BlueGray50:()=>b,BlueGray60:()=>x,BlueGray70:()=>w,BlueGray80:()=>_,BlueGray90:()=>S,Gold0:()=>k,Gold10:()=>E,Gold100:()=>N,Gold20:()=>O,Gold30:()=>I,Gold40:()=>T,Gold60:()=>A,Gold80:()=>P,Gold90:()=>R,Green0:()=>D,Green10:()=>B,Green100:()=>F,Green20:()=>U,Green30:()=>j,Green40:()=>M,Green60:()=>L,Green80:()=>G,Green90:()=>z,Magenta0:()=>V,Magenta10:()=>$,Magenta100:()=>X,Magenta20:()=>Z,Magenta30:()=>H,Magenta40:()=>W,Magenta60:()=>K,Magenta80:()=>q,Magenta90:()=>Y,NeutralGray0:()=>Q,NeutralGray10:()=>ee,NeutralGray100:()=>le,NeutralGray20:()=>te,NeutralGray30:()=>ne,NeutralGray35:()=>re,NeutralGray40:()=>ie,NeutralGray5:()=>J,NeutralGray50:()=>oe,NeutralGray60:()=>se,NeutralGray70:()=>ae,NeutralGray80:()=>ue,NeutralGray90:()=>ce,Purple0:()=>pe,Purple10:()=>fe,Purple100:()=>be,Purple20:()=>de,Purple30:()=>he,Purple40:()=>me,Purple60:()=>ge,Purple80:()=>ve,Purple90:()=>ye,Red0:()=>xe,Red10:()=>we,Red100:()=>Ie,Red20:()=>_e,Red30:()=>Se,Red40:()=>Ce,Red60:()=>ke,Red80:()=>Ee,Red90:()=>Oe,Teal0:()=>Te,Teal10:()=>Ae,Teal100:()=>je,Teal20:()=>Pe,Teal30:()=>Re,Teal40:()=>Ne,Teal60:()=>De,Teal80:()=>Be,Teal90:()=>Ue,White:()=>Me});const r="#E5EBFF",i="#D7E0FE",o="#B8C8FB",s="#8CA6F6",a="#5679E8",u="#2551DA",c="#02289E",l="#001862",p="#000A26",f="#F4F4F6",d="#E2E4E9",h="#CDD1DC",m="#C2C6D4",g="#ADB2C3",v="#99A0B3",y="#878DA2",b="#757C92",x="#646B81",w="#565B6C",_="#474B58",S="#27282E",C="#161719",k="#FFF4E0",E="#FFEAC2",O="#FFDD9D",I="#FFC444",T="#FFA600",A="#C98300",P="#935F00",R="#5C3C00",N="#261900",D="#E0FFF8",B="#BEFDEF",U="#7CF4D8",j="#18E7B7",M="#10C097",L="#0A9A78",G="#05735A",z="#024D3B",F="#00261D",V="#FFE5F0",$="#FEC8DD",Z="#FAACCB",H="#F079A8",W="#E14683",K="#D21861",q="#990C43",Y="#600428",X="#26000F",Q="#F5F5F5",J="#E6E6E6",ee="#D7D7D7",te="#CECECE",ne="#BCBCBC",re="#A9A9A9",ie="#979797",oe="#858585",se="#727272",ae="#616161",ue="#4F4F4F",ce="#2B2B2B",le="#191919",pe="#F3E0FF",fe="#E6CCFB",de="#DABAF2",he="#C194E2",me="#A469CF",ge="#8943BC",ve="#60258A",ye="#3A1058",be="#180426",xe="#FFEBEE",we="#FECDD5",_e="#FBABB8",Se="#F1768A",Ce="#E2415B",ke="#D31332",Ee="#990921",Oe="#600312",Ie="#260006",Te="#E0FCFF",Ae="#B2F4FA",Pe="#7DE5EF",Re="#2AC6D5",Ne="#1CA5B2",De="#11848F",Be="#09646C",Ue="#034349",je="#002326",Me="#FFFFFF"},88392:(e,t,n)=>{n.d(t,{fe:()=>r,xB:()=>i,ze:()=>o});const r=.125,i=.25,o=.5},13578:(e,t,n)=>{n.d(t,{S5:()=>i,XY:()=>r,vU:()=>o});const r={Boundaries:{Primary:{Default:"var(--base-boundaries-primary-default)"},Secondary:{Default:"var(--base-boundaries-secondary-default)"}},Content:{OnPrimary:{Default:"var(--base-content-onprimary-default)"},Primary:{Default:"var(--base-content-primary-default)"},Secondary:{Default:"var(--base-content-secondary-default)"}},Surface:{Primary:{Default:"var(--base-surface-primary-default)"},Secondary:{Default:"var(--base-surface-secondary-default)"}}},i={Content:{OnPrimary:{Default:"var(--emphasized-content-onprimary-default)"},Primary:{Default:"var(--emphasized-content-primary-default)"},Secondary:{Default:"var(--emphasized-content-secondary-default)"}},DangerAndDeletion:{Primary:{Default:"var(--emphasized-dangeranddeletion-primary-default)",Hover:"var(--emphasized-dangeranddeletion-primary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--emphasized-interactivebranded-primary-default)",Hover:"var(--emphasized-interactivebranded-primary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--emphasized-interactiveneutral-primary-default)",Hover:"var(--emphasized-interactiveneutral-primary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--emphasized-successandaddition-primary-default)",Hover:"var(--emphasized-successandaddition-primary-hover)"}},Surface:{Primary:{Default:"var(--emphasized-surface-primary-default)"}},Warning:{Primary:{Default:"var(--emphasized-warning-primary-default)",Hover:"var(--emphasized-warning-primary-hover)"}}},o={DangerAndDeletion:{Primary:{Default:"var(--interface-dangeranddeletion-primary-default)",Hover:"var(--interface-dangeranddeletion-primary-hover)"},Secondary:{Default:"var(--interface-dangeranddeletion-secondary-default)",Hover:"var(--interface-dangeranddeletion-secondary-hover)"}},InteractiveBranded:{Primary:{Default:"var(--interface-interactivebranded-primary-default)",Hover:"var(--interface-interactivebranded-primary-hover)"},Secondary:{Default:"var(--interface-interactivebranded-secondary-default)",Hover:"var(--interface-interactivebranded-secondary-hover)"}},InteractiveNeutral:{Primary:{Default:"var(--interface-interactiveneutral-primary-default)",Hover:"var(--interface-interactiveneutral-primary-hover)"},Secondary:{Default:"var(--interface-interactiveneutral-secondary-default)",Hover:"var(--interface-interactiveneutral-secondary-hover)"}},Premium:{Primary:{Default:"var(--interface-premium-primary-default)",Hover:"var(--interface-premium-primary-hover)"},Secondary:{Default:"var(--interface-premium-secondary-default)",Hover:"var(--interface-premium-secondary-hover)"}},SuccessAndAddition:{Primary:{Default:"var(--interface-successandaddition-primary-default)",Hover:"var(--interface-successandaddition-primary-hover)"},Secondary:{Default:"var(--interface-successandaddition-secondary-default)",Hover:"var(--interface-successandaddition-secondary-hover)"}},Warning:{Primary:{Default:"var(--interface-warning-primary-default)",Hover:"var(--interface-warning-primary-hover)"},Secondary:{Default:"var(--interface-warning-secondary-default)",Hover:"var(--interface-warning-secondary-hover)"}}}},9546:(e,t,n)=>{n.d(t,{F2:()=>o,W9:()=>r,Ze:()=>l,mh:()=>u,qp:()=>a,sD:()=>c,x:()=>s,x0:()=>p,yC:()=>i});const r=.0625,i=.125,o=.25,s=.5,a=.75,u=1,c=1.5,l=2,p=2.5},77993:(e,t,n)=>{n.d(t,{Q:()=>r});var r,i=n(63513),o=n(80358);!function(e){function t(e){return"error"===e.kind}e.isCheetahChunk=function(e){return"cheetah:chunk"===e.kind},e.isCheetahSetContext=function(e){return"cheetah:setContext"===e.kind},e.isCheetahResult=function(e){return"cheetah:result"===e.kind},e.isCheetahError=function(e){return"cheetah:error"===e.kind},e.isCheetahAck=function(e){return"cheetah:ack"===e.kind},e.isError=t,e.isErrorSessionNotInitialized=function(e){return t(e)&&e.error===i.jK.SESSION_NOT_INITIALIZED},e.isRelevant=function(e){return o.ld.isCheetahEvent(e)||o.ld.isCheetahAck(e)||"error"===e.kind}}(r||(r={}))},61792:(e,t,n)=>{n.d(t,{a:()=>r});var r,i=n(8125),o=n(5114),s=n(57050);!function(e){let t,n,r;function a(e){return e.kind===t.active}function u(e){return e.kind===t.passive}function c(e){return e.kind===t.unknown}function l(e){return a(e)||c(e)}!function(e){e.unavailable="unavailable",e.active="active",e.passive="passive",e.disabled="disabled",e.pending="pending",e.unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){const t=(0,i.HP)((e=>{const t=Date.parse(e);return isNaN(t)?0:t}));function n(e){const t=e-Date.now();return Math.floor(t/36e5)}e.parseRefillDate=function(e){return t(e)},e.hoursUntilRefillDate=n,e.daysUntilRefillDate=function(e){return Math.floor(n(e)/24)}}(n=e.Active||(e.Active={})),function(t){t.empty={kind:e.Kind.passive,promptsAllocated:0,promptsRemaining:0,refillDate:0}}(r=e.Passive||(e.Passive={})),e.isActive=a,e.isPassive=u,e.isUnknown=c,e.isUsable=l,e.isVisible=function(e){return l(e)||u(e)},e.isDisabled=function(e){return e.kind===t.disabled},e.isUnavailable=function(e){return e.kind===t.pending||e.kind===t.unavailable||e.kind===t.disabled},e.fromUsage=function(n){return(0,s.zG)(o.fromNullable(n),o.map((n=>{const r=e.Active.parseRefillDate(n.refillDate);return n.promptsRemaining<0?{kind:t.unknown}:n.promptsRemaining>0?{kind:t.active,promptsRemaining:n.promptsRemaining,promptsAllocated:n.promptsAllocated,refillDate:r}:{kind:t.passive,promptsRemaining:n.promptsRemaining,promptsAllocated:n.promptsAllocated,refillDate:r}})),o.getOrElse((()=>({kind:e.Kind.unknown}))))}}(r||(r={}))},93846:(e,t,n)=>{n.d(t,{aU:()=>i,pY:()=>r,ix:()=>w,ec:()=>S,a8:()=>E.a,JZ:()=>O,_y:()=>o,nF:()=>C,_H:()=>I,TG:()=>g,lG:()=>_,nM:()=>k,H3:()=>s,x4:()=>u,z_:()=>f.z,Z7:()=>p,Zq:()=>m,LA:()=>d.L});var r,i,o,s,a=n(57050);!function(e){let t,n;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),function(e){e.create=function(e,t){return{id:e,kind:"string",value:t}}}(n=e.StringValue||(e.StringValue={}))}(r||(r={})),function(e){function t(e){return"userPrompt"===e.kind}function n(e){return"dynamic"===e.kind}function i(e){return"quickRewrite"===e.kind}let o,s,u,c,l;e.isUserPrompt=t,e.isDynamic=n,e.isQuickRewrite=i,e.willGenerateResult=function(e){return t(e)||i(e)||n(e)&&e.generatesResult},function(e){e.create=function(e){return e}}(o=e.Id||(e.Id={})),function(e){e.isFollowUpQuestion=function(e){return 1===e.args.length&&"string"===e.args[0].kind},e.isQuickAction=function(e){return 0===e.args.length}}(s=e.DynamicInput||(e.DynamicInput={})),function(e){e.fromInputAndValue=function(e,t){return Object.assign(Object.assign({},e),{args:[(0,a.zG)(e.args[0],(e=>r.StringValue.create(e.id,t)))]})}}(u=e.FollowUpQuestionValue||(e.FollowUpQuestionValue={})),function(e){e.fromInput=function(e,t){return Object.assign(Object.assign({},e),{arg:r.StringValue.create(e.arg.id,t)})}}(c=e.UserPromptValue||(e.UserPromptValue={})),function(e){e.fromInput=function(e){return Object.assign(Object.assign({},e),{args:[]})}}(l=e.QuickRewriteValue||(e.QuickRewriteValue={}))}(i||(i={})),function(e){let t;!function(e){e.create=function(e){return e}}(t=e.Id||(e.Id={})),e.isPending=function(e){return"pending"===e.kind},e.isReceived=function(e){return"received"===e.kind}}(o||(o={})),function(e){let t,n;e.empty={previousMessageInfo:{author:{name:"",email:""},directRecipients:[],text:""},title:"",author:{name:"",email:""},directRecipients:[],indirectRecipients:[],undisclosedRecipients:[]},function(e){e.empty={name:"",email:""},e.extractNameAndEmailString=function(e){const t=""!==e.email?`<${e.email}>`:"";return[e.name,t].filter((e=>""!==e)).join(" ")}}(t=e.Person||(e.Person={})),function(e){e.empty={author:{name:"",email:""},directRecipients:[],text:""}}(n=e.PreviousMessageInfo||(e.PreviousMessageInfo={}))}(s||(s={}));var u,c=n(73975),l=n(8125);!function(e){let t,n;!function(e){e.create=function(e){return`${e}`},e.toPrimitive=function(e){return parseInt(e)},e.eq=c.yv}(t=e.Id||(e.Id={})),function(e){e.insert="insert",e.reportOffensive="reportOffensive"}(n=e.Feedback||(e.Feedback={})),e.hasId=function(e){return"id"in e},e.isComplete=function(e){return"complete"===e.kind},e.isInProgressOngoing=function(e){return"inProgressOngoing"===e.kind},e.isInProgressPending=function(e){return"inProgressPending"===e.kind},e.isInProgress=(0,l.Kg)(e.isInProgressOngoing,e.isInProgressPending)}(u||(u={}));var p,f=n(45626),d=n(9295),h=n(22232);!function(e){let t,n,r,i,o,s,u;!function(e){let t;!function(e){e.rephrase="rephrase",e.dismiss="dismiss",e.insert="insert",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(t=e.Result||(e.Result={})),function(e){let t;!function(e){e.open="open",e.skip="skip",e.openFromBanner="openFromBanner"}(t=e.UserAction||(e.UserAction={}))}(n=e.VoiceProfile||(e.VoiceProfile={})),function(e){let t;!function(e){e.openStore="openStore",e.offensive="offensive"}(t=e.UserAction||(e.UserAction={}))}(r=e.Actions||(e.Actions={})),function(e){let t;!function(e){e.search="search"}(t=e.UserAction||(e.UserAction={}))}(i=e.Prompt||(e.Prompt={})),function(e){let t;!function(e){e.hover="hover",e.click="click"}(t=e.UserAction||(e.UserAction={}))}(o=e.UsageInfo||(e.UsageInfo={})),function(e){let t;!function(e){e.view="view",e.skip="skip",e.next="next"}(t=e.UserAction||(e.UserAction={}))}(s=e.Onboarding||(e.Onboarding={})),function(e){let t;!function(e){e.close="close"}(t=e.UserAction||(e.UserAction={}))}(u=e.Assistant||(e.Assistant={})),e.getComponentId=function(e,t){return(0,a.zG)(e.kind,(t=>{switch(t){case"result":return"card";case"voiceProfile":return"voice";case"actions":return e.userAction===r.UserAction.openStore?"group":"card";case"assistant":return"widget";case"onboardingPromptsTooltip":return"onboardingPromptTooltip";case"onboardingReviewTooltip":return"onboardingReviewtextTooltip";case"usageInfo":case"prompt":case"onboardingPopup":case"onboardingRewriteTooltip":return t;default:(0,h.L0)(t)}}),(e=>`cheetah:${e}${t?`:${t}`:""}`))},e.getUserAction=function(e){return(0,a.zG)(e.kind,(t=>{switch(t){case"actions":return e.userAction===r.UserAction.openStore?"All Ideas":e.userAction;case"assistant":return e.userAction===u.UserAction.close?"dismiss":e.userAction;case"result":case"voiceProfile":case"prompt":case"usageInfo":case"onboardingPopup":case"onboardingPromptsTooltip":case"onboardingReviewTooltip":case"onboardingRewriteTooltip":return e.userAction;default:(0,h.L0)(t)}}))}}(p||(p={}));var m,g,v=n(5114),y=n(95195),b=n(69243),x=n(64015);!function(e){const t=["initial","prompts","review","rewrite"],n=["extension","editor","llamaMac","llamaWin"];function r(e,t){return`${e}|${t}`}function i(e,t,n){return`${e}|${t}|${n}`}function o(e){return v.isSome(h(e))}function s(e){return v.isSome(m(e))}const u=new b.Dy("CompletedStepName",(e=>"string"==typeof e&&o(e)),((e,t)=>"string"==typeof e&&o(e)?b.Vp(e):b.Rn(e,t)),b.yR),c=new b.Dy("LastSeenStepName",(e=>"string"==typeof e&&s(e)),((e,t)=>"string"==typeof e&&s(e)?b.Vp(e):b.Rn(e,t)),b.yR),l=b.OT(b.r$({completed:b.Bk(u),lastSeen:b.Bk(c)}));let p,f,d;function h(e){return(0,a.zG)(v.some(e.split("|")),v.filter((e=>2===e.length)),v.filter((e=>t.includes(e[0])&&n.includes(e[1]))))}function m(e){return(0,a.zG)(v.some(e.split("|")),v.filter((e=>3===e.length)),v.filter((e=>t.includes(e[0])&&n.includes(e[1]))),v.filterMap((e=>(0,a.zG)(parseInt(e[2],10),(t=>Number.isNaN(t)?v.none:v.some([e[0],e[1],t]))))))}function g(e,t,n){var r,i,o,s;return{extension:{completed:t.some((t=>t[0]===e&&"extension"===t[1])),lastSeen:null===(r=n.find((t=>t[0]===e&&"extension"===t[1])))||void 0===r?void 0:r[2]},editor:{completed:t.some((t=>t[0]===e&&"editor"===t[1])),lastSeen:null===(i=n.find((t=>t[0]===e&&"editor"===t[1])))||void 0===i?void 0:i[2]},llamaMac:{completed:t.some((t=>t[0]===e&&"llamaMac"===t[1])),lastSeen:null===(o=n.find((t=>t[0]===e&&"llamaMac"===t[1])))||void 0===o?void 0:o[2]},llamaWin:{completed:t.some((t=>t[0]===e&&"llamaWin"===t[1])),lastSeen:null===(s=n.find((t=>t[0]===e&&"llamaWin"===t[1])))||void 0===s?void 0:s[2]}}}e.emptyClientStep={completed:!1,lastSeen:void 0},function(e){e.everyClient=function(e){return t=>e(t.extension)&&e(t.editor)&&e(t.llamaMac)&&e(t.llamaWin)}}(p=e.Step||(e.Step={})),e.emptyStep={extension:e.emptyClientStep,llamaMac:e.emptyClientStep,llamaWin:e.emptyClientStep,editor:e.emptyClientStep},e.codec=new b.Dy("UpstreamOnboarding",(e=>l.is(e)),((e,t)=>(0,a.zG)(l.validate(e,t),y.UI((e=>{const t=(0,a.zG)(e.completed||[],x.UI(h),x.oA),n=(0,a.zG)(e.lastSeen||[],x.UI(m),x.oA);return{initial:g("initial",t,n),prompts:g("prompts",t,n),review:g("review",t,n),rewrite:g("rewrite",t,n)}})))),(e=>({completed:(0,a.zG)(Object.entries(e),x.tS((([e,t])=>function(e,t){return(0,a.zG)(Object.entries(t),x.tS((([t,n])=>n.completed?[r(e,t)]:[])))}(e,t)))),lastSeen:(0,a.zG)(Object.entries(e),x.tS((([e,t])=>function(e,t){return(0,a.zG)(Object.entries(t),x.tS((([t,n])=>n.lastSeen?[i(e,t,n.lastSeen)]:[])))}(e,t))))}))),function(t){t.empty={initial:e.emptyStep,prompts:e.emptyStep,review:e.emptyStep,rewrite:e.emptyStep},t.toClientState=function(e,t){return{initial:e.initial[t],prompts:e.prompts[t],review:e.review[t],rewrite:e.rewrite[t]}},t.patch=function(e,t){return n=>({initial:Object.assign(Object.assign({},n.initial),{[t]:e.initial}),prompts:Object.assign(Object.assign({},n.prompts),{[t]:e.prompts}),review:Object.assign(Object.assign({},n.review),{[t]:e.review}),rewrite:Object.assign(Object.assign({},n.rewrite),{[t]:e.rewrite})})}}(f=e.State||(e.State={})),function(t){t.empty={initial:e.emptyClientStep,prompts:e.emptyClientStep,review:e.emptyClientStep,rewrite:e.emptyClientStep}}(d=e.ClientState||(e.ClientState={}))}(m||(m={})),function(e){let t;!function(e){e.initial="initial",e.prompts="prompts",e.review="review",e.rewrite="rewrite"}(t=e.StepName||(e.StepName={})),function(e){e.isAssistantOnboardingStep=function(t){return t===e.prompts||t===e.review},e.isTooltipOnboardingStep=function(t){return t===e.prompts||t===e.review||t===e.rewrite}}(t=e.StepName||(e.StepName={}))}(g||(g={}));var w,_,S,C,k,E=n(61792);!function(e){let t;!function(e){e.mount="mount",e.close="close",e.goBack="goBack",e.openVoiceProfile="openVoiceProfile",e.closeVoiceProfile="closeVoiceProfile",e.applyVoiceProfile="applyVoiceProfile",e.toggleTone="toggleTone",e.selectStyle="selectStyle",e.selectRole="selectRole",e.selectDialect="selectDialect",e.promptFieldChange="promptFieldChange",e.promptFieldFocusChange="promptFieldFocusChange",e.clickActionBrick="clickActionBrick",e.promptSend="promptSend",e.generateStop="generateStop",e.escapePressed="escapePressed",e.insert="insert",e.rephrase="rephrase",e.dismissResult="dismissResult",e.dismissError="dismissError",e.reportOffensiveResult="reportOffensive",e.reportOffensiveActions="reportOffensiveActions",e.clickResultHeader="clickResultHeader",e.collapsePromptMenu="collapsePromptMenu",e.creditsInfoHover="creditsInfoHover",e.creditsInfoClick="creditsInfoClick"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e},e.isResultAction=(0,l.Kg)(e.is(e.Kind.insert),e.is(e.Kind.rephrase),e.is(e.Kind.dismissResult),e.is(e.Kind.reportOffensiveResult))}(w||(w={})),(0,h.L0)(void 0),function(e){let t;!function(e){e.close="close",e.tryItOut="tryItOut",e.mount="mount"}(t=e.Kind||(e.Kind={})),e.is=function(e){return t=>t.kind===e}}(_||(_={})),(0,h.L0)(void 0),function(e){e.initialActionsList="initialActionsList",e.followUpActionsList="followUpActionsList"}(S||(S={})),function(e){e.initialPopupAnchor="initialPopupAnchor",e.rewriteTooltipAnchor="rewriteTooltipAnchor"}(C||(C={})),function(e){e.initialPopup="initialPoup",e.promptsTooltip="promptsTooltip",e.reviewTooltip="reviewTooltip",e.rewriteTooltip="rewriteTooltip"}(k||(k={}));var O,I,T=n(17771),A=n(63513);!function(e){let t;function n(e){switch(e){case t.sensitiveResult:return{header:"Assistance is unavailable",text:"GrammarlyGO assistance is unavailable for this prompt.\nTry another one."};case t.overload:return{header:"Couldn't generate text",text:"We're handling a lot of prompts right now and couldn't generate that text.\nPlease try again later."};case t.unsupportedLanguage:return{header:"Hmm, that doesn't look like English",text:"GrammarlyGO assistance is currently only available for English."};case t.critical:case t.timeout:case t.emptyResult:case t.truncatedResult:case t.usageExceeded:return{header:"Something went wrong",text:"We're not sure what happened, but we couldn't generate that text.\nPlease try again."};default:(0,h.L0)(e)}}!function(e){e.create=function(t){switch(t){case A.vv.Schema.ErrorKind.Generic:return e.critical;case A.vv.Schema.ErrorKind.Overflow:return e.truncatedResult;case A.vv.Schema.ErrorKind.PromptsLimitExceeded:return e.usageExceeded;case A.vv.Schema.ErrorKind.SensitiveContent:return e.sensitiveResult;case A.vv.Schema.ErrorKind.ServerOverloaded:return e.overload;case A.vv.Schema.ErrorKind.UnsupportedLanguage:return e.unsupportedLanguage;default:(0,h.L0)(t)}}}(t=e.Reason||(e.Reason={})),function(e){e.emptyResult="emptyResult",e.truncatedResult="truncatedResult",e.sensitiveResult="sensitiveResult",e.usageExceeded="usageExceeded",e.unsupportedLanguage="unsupportedLanguage",e.overload="overload",e.timeout="timeout",e.critical="critical"}(t=e.Reason||(e.Reason={})),e.create=function(e){const r=t.create(e.kind),i=(0,a.zG)(T.Y(v.option)({header:(0,a.zG)(v.fromNullable(e.title),v.filter((e=>""!==e.trim()))),text:(0,a.zG)(v.fromNullable(e.text),v.filter((e=>""!==e.trim())))}),v.getOrElse((()=>n(r))));return Object.assign({reason:r},i)},e.createCriticalError=function(e){return{reason:t.critical,header:"Something went wrong",text:e?"We're not sure what happened.\nPlease try again later.":"We're not sure what happened, but we couldn't generate that text.\nPlease try again."}},e.createEmptyResultError=function(){return Object.assign({reason:t.emptyResult},n(t.emptyResult))}}(O||(O={})),function(e){let t,n,r;e.isInfo=function(e){return e.kind===t.info},e.isError=function(e){return e.kind===t.error},function(e){e.info="info",e.error="error"}(t=e.Kind||(e.Kind={})),function(e){let n,r,i;!function(e){e.startSession="startSession",e.action="action"}(n=e.Name||(e.Name={})),function(e){e.create=function(e){return{kind:t.info,name:n.startSession,sessionMode:e}}}(r=e.StartSession||(e.StartSession={})),function(e){e.create=function(e){return{kind:t.info,name:n.action,sessionMode:e}}}(i=e.Action||(e.Action={}))}(n=e.Info||(e.Info={})),function(e){let n,r,i;!function(e){e.waitForContextTimeout="waitForContextTimeout",e.waitForResultTimeout="waitForResultTimeout"}(n=e.Name||(e.Name={})),function(e){e.create=function(e,r){return{kind:t.error,name:n.waitForContextTimeout,sourceEvent:e,sessionMode:r}}}(r=e.WaitForContextTimeout||(e.WaitForContextTimeout={})),function(e){e.create=function(e){return{kind:t.error,name:n.waitForResultTimeout,sessionMode:e}}}(i=e.WaitForResultTimeout||(e.WaitForResultTimeout={}))}(r=e.Error||(e.Error={}))}(I||(I={}))},45626:(e,t,n)=>{n.d(t,{z:()=>r});var r,i=n(5114);!function(e){let t,n;!function(e){function t(t){return t===e.rewrite}function n(t){return t===e.quickRewrite}e.isIdeation=function(t){return t===e.ideation},e.isRewrite=t,e.isQuickReply=function(t){return t===e.quickReply},e.isQuickRewrite=n,e.isRewriteOrQuickRewrite=function(e){return t(e)||n(e)}}(t=e.Mode||(e.Mode={})),function(e){e.ideation="ideation",e.rewrite="rewrite",e.quickReply="quickReply",e.quickRewrite="quickRewrite"}(t=e.Mode||(e.Mode={})),function(e){e.disposed="disposed",e.closed="closed",e.textInserted="textInserted",e.regularAssistantOrSidebarOpened="regularAssistantOrSidebarOpened",e.textFieldBlurred="textFieldBlurred",e.assistantBlurred="assistantBlurred"}(n=e.EndReason||(e.EndReason={})),e.toStarting=function(e){return"starting"===e.kind?i.some(e):i.none},e.toStarted=function(e){return"started"===e.kind?i.some(e):i.none}}(r||(r={}))},9295:(e,t,n)=>{n.d(t,{L:()=>r});var r,i=n(73975),o=n(22232),s=n(5114),a=n(48044),u=n(13853);!function(e){let t,n,r,c,l;!function(e){let t;!function(e){e.create=function(e){return e},e.eq=i.yv}(t=e.Id||(e.Id={}))}(t=e.Tone||(e.Tone={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=i.yv}(t=e.Id||(e.Id={}))}(n=e.Style||(e.Style={})),function(e){let t;!function(e){e.create=function(e){return e},e.eq=i.yv}(t=e.Id||(e.Id={}))}(r=e.Role||(e.Role={})),function(e){let t,n;function r(e){switch(e){case t.american:return"American English";case t.australian:return"Australian English";case t.british:return"British English";case t.canadian:return"Canadian English";case t.indian:return"Indian English";default:(0,o.L0)(e)}}function s(e){switch(e){case t.american:return"https://assets.grammarly.com/emoji/v1/1f1fa-1f1f8.svg";case t.australian:return"https://assets.grammarly.com/emoji/v1/1f1e6-1f1fa.svg";case t.british:return"https://assets.grammarly.com/emoji/v1/1f1ec-1f1e7.svg";case t.canadian:return"https://assets.grammarly.com/emoji/v1/1f1e8-1f1e6.svg";case t.indian:return"https://assets.grammarly.com/emoji/v1/1f1ee-1f1f3.svg";default:(0,o.L0)(e)}}!function(e){e.fromString=function(t){switch(t){case"american":return e.american;case"australian":return e.australian;case"british":return e.british;case"canadian":return e.canadian;case"indian":return e.indian;default:(0,o.L0)(t)}}}(t=e.Value||(e.Value={})),function(e){e.american="american",e.australian="australian",e.british="british",e.canadian="canadian",e.indian="indian"}(t=e.Value||(e.Value={})),function(e){e.create=function(e){return e},e.eq=i.yv}(n=e.Id||(e.Id={})),e.american={id:n.create(t.american),label:r(t.american),iconUrl:s(t.american)},e.australian={id:n.create(t.australian),label:r(t.australian),iconUrl:s(t.australian)},e.british={id:n.create(t.british),label:r(t.british),iconUrl:s(t.british)},e.canadian={id:n.create(t.canadian),label:r(t.canadian),iconUrl:s(t.canadian)},e.indian={id:n.create(t.indian),label:r(t.indian),iconUrl:s(t.indian)},e.all=function(){return[e.american,e.australian,e.british,e.canadian,e.indian]}}(c=e.Dialect||(e.Dialect={})),function(e){e.eq=i.MW({selectedStyle:n.Id.eq,selectedTonesPerStyle:a.Eh(n.Id.eq,u.Eh(t.Id.eq)),selectedRole:s.getEq(r.Id.eq),selectedDialect:c.Id.eq})}(l=e.Selections||(e.Selections={}))}(r||(r={}))},37421:(e,t,n)=>{n.d(t,{$C:()=>L,gz:()=>C,fE:()=>B,ZP:()=>k,c3:()=>G,O5:()=>U});var r=n(31699),i=n(57050),o=n(63513),s=n(8709),a=n(9922),u=n(98403),c=n(16118),l=n(80900),p=n(5114),f=n(83078),d=n(22232),h=n(38983),m=n(64015),g=n(42040),v=n(46680),y=n(93846),b=n(17889),x=n(77993),w=n(95195);async function _(e,t,n,r){if(n)try{const i=await n();w.nM(i)?t.warn("runTaskEither() - error running task",{name:e,result:i}):null==r||r()}catch(n){t.error("runTaskEither() - promise rejection running task",n,{name:e})}}var S=n(32952);class C{constructor(){this._events=new S.xQ}static getInstance(){return null===C.instance&&(C.instance=new C),C.instance}notify(e){this._events.next(e)}get events(){return this._events.asObservable()}}C.instance=null;class k{constructor(e,t,n,r,o,s,l,f=1e4,d=1e4,m=g.C8.Logging.getLogger("CheetahWeb.SessionService",v.i.DEBUG)){this._startSessionOptions=e,this._textEditor=t,this._getCAPIClient=n,this._relevantCAPIEvents=r,this._onVoiceProfileSelectedDialectChange=s,this._trackingService=l,this._resultTimeoutMs=f,this._contextTimeoutMs=d,this._logger=m,this._subs=new a.w.Keeper,this._session=h.h.create({kind:"starting",mode:this._startSessionOptions.mode,selectedText:(0,i.zG)(p.fromNullable(this._startSessionOptions.mode===y.z_.Mode.rewrite||this._startSessionOptions.mode===y.z_.Mode.quickRewrite?this._startSessionOptions.selectedRange:void 0),p.map((e=>this._textEditor.getText(e)))),quickReplyContext:p.fromNullable(this._startSessionOptions.mode===y.z_.Mode.quickReply?this._startSessionOptions.quickReplyContext:void 0),error:p.none}),this._resultById=new Map,this._contextIdByResultId=new Map,this._contextById=new Map,this._stateBlobByContextId=new Map,this._initialReceivedContext=null,this._upstreamDialect=h.h.create(y.LA.Dialect.Id.create(y.LA.Dialect.Value.american)),this._cheetahAckIds=new Set,this._cheetachAckHandlers=new Array,this._resultTimeout=void 0,this._contextTimeout=void 0,this._subs.push(this._relevantCAPIEvents.subscribe((e=>this._handleRelevantCAPIEvent(e)))),this._subs.push(o.subscribe((e=>u.wW(this._upstreamDialect)(y.LA.Dialect.Id.create(e))))),this._subs.push(this._upstreamDialect.subscribe((e=>this._handleUpstreamDialectChange(e)))),this._session.pipe(c.G()).subscribe((([e,t])=>this._logger.debug("session updated",{prevSession:e,newSession:t}))),this._startSession(this._startSessionOptions)}get session(){return this._session.view()}async _startSession(e,t){var n;this._logger.debug("startSession()",{startSessionOptions:e}),await this._textEditor.flush();const r=p.fromNullable(e.mode===y.z_.Mode.rewrite||e.mode===y.z_.Mode.quickRewrite?e.selectedRange:void 0),o=p.fromNullable(e.mode===y.z_.Mode.quickReply?e.quickReplyContext:void 0),s={entryPoint:this._prepareEntryPoint(e.mode),selectedRange:(0,i.zG)(r,p.getOrElse((()=>({start:0,end:0})))),outerContext:(0,i.zG)(o,p.map((e=>this._prepareOuterContext(e))),p.toUndefined),stateBlob:t,metadata:e.metadata};this._logger.debug("startSession() - sending `cheetah:startSession` to CAPI",{data:s}),_("cheetahStartSession",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.cheetahStartSession(s),(()=>{C.getInstance().notify(y._H.Info.StartSession.create(this._session.get().mode)),this._setupContextTimeout("startSession")}))}submitAction(e){this._logger.debug("submitAction()",{action:e}),this._submitAction(e)}setVoiceProfile(e){var t,n;this._logger.debug("setVoiceProfile()",{voiceProfileSelections:e});const r=this._session.get();if("started"===r.kind){this._session.set(Object.assign(Object.assign({},r),{voiceProfile:Object.assign(Object.assign({},r.voiceProfile),e),context:Object.assign(Object.assign({},r.context),{kind:"pending",loadingMessage:"Working on it..."})}));const s={voice:{selectedStyle:e.selectedStyle,selectedTones:Array.from(e.selectedTonesPerStyle.get(e.selectedStyle)||[]),selectedRole:(0,i.zG)(e.selectedRole,p.toUndefined),needSetup:!1}};if(this._logger.debug("setVoiceProfile() - sending `cheetah:setVoice` to CAPI",{data:s}),_("cheetahSetVoice",this._logger,null===(t=this._getCAPIClient())||void 0===t?void 0:t.cheetahSetVoice(s)),!y.LA.Dialect.Id.eq.equals(r.voiceProfile.selectedDialect,e.selectedDialect)){const t={kind:o.rP.Context,context:{goals:p.none,domain:p.none,audience:p.none,style:p.none,dialect:p.some(e.selectedDialect),outcomeContext:p.none}};this._logger.debug("setVoiceProfile() - sending `set_context` to CAPI",{data:t}),_("setSessionOption",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.setSessionOption(t)),this._onVoiceProfileSelectedDialectChange(e.selectedDialect)}}else this._logger.warn("setVoiceProfile() - setting voice profile with a session that is not `started`, skipping",{session:r})}stopInProgressResult(){this._logger.debug("stopInProgressResult()");const e=this._session.get();if("started"===e.kind){let t=e.context;if(this._clearAllTimeouts(),e.resultHistory.length>0){this._logger.debug("stopInProgressResult() - non-empty result history, will try to restore context from latest result",{session:e});const n=this._extractLatestResultContext(e);n?(this._logger.debug("stopInProgressResult() - non-empty result history, found context for latest result, will restore its context",{session:e,latestResultContext:n}),t=n):this._logger.warn("stopInProgressResult() - non-empty result history, could not find context for latest result, context will not be updated",{session:e})}else{this._logger.debug("stopInProgressResult() - empty result history, will try to restore initial context",{session:e});const n=this._extractInitialContext();n?(this._logger.debug("stopInProgressResult() - empty result history, found initial context, restoring it",{session:e,initialContext:n}),t=n):this._logger.warn("stopInProgressResult() - empty result history, but there is no initial context to restore, keeping the latest context",{session:e})}this._session.modify((e=>Object.assign(Object.assign({},e),{context:t,inProgressResult:p.none}))),(0,i.zG)(e.inProgressResult,p.filter(y.x4.isInProgressOngoing),f.bw((e=>{var t;const n={promptId:y.x4.Id.toPrimitive(e.id)};this._logger.debug("stopInProgressResult() - sending `cheetah:interrupt` to CAPI",{data:n}),_("cheetahInterrupt",this._logger,null===(t=this._getCAPIClient())||void 0===t?void 0:t.cheetahInterrupt(n))})),f.ew((()=>this._logger.warn("stopInProgressResult() - trying to stop in-progress result when we have no result in-progress-ongoing, skipping",{session:e}))))}else this._logger.warn("stopInProgressResult() - trying to stop in-progress result with a session that is not `started`, skipping",{session:e})}regenerateResult(e){this._logger.debug("regenerateResult()",{resultId:e});const t=this._session.get();if("started"===t.kind){const n=this._resultById.get(e);if(n){this._submitAction(n.source.action,n.source.contextId);const t=this._contextIdByResultId.get(e);this._trackingService.trackResultRephrase(t)}else this._logger.warn("regenerateResult() - could not find result for provided result ID, skipping",{session:t,resultId:e})}else this._logger.warn("regenerateResult() - trying to regenerate result with a session that is not `started`, skipping",{session:t,resultId:e})}dismissResult(e){this._logger.debug("dismissResult()",{resultId:e});const t=this._session.get();if("started"===t.kind){if(this._resultById.delete(e)){const n=t.resultHistory.findIndex((t=>t.id===e));let r=t.context;if(0===n&&t.resultHistory.length>1){this._logger.debug("dismissResult() - dismissing latest result, will try to restore context from previous result",{session:t,resultId:e});const n=this._extractPreviousResultContext(t);n?(this._logger.debug("dismissResult() - found context for previous result, will restore its context",{session:t,resultId:e,previousResultContext:n}),r=n):this._logger.warn("dismissResult() - could not find context for previous result, context will not be updated",{session:t,resultId:e})}else if(1===t.resultHistory.length){const n=this._extractInitialContext();n?(this._logger.debug("dismissResult() - dismissed all results, restoring initial context",{session:t,resultId:e,initialContext:n}),r=n):this._logger.warn("dimissResult() - dismissed all results, but there is no initial context to restore, keeping the latest context",{session:t,resultId:e})}this._session.set(Object.assign(Object.assign({},t),{context:r,resultHistory:t.resultHistory.filter((t=>!y.x4.Id.eq.equals(t.id,e)))}));const i=this._contextIdByResultId.get(e);this._trackingService.trackResultDismiss(i)}else this._logger.warn("dismissResult() - could not find result for provided result ID, skipping",{session:t,resultId:e})}else this._logger.warn("dismissResult() - trying to dismiss result with a session that is not `started`, skipping",{session:t,resultId:e})}dismissError(){this._logger.debug("dismissError()"),this._session.modify((e=>Object.assign(Object.assign({},e),{error:p.none})))}trackResultInsert(e){this._logger.debug("trackResultInsert()",{resultId:e});if(this._resultById.get(e)){const t=this._contextIdByResultId.get(e);this._trackingService.trackResultInsert(t)}else this._logger.warn("trackResultInsert() - could not find result for provided result ID, skipping",{resultId:e})}trackResultOffensive(e){this._logger.debug("trackResultOffensive()",{resultId:e});if(this._resultById.get(e)){const t=this._contextIdByResultId.get(e);this._trackingService.trackResultOffensive(t)}else this._logger.warn("trackResultOffensive() - could not find result for provided result ID, skipping",{resultId:e})}trackActionsOffensive(){this._logger.debug("trackActionsOffensive()");const e=this._session.get();if("started"!==e.kind)return this._logger.warn("trackActionsOffensive() - tracking actions as offensive with a session that is not `started`, skipping");this._trackingService.trackActionsOffensive(e.context.id)}dispose(e){this._logger.debug("dispose()",{reason:e}),this._endSession(),this._subs.dispose()}_endSession(){var e;this._logger.debug("endSession() - sending `cheetah:endSession` to CAPI"),_("cheetahEndSession",this._logger,null===(e=this._getCAPIClient())||void 0===e?void 0:e.cheetahEndSession())}_handleRelevantCAPIEvent(e){x.Q.isCheetahSetContext(e)?this._handleCheetahSetContext(e):x.Q.isCheetahChunk(e)?this._handleCheetahChunk(e):x.Q.isCheetahResult(e)?this._handleCheetahResult(e):x.Q.isCheetahError(e)?this._handleCheetahError(e):x.Q.isCheetahAck(e)?this._handleCheetahAck(e):x.Q.isError(e)?this._handleError(e):(this._logger.debug("_handleRelevantCAPIEvent() - unknown event",{event:e}),(0,d.L0)(e))}_handleCheetahSetContext(e){this._logger.debug("_handleCheetahSetContext()",{event:e}),this._clearContextTimeout();const t=this._session.get(),n=e.message,r=this._extractVoiceProfile(n.context.voice),i={id:y._y.Id.create(n.context.id),dynamicActions:this._extractDynamicActions(n.context.availableActions),userPromptAction:this._extractUserPromptAction(n.context.promptAction),quickRewriteAction:this._extractQuickRewriteAction(n.context.quickRewriteAction),intent:this._extractIntent(n.context.intent)},o=n.progressMessage?Object.assign(Object.assign({},i),{kind:"pending",loadingMessage:n.progressMessage}):Object.assign(Object.assign({},i),{kind:"received"});let s=!1;if(0===this._contextById.size&&y._y.isReceived(o)&&(s=!0,this._initialReceivedContext=o),this._contextById.set(o.id,o),this._stateBlobByContextId.set(o.id,n.context.stateBlob),this._session.set(Object.assign(Object.assign({},t),{kind:"started",voiceProfile:r,context:o,inProgressResult:"started"===t.kind?t.inProgressResult:p.none,resultHistory:"started"===t.kind?t.resultHistory:[]})),s&&y.z_.Mode.isQuickRewrite(t.mode)){const r=y.aU.QuickRewriteValue.fromInput(this._extractQuickRewriteAction(n.context.quickRewriteAction));this._logger.debug("_handleCheetahSetContext() - received initial context for quick rewrite session, submitting quick rewrite action",{session:t,event:e,quickRewriteAction:r}),this._submitAction(r)}}_handleCheetahChunk(e){this._logger.debug("_handleCheetahChunk()",{event:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahChunk() - received chunk with a session that is not `started`, skipping",{session:t,event:e});const n=e.message,r=y.x4.Id.create(n.promptId);(0,i.zG)(t.inProgressResult,p.filter(y.x4.isInProgressOngoing),p.filter((e=>y.x4.Id.eq.equals(e.id,r))),p.map((e=>{this._clearAllTimeouts(),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:p.some(Object.assign(Object.assign({},e),{text:e.text+n.token}))}))})),f.ew((()=>this._logger.warn("_handleCheetahChunk() - received chunk that does not correspond to our in-progress-ongoing result, skipping",{session:t,event:e}))))}_handleCheetahResult(e){this._logger.debug("_handleCheetahResult()",{event:e});const t=this._session.get();if("started"!==t.kind)return this._logger.warn("_handleCheetahResult() - received result with a session that is not `started`, skipping",{session:t,event:e});const n=e.message,r=y.x4.Id.create(n.promptId);(0,i.zG)(t.inProgressResult,p.filter(y.x4.isInProgressOngoing),p.filter((e=>y.x4.Id.eq.equals(e.id,r))),p.map((r=>{if(this._clearAllTimeouts(),n.error||!n.text||""===n.text.plain){const r=n.error?y.JZ.create(n.error):y.JZ.createEmptyResultError();this._logger.debug("_handleCheetahResult() - received result with error, adding error to session",{session:t,event:e,error:r}),this._session.set(Object.assign(Object.assign({},t),{inProgressResult:p.none,error:p.some(r)}))}else if(n.text.interrupted)this._logger.debug("_handleCheetahResult() - received result with interrupted text, skipping",{session:t,event:e});else{const i=Object.assign(Object.assign({},r),{kind:"complete",text:n.text.plain,diff:n.text.renderDiff&&"ops"in n.text.delta&&p.isSome(t.selectedText)&&Array.isArray(n.text.delta.ops)?p.some({delta:new s.i([...n.text.delta.ops]),selectedText:t.selectedText.value}):p.none});let o,a,u;this._logger.debug("_handleCheetahResult() - received complete result, saving complete result into history",{session:t,event:e,result:i}),n.context?(a=this._extractVoiceProfile(n.context.voice),o={kind:"received",id:y._y.Id.create(n.context.id),dynamicActions:this._extractDynamicActions(n.context.availableActions),userPromptAction:this._extractUserPromptAction(n.context.promptAction),intent:this._extractIntent(n.context.intent)},u=n.context.stateBlob,this._logger.debug("_handleCheetahResult() - received result with context, will update voice profile and context accordingly",{session:t,event:e,voiceProfile:a,context:o})):(this._logger.warn("_handleCheetahResult() - received result without context, keeping latest voice profile and context",{session:t,event:e}),a=t.voiceProfile,o=t.context,u=this._stateBlobByContextId.get(t.context.id)),this._contextById.set(o.id,o),void 0!==u&&this._stateBlobByContextId.set(o.id,u),this._resultById.set(i.id,i),this._contextIdByResultId.set(i.id,o.id),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:a,context:o,inProgressResult:p.none,resultHistory:[i,...t.resultHistory]}))}})),f.ew((()=>this._logger.warn("_handleCheetahResult() - received result that does not correspond to our in-progress-ongoing result, skipping",{session:t,event:e}))))}_handleCheetahError(e){this._logger.debug("_handleCheetahError",{event:e}),this._clearAllTimeouts();const t=y.JZ.create(e.message.error);this._logger.debug("_handleCheetahError - received error, adding error to session",{error:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.none,error:p.some(t)})))}_handleUpstreamDialectChange(e){this._logger.debug("_handleUpstreamDialectChange()",{upstreamDialect:e});const t=this._session.get();if("started"===t.kind){const n=y.LA.Dialect.Id.create(e);this._logger.debug("_handleUpstreamDialectChange() - dialect changed on upstream services, updating selected dialect on voice profile",{session:t,selectedDialect:n}),this._session.set(Object.assign(Object.assign({},t),{voiceProfile:Object.assign(Object.assign({},t.voiceProfile),{selectedDialect:n})}))}}_handleCheetahAck(e){this._logger.debug("_handleCheetahAck()",{event:e}),this._cheetahAckIds.add(e.id);const t=this._cheetachAckHandlers.length>0?this._cheetachAckHandlers[0]:void 0;t&&(this._logger.debug("_handleCheetahAck() - extracting `cheetah:ack` handler from queue and executing it",{event:e,cheetahAckHandlers:this._cheetachAckHandlers}),this._cheetachAckHandlers=this._cheetachAckHandlers.slice(1),t(e.id))}_handleError(e){if(this._logger.debug("_handleError()",{event:e}),this._cheetahAckIds.has(e.id))if(this._clearAllTimeouts(),x.Q.isErrorSessionNotInitialized(e)){const t=(0,i.zG)(y.z_.toStarted(this._session.get()),p.map((e=>this._stateBlobByContextId.get(e.context.id))),p.toUndefined);this._logger.debug("_handleError() - received session not initialized error, restarting session",{event:e,startSessionOptions:this._startSessionOptions,stateBlob:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.none}))),this._startSession(this._startSessionOptions,t)}else{const e=y.JZ.createCriticalError((0,i.zG)(y.z_.toStarting(this._session.get()),p.isSome));this._logger.debug("_handleError - received error event that corresponds to one of the `cheetah:*` messages, adding error to session",{error:e}),this._session.modify((t=>Object.assign(Object.assign({},t),{inProgressResult:p.none,error:p.some(e)})))}}_extractVoiceProfile(e){var t,n;const r=(0,i.zG)(y.z_.toStarted(this._session.get()),p.map((e=>e.voiceProfile.styles)),p.getOrElse((()=>[]))),o=(0,i.zG)(y.z_.toStarted(this._session.get()),p.map((e=>e.voiceProfile.roles)),p.getOrElse((()=>[]))),s=(0,i.zG)(null!==(t=e.styles)&&void 0!==t?t:[],m.UI((e=>({id:y.LA.Style.Id.create(e.button.label),label:e.button.label,iconUrl:e.button.iconUrl,tones:e.tones.map((e=>({id:y.LA.Tone.Id.create(e.label),label:e.label,iconUrl:e.iconUrl,description:e.description}))),maxTones:e.maxTones,description:e.button.description}))),(e=>e.length>0?e:r)),a=y.LA.Style.Id.create(e.selectedStyle),u=s.find((e=>y.LA.Style.Id.eq.equals(e.id,a))),c={styles:s,roles:(0,i.zG)(null!==(n=e.roles)&&void 0!==n?n:[],m.UI((e=>({id:y.LA.Role.Id.create(e),label:e}))),(e=>e.length>0?e:o)),selectedStyle:a,selectedTonesPerStyle:(new Map).set(a,new Set(e.selectedTones.filter((e=>null==u?void 0:u.tones.map((e=>e.id.toString())).includes(e))))),selectedRole:(0,i.zG)(p.fromNullable(e.selectedRole),p.map((e=>e.trim())),p.filter((e=>""!==e)),p.map(y.LA.Role.Id.create)),dialects:y.LA.Dialect.all(),selectedDialect:(0,i.zG)(y.z_.toStarted(this._session.get()),p.fold((()=>y.LA.Dialect.Id.create(this._upstreamDialect.get())),(e=>e.voiceProfile.selectedDialect))),needsSetup:e.needSetup};return this._logger.debug("_extractVoiceProfile()",{voice:e,voiceProfile:c}),c}_extractDynamicActions(e){const t=e.map((e=>e.group)),n=e.map((e=>({id:y.aU.Id.create(e.id),kind:"dynamic",iconUrl:e.iconUrl,group:{label:e.group,rank:t.findIndex((t=>e.group===t))},label:(0,r.sanitize)(e.label,{ALLOWED_TAGS:["b","i"]}),searchLabel:(0,r.sanitize)(e.label,{ALLOWED_TAGS:[]}),searchTags:e.searchTags,generatesResult:e.generatesText,args:e.args.map((e=>({id:y.pY.Id.create(e.name),kind:"string",label:e.label,hints:(0,i.zG)(p.fromNullable(e.hint),p.map((e=>({header:e.header,items:e.text}))))})))})));return this._logger.debug("_extractDynamicActions()",{availableActions:e,dynamicActions:n}),n}_extractUserPromptAction(e){const t=(0,i.zG)(e.args,m.YM,p.map((t=>({id:y.aU.Id.create(e.id),kind:"userPrompt",arg:{id:y.pY.Id.create(t.name),kind:"string",label:t.label,hints:(0,i.zG)(p.fromNullable(t.hint),p.map((e=>({header:e.header,items:e.text}))))}}))));return p.isSome(t)?this._logger.debug("_extractUserPromptAction()",{promptAction:e,userPromptAction:t}):this._logger.warn("_extractUserPromptAction() - failed to extract user prompt action, received empty action args",{promptAction:e}),t}_extractQuickRewriteAction(e){const t={kind:"quickRewrite",id:y.aU.Id.create(e.id),label:(0,r.sanitize)(e.label,{ALLOWED_TAGS:["b","i"]}),iconUrl:e.iconUrl};return this._logger.debug("_extractQuickRewriteAction()",{quickRewriteAction:e,extractedQuickRewriteAction:t}),t}_extractIntent(e){const t=(0,i.zG)(p.fromNullable(e),p.filter((e=>e.length>0)),p.map((e=>({header:"Sender's intent",text:(0,r.sanitize)(e,{ALLOWED_TAGS:["b","i","person"]})}))));return this._logger.debug("_extractIntent()",{intent:e,extractedIntent:t}),t}_prepareOuterContext(e){const t={title:e.title,people:{from:[y.H3.Person.extractNameAndEmailString(e.author)],to:e.directRecipients.map(y.H3.Person.extractNameAndEmailString),cc:e.indirectRecipients.map(y.H3.Person.extractNameAndEmailString),bcc:e.undisclosedRecipients.map(y.H3.Person.extractNameAndEmailString)},items:[{text:e.previousMessageInfo.text,people:{from:[y.H3.Person.extractNameAndEmailString(e.previousMessageInfo.author)],to:e.previousMessageInfo.directRecipients.map(y.H3.Person.extractNameAndEmailString)}}]};return this._logger.debug("_prepareOuterContext()",{quickReplyContext:e,preparedOuterContext:t}),t}_submitAction(e,t){var n;this._logger.debug("_submitAction()",{action:e,contextId:t});const r=this._session.get();if("started"===r.kind){const o=null!=t?t:r.context.id,s=this._stateBlobByContextId.get(o);if(void 0===s)return this._logger.warn("_submitAction() - cannot find state blob for context ID, skipping",{session:r,contextId:o,contextStateBlob:s});this._session.set(Object.assign(Object.assign({},r),{context:Object.assign(Object.assign({},r.context),{kind:"pending",loadingMessage:"Working on it..."}),inProgressResult:y.aU.willGenerateResult(e)?p.some({kind:"inProgressPending",header:{label:y.aU.isUserPrompt(e)?e.arg.value:e.label,iconUrl:y.aU.isUserPrompt(e)?p.none:p.some(e.iconUrl),copiablePrompt:y.aU.isUserPrompt(e)?p.some(e.arg.value):p.none},text:"",source:{contextId:o,action:e}}):p.none,error:p.none})),this._cheetachAckHandlers.push((e=>{(0,i.zG)(y.z_.toStarted(this._session.get()),p.chain((e=>e.inProgressResult)),p.filter(y.x4.isInProgressPending),p.map((t=>Object.assign(Object.assign({},t),{kind:"inProgressOngoing",id:y.x4.Id.create(e)}))),f.bw((t=>{this._logger.debug("received `cheetah:ack` related to in-progress-pending result, transitioning result to in-progress-ongoing",{ackId:e,inProgressResult:t}),this._resultById.set(t.id,t),this._clearResultTimeout(),this._resultTimeout=l.H(this._resultTimeoutMs).subscribe((()=>{const e=y.JZ.createCriticalError((0,i.zG)(y.z_.toStarting(this._session.get()),p.isSome));this._logger.debug("waited too long with an in-progress-ongoing result, adding error to session",{error:e}),this._session.modify((t=>Object.assign(Object.assign({},t),{inProgressResult:p.none,error:p.some(e)}))),C.getInstance().notify(y._H.Error.WaitForResultTimeout.create(this._session.get().mode))})),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.some(t)})))})),f.ew((()=>this._logger.warn("received `cheetah:ack` related to in-progress-pending result but we don't have an in-progress-pending result, skipping",{ackId:e}))))}));const a={contextId:o,actionId:e.id,args:y.aU.isUserPrompt(e)?[{name:e.arg.id,value:e.arg.value}]:(0,i.zG)(b.c2(e.args),p.fold((()=>[]),(e=>e.map((e=>({name:e.id,value:e.value})))))),stateBlob:s};this._logger.debug("_submitAction() - sending `cheetah:action` to CAPI",{data:a}),_("cheetahAction",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.cheetahAction(a),(()=>{C.getInstance().notify(y._H.Info.Action.create(this._session.get().mode)),this._setupContextTimeout("action")}))}else this._logger.warn("_submitAction() - submitting action with a session that is not `started`, skipping",{session:r,action:e,contextId:t})}_prepareEntryPoint(e){let t;switch(e){case y.z_.Mode.ideation:t=o.vv.Schema.MessageStartSessionEntryPoint.Ideation;break;case y.z_.Mode.rewrite:t=o.vv.Schema.MessageStartSessionEntryPoint.Rewrite;break;case y.z_.Mode.quickRewrite:t=o.vv.Schema.MessageStartSessionEntryPoint.QuickRewrite;break;case y.z_.Mode.quickReply:t=o.vv.Schema.MessageStartSessionEntryPoint.QuickReply;break;default:(0,d.L0)(e)}return this._logger.debug("_prepareEntryPoint()",{sessionMode:e,entryPoint:t}),t}_extractLatestResultContext(e){return this._extractContextFromResultHistory(e,0)}_extractPreviousResultContext(e){return this._extractContextFromResultHistory(e,1)}_extractContextFromResultHistory(e,t){const n=(0,i.zG)(p.fromNullable(e.resultHistory[t]),p.map((e=>e.id)),p.chain((e=>p.fromNullable(this._contextIdByResultId.get(e)))),p.chain((e=>p.fromNullable(this._contextById.get(e)))),p.toUndefined);return n?this._logger.debug("_extractContextFromResultHistory()",{session:e,resultIndex:t,resultContext:n}):this._logger.warn("_extractContextFromResultHistory() - could not find context for result",{session:e,resultIndex:t}),n}_extractInitialContext(){return null!==this._initialReceivedContext?(this._logger.debug("_extractInitialContext()",{initialContext:this._initialReceivedContext}),this._initialReceivedContext):void this._logger.warn("_extractInitialContext() - could not find initial context")}_clearResultTimeout(){var e;null===(e=this._resultTimeout)||void 0===e||e.unsubscribe(),this._resultTimeout=void 0}_clearContextTimeout(){var e;null===(e=this._contextTimeout)||void 0===e||e.unsubscribe(),this._contextTimeout=void 0}_clearAllTimeouts(){this._clearResultTimeout(),this._clearContextTimeout()}_setupContextTimeout(e){var t;this._logger.debug("_setupContextTimeout",{sourceEvent:e}),null===(t=this._contextTimeout)||void 0===t||t.unsubscribe(),this._contextTimeout=l.H(this._contextTimeoutMs).subscribe((()=>{const t=y.JZ.createCriticalError((0,i.zG)(y.z_.toStarting(this._session.get()),p.isSome));this._logger.debug("_setupContextTimeout() - waited too long to receive `cheetah:setContext`, adding error to session",{error:t}),this._session.modify((e=>Object.assign(Object.assign({},e),{inProgressResult:p.none,error:p.some(t)}))),C.getInstance().notify(y._H.Error.WaitForContextTimeout.create(e,this._session.get().mode))}))}}var E=n(14601),O=n(2844),I=n(77176),T=n(60797),A=n(93508),P=n(85985),R=n(41398),N=n(8125),D=n(17771);class B{constructor(e,t,n,r,i,o,s,a,c,l,f=g.C8.Logging.getLogger("CheetahWeb.OnboardingService")){this._assistantUIActions=e,this._onboardingUIActions=t,this._session=n,this._textStats=r,this._cheetahEnabled=i,this._patchUpstreamOnboardingClientState=s,this._trackingService=a,this._forceDisabledOnboardingSteps=c,this._client=l,this._logger=f,this._subs=new E.w,this._upstreamOnboardingState=h.h.create(y.Zq.State.empty),this._activeStep=h.h.create(p.none),this.activeStep=this._activeStep.view(),this._subs.add(o.subscribe(u.wW(this._upstreamOnboardingState))),this._subs.add(this._upstreamOnboardingState.subscribe((e=>this._logger.debug("Upstream state changed",e)))),this._subs.add(this._handleSessionChange()),this._subs.add(this._handleResultAction()),this._subs.add(this._handleSubmitActionOrOpenVoiceProfile()),this._subs.add(this._handleSessionEnd()),this._subs.add(this._handleStepClose()),this._subs.add(this._handleTryItOut()),this._subs.add(this._handleOnboardingUIItemMount()),this._subs.add(this._getActiveStep().subscribe(u.wW(this._activeStep)))}completeOnboardingStep(e){this._upstreamOnboardingState.get()[e][this._client].completed||(this._logger.debug("completeOnboardingStep()",{step:e}),this._patchUpstreamOnboardingClientState({[e]:{completed:!0,lastSeen:Date.now()}}))}seenOnboardingStep(e,t=Date.now()){this._logger.debug("seenOnboardingStep()",{step:e}),this._patchUpstreamOnboardingClientState({[e]:{completed:this._upstreamOnboardingState.get()[e][this._client].completed,lastSeen:t}})}dispose(){this._subs.unsubscribe()}_getActiveStep(){return O.aj([this._session,this._upstreamOnboardingState,this._textStats,this._cheetahEnabled]).pipe(I.U((([e,t,n,r])=>{if(r){if(p.isNone(e)){if(!this._forceDisabledOnboardingSteps.has(y.TG.StepName.initial)&&(0,i.zG)(t.initial[this._client],(({completed:e,lastSeen:t})=>!e&&(void 0===t||Date.now()-t>2592e5))))return p.some(y.TG.StepName.initial);return!this._forceDisabledOnboardingSteps.has(y.TG.StepName.rewrite)&&!t.rewrite[this._client].completed&&t.initial[this._client].completed&&(0,i.zG)(n,p.exists((e=>e.wordCount>30)))?p.some(y.TG.StepName.rewrite):p.none}return y.Zq.Step.everyClient((e=>!e.completed))(t.prompts)?p.some(y.TG.StepName.prompts):y.Zq.Step.everyClient((e=>!e.completed))(t.review)?p.some(y.TG.StepName.review):p.none}return p.none})))}_handleSessionChange(){return this._session.pipe(T.oA).subscribe((e=>{this.completeOnboardingStep(y.TG.StepName.initial),y.z_.Mode.isRewriteOrQuickRewrite(e.mode)&&this.completeOnboardingStep(y.TG.StepName.rewrite),"started"===e.kind&&e.resultHistory.filter((e=>"complete"===e.kind)).length>1&&this.completeOnboardingStep(y.TG.StepName.review)}))}_handleSessionEnd(){return this._session.pipe(A.O(p.none),c.G(),P.h((([e,t])=>p.isSome(e)&&p.isNone(t))),R.M(this._activeStep),I.U((([[e,t],n])=>(0,D.Y)(p.option)({step:(0,i.zG)(n,p.filter(y.TG.StepName.isAssistantOnboardingStep)),session:(0,i.zG)(e,p.chain(y.z_.toStarted))}))),T.oA).subscribe((({step:e,session:t})=>{e===y.TG.StepName.review&&t.resultHistory.filter((e=>"complete"===e.kind)).length>0?this.completeOnboardingStep(y.TG.StepName.review):e===y.TG.StepName.prompts&&this.completeOnboardingStep(e)}))}_handleOnboardingUIItemMount(){return this._onboardingUIActions.pipe(P.h(y.lG.is(y.lG.Kind.mount))).subscribe((e=>{e.name===y.nM.initialPopup?(0,i.zG)(e.element,f.bw((()=>this._trackingService.trackOnboardingPopupView()))):e.name===y.nM.promptsTooltip?(0,i.zG)(e.element,f.bw((()=>this._trackingService.trackOnboardingPromptsTooltipView()))):e.name===y.nM.reviewTooltip?(0,i.zG)(e.element,f.bw((()=>this._trackingService.trackOnboardingReviewTooltipView()))):e.name===y.nM.rewriteTooltip?(0,i.zG)(e.element,f.bw((()=>this._trackingService.trackOnboardingRewriteTooltipView()))):(0,d.L0)(e.name)}))}_handleStepClose(){return this._onboardingUIActions.pipe(P.h(y.lG.is(y.lG.Kind.close))).subscribe((e=>{e.step===y.TG.StepName.initial?(this._trackingService.trackOnboardingPopupSkip(),void 0===this._upstreamOnboardingState.get().initial[this._client].lastSeen?this.seenOnboardingStep(e.step,Date.now()):this.completeOnboardingStep(e.step)):this.completeOnboardingStep(e.step)}))}_handleTryItOut(){return this._onboardingUIActions.pipe(P.h(y.lG.is(y.lG.Kind.tryItOut))).subscribe((()=>{this._trackingService.trackOnboardingPopupNext(),this.completeOnboardingStep(y.TG.StepName.initial)}))}_handleResultAction(){return this._assistantUIActions.pipe(P.h((0,N.W9)(y.ix.isResultAction,(e=>"complete"===e.result.kind)))).subscribe((()=>{this.completeOnboardingStep(y.TG.StepName.review)}))}_handleSubmitActionOrOpenVoiceProfile(){return this._assistantUIActions.pipe(P.h((0,N.Kg)(y.ix.is(y.ix.Kind.clickActionBrick),y.ix.is(y.ix.Kind.promptSend),y.ix.is(y.ix.Kind.openVoiceProfile))),R.M(this._activeStep,this._session.pipe(I.U(p.chain(y.z_.toStarted)))),I.U((([e,t,n])=>(0,D.Y)(p.option)({step:(0,i.zG)(t,p.filter(y.TG.StepName.isAssistantOnboardingStep)),session:n}))),T.oA).subscribe((({step:e,session:t})=>{e===y.TG.StepName.review&&t.resultHistory.filter((e=>"complete"===e.kind)).length>0?this.completeOnboardingStep(y.TG.StepName.review):e===y.TG.StepName.prompts&&this.completeOnboardingStep(e)}))}}class U{constructor(e){this.user=e}}var j=n(24209),M=n(61792);class L{constructor(e,t,n,r=g.C8.Logging.getLogger("CheetahWeb.AvailabilityService",v.i.DEBUG)){this._capiSessionStartedPartialEvent=e,this._capiCheetahSetContextEvents=t,this._capiCheetahResultEvents=n,this._logger=r,this._subs=new a.w.Keeper,this.availability=h.h.create({kind:M.a.Kind.pending}),this.promptsAllocated=this.availability.view((e=>(0,i.zG)(e,p.fromPredicate((0,N.Kg)(M.a.isActive,M.a.isPassive)),p.map((e=>e.promptsAllocated))))),this._subs.push(this._capiSessionStartedPartialEvent.subscribe((({allowedFeatures:e,cheetahUsage:t})=>this.availability.set(e.includes(o.vv.AllowedFeature)?M.a.fromUsage(t):{kind:M.a.Kind.unavailable}))),j.T(this._capiCheetahSetContextEvents,this._capiCheetahResultEvents).subscribe((e=>this.availability.set(M.a.fromUsage(e.message.usage)))),this.availability.pipe(c.G()).subscribe((([e,t])=>{this._logger.debug("availability updated",{prevAvailability:e,newAvailability:t}),(M.a.isActive(t)||M.a.isPassive(t))&&0===t.refillDate&&this._logger.warn("availability updated - error parsing refill date for new availability, setting timestamp to 0",{prevAvailability:e,newAvailability:t})})))}dispose(){this._subs.dispose()}}class G{constructor(e,t=g.C8.Logging.getLogger("CheetahWeb.TrackingService",v.i.DEBUG)){this._getCAPIClient=e,this._logger=t}trackResultInsert(e){this._logger.debug("trackResultInsert()",{contextId:e}),e||this._logger.warn("trackResultInsert() - tracking result insert without context"),this._trackUxInteraction({kind:"result",userAction:y.Z7.Result.UserAction.insert},e)}trackResultOffensive(e){this._logger.debug("trackResultOffensive()",{contextId:e}),e||this._logger.warn("trackResultOffensive() - tracking result offensive without context"),this._trackUxInteraction({kind:"result",userAction:y.Z7.Result.UserAction.offensive},e)}trackResultDismiss(e){this._logger.debug("trackResultDismiss()",{contextId:e}),e||this._logger.warn("trackResultDismiss() - tracking result dismiss without context"),this._trackUxInteraction({kind:"result",userAction:y.Z7.Result.UserAction.dismiss},e)}trackResultRephrase(e){this._logger.debug("trackResultRephrase()",{contextId:e}),e||this._logger.warn("trackResultRephrase() - tracking result rephrase without context"),this._trackUxInteraction({kind:"result",userAction:y.Z7.Result.UserAction.rephrase},e)}trackVoiceProfileOpen(e){this._logger.debug("trackVoiceProfileOpen()",{source:e}),this._trackUxInteraction({kind:"voiceProfile",userAction:"toolbar"===e?y.Z7.VoiceProfile.UserAction.open:y.Z7.VoiceProfile.UserAction.openFromBanner})}trackVoiceProfileSkip(){this._logger.debug("trackVoiceProfileSkip()"),this._trackUxInteraction({kind:"voiceProfile",userAction:y.Z7.VoiceProfile.UserAction.skip})}trackActionsOpenStore(){this._logger.debug("trackActionsOpenStore()"),this._trackUxInteraction({kind:"actions",userAction:y.Z7.Actions.UserAction.openStore})}trackActionsOffensive(e){this._logger.debug("trackActionsOffensive()"),e||this._logger.warn("trackActionsOffensive() - tracking actions offensive without context"),this._trackUxInteraction({kind:"actions",userAction:y.Z7.Actions.UserAction.offensive},e)}trackPromptSearch(){this._logger.debug("trackPromptSearch()"),this._trackUxInteraction({kind:"prompt",userAction:y.Z7.Prompt.UserAction.search})}trackUsageInfoClick(){this._logger.debug("trackUsageInfoClick()"),this._trackUxInteraction({kind:"usageInfo",userAction:y.Z7.UsageInfo.UserAction.click})}trackUsageInfoHover(){this._logger.debug("trackUsageInfoHover()"),this._trackUxInteraction({kind:"usageInfo",userAction:y.Z7.UsageInfo.UserAction.hover})}trackOnboardingPopupView(){this._logger.debug("trackOnboardingPopupView()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:y.Z7.Onboarding.UserAction.view})}trackOnboardingPopupSkip(){this._logger.debug("trackOnboardingPopupSkip()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:y.Z7.Onboarding.UserAction.skip})}trackOnboardingPopupNext(){this._logger.debug("trackOnboardingPopupNext()"),this._trackUxInteraction({kind:"onboardingPopup",userAction:y.Z7.Onboarding.UserAction.next})}trackOnboardingPromptsTooltipView(){this._logger.debug("trackOnboardingPromptsTooltipView()"),this._trackUxInteraction({kind:"onboardingPromptsTooltip",userAction:y.Z7.Onboarding.UserAction.view})}trackOnboardingReviewTooltipView(){this._logger.debug("trackOnboardingReviewTooltipView()"),this._trackUxInteraction({kind:"onboardingReviewTooltip",userAction:y.Z7.Onboarding.UserAction.view})}trackOnboardingRewriteTooltipView(){this._logger.debug("trackOnboardingRewriteTooltipView()"),this._trackUxInteraction({kind:"onboardingRewriteTooltip",userAction:y.Z7.Onboarding.UserAction.view})}trackAssistantClose(){this._logger.debug("trackAssistantClose()"),this._trackUxInteraction({kind:"assistant",userAction:y.Z7.Assistant.UserAction.close})}_trackUxInteraction(e,t){var n;const r=y.Z7.getComponentId(e,t),i=y.Z7.getUserAction(e);this._logger.debug("_trackUxInteraction() - sending `user_action` to CAPI",{componentId:r,userAction:i,uxInteraction:e,contextId:t}),_("sendUserAction",this._logger,null===(n=this._getCAPIClient())||void 0===n?void 0:n.sendUserAction(r,i))}}},59060:(e,t,n)=>{n.d(t,{Dg:()=>Qi,TB:()=>v,WY:()=>Ji});var r=n(57050),i=n(355),o=n(14601),s=n(2768),a=n(85985),u=n(2834),c=n(49708),l=n(5114),p=n(55415),f=n(38983);function d(e){return(0,r.zG)(e,l.fromPredicate((e=>"initial"===e.kind||"dragged"===e.kind)))}class h{constructor(e,t){this._positionInfo=e,this._onFocus=t,this._internalState=f.h.create({managedPositionInfo:l.none,assistant:l.none,dragState:l.none,assistantMaxHeight:l.none}),this.state=this._internalState.view((e=>(0,r.zG)(e.dragState,l.map((t=>{return n=t,r=e.assistantMaxHeight,{kind:"dragged",dragging:n.dragging,referencePosition:n.translationOrigin,assistantMaxHeight:r,translation:(0,i.NN)(Object.assign(Object.assign({},n.assistantSize),{top:n.viewportSize.height-n.translationOrigin.bottom-n.assistantSize.height,left:n.viewportSize.width-n.translationOrigin.right-n.assistantSize.width}),Object.assign({left:0,top:0},n.viewportSize))(n.translation)};var n,r})),l.alt((()=>(0,r.zG)(e.managedPositionInfo,l.map((t=>({kind:"initial",referenceElement:t.referenceElement,placement:t.placement,offset:t.offset,assistantMaxHeight:e.assistantMaxHeight})))))),l.getOrElse((()=>({kind:"none"})))))),this._subs=new o.w,this._subs.add(this._positionInfo.pipe(s.R(this._internalState.view("dragState").pipe(a.h(l.isSome))),u.b((e=>this._internalState.lens("managedPositionInfo").set(l.some(e))))).subscribe()),this._subs.add(c.R(self,"resize").pipe(u.b((()=>this._internalState.lens("dragState").modify(l.map(i.eG.set("viewportSize",(0,r.zG)((0,i.C7)(),p.H6("width","height")))))))).subscribe())}onFocus(e){this._onFocus(e)}onMount(e){this._internalState.lens("assistant").set(l.some(e))}onResize(e){this._internalState.lens("dragState").modify(l.map(i.eG.set("assistantSize",(0,r.zG)(e,p.H6("width","height")))))}onMaxHeightChange(e){this._internalState.lens("assistantMaxHeight").set(l.some(e))}onDrag(e){this._internalState.modify((t=>Object.assign(Object.assign({},t),{dragState:(0,r.zG)(t.dragState,l.map((0,r.ls)(i.eG.set("translation",e),i.eG.set("dragging",!0))),l.alt((()=>(0,r.zG)(t.assistant,l.map((e=>({assistantRect:e.getBoundingClientRect(),viewportSize:(0,r.zG)((0,i.C7)(),p.H6("width","height"))}))),l.map((({assistantRect:t,viewportSize:n})=>({dragging:!0,viewportSize:n,assistantSize:{width:t.width,height:t.height},translation:e,translationOrigin:{bottom:n.height-(t.top+t.height),right:n.width-(t.left+t.width)}})))))))})))}onDragEnd(){this._internalState.lens("dragState").modify(l.map(i.eG.set("dragging",!1)))}dispose(){this._subs.unsubscribe()}}var m,g,v,y,b=n(17771),x=n(48044),w=n(13853),_=n(42040),S=n(99341),C=n(32952),k=n(78674),E=n(41398),O=n(77176),I=n(8125),T=n(45701),A=n(83078),P=n(22232),R=n(93846);!function(e){let t,n;e.isSupportedDynamicAction=(0,I.Kg)(R.aU.DynamicInput.isFollowUpQuestion,R.aU.DynamicInput.isQuickAction),function(e){e.ordByGroup=T.contramap((e=>e.group.rank))(T.ordNumber)}(t=e.SupportedDynamicActions||(e.SupportedDynamicActions={})),function(e){e.make=function(e){return{kind:"backendAction",action:e}}}(n=e.BackendAction||(e.BackendAction={}))}(m||(m={})),function(e){e.create=function(){return{activeView:"loading",previousView:"loading",stagingVoiceProfile:l.none,textBox:"",selectedDynamicAction:l.none,contentOverflowUnderToolbar:!1,promptAutofocusToken:0}},e.updateActiveView=function(e){return t=>Object.assign(Object.assign({},t),{activeView:e,previousView:t.activeView})}}(g||(g={}));class N{constructor(e,t,n,i,s=_.C8.Logging.getLogger(N.name)){this._handlers=e,this._user=t,this._availability=n,this._session=i,this._log=s,this._state=f.h.create(g.create()),this._subs=new o.w,this._userTyped=new C.xQ,this.promptMenuActions=new C.xQ,this.state=f.h.combine(this._state,this._user,this._availability,this._session,((e,t,n,i)=>Object.assign({user:t,availability:n,session:i,userPromptAction:(0,r.zG)(R.z_.toStarted(i),l.chain((e=>e.context.userPromptAction)))},e))),this._subs.add(this.state.subscribe((e=>this._log.debug("State update",e)))),this._subs.add(this._updateActiveView().subscribe()),this._subs.add(this._userTyped.pipe(k.b(150),E.M(this._state),O.U((([e,t])=>t)),a.h((e=>l.isNone(e.selectedDynamicAction))),u.b((e=>this.promptMenuActions.next({kind:"showSearchRestuls",search:e.textBox})))).subscribe());const c=this.state.view("availability").view(R.a8.isDisabled);this._subs.add(c.pipe(a.h(r.yR)).subscribe((()=>this._handlers.onShowGetMorePrompts(this._user.get().isFree))))}_updateActiveView(){return f.h.combine(this._session.view(R.z_.toStarting).view((0,r.ls)(l.chain((e=>e.error)),l.fold(r.jv,r.W8))),this._session.view(R.z_.toStarted).view(l.map((e=>({hasResults:e.resultHistory.length>0,hasInProgressResult:l.isSome(e.inProgressResult)})))),this._state.view("selectedDynamicAction").view(l.isSome),((e,t,n)=>{const i=e?l.some("loadingError"):(0,r.zG)(t,l.map((({hasResults:e,hasInProgressResult:t})=>n?"actionSelected":e||t?"afterResults":"beforeResults")));(0,r.zG)(i,A.bw((e=>this._state.modify((t=>"voiceProfile"!==t.activeView?g.updateActiveView(e)(t):t)))))}))}notify(e){switch(this._handlers.notify(e),e.kind){case R.ix.Kind.close:return this._close();case R.ix.Kind.goBack:return this._goBack();case R.ix.Kind.openVoiceProfile:return this._openVoiceProfile(e.source);case R.ix.Kind.closeVoiceProfile:return this._closeVoiceProfile();case R.ix.Kind.applyVoiceProfile:return this._applyVoiceProfile();case R.ix.Kind.toggleTone:return this._toggleTone(e.id,e.selected);case R.ix.Kind.selectStyle:return this._selectStyle(e.id);case R.ix.Kind.selectRole:return this._selectRole((0,r.zG)(e.role,l.map((e=>e.id))));case R.ix.Kind.selectDialect:return this._selectDialect(e.dialect.id);case R.ix.Kind.promptFieldChange:return this._updateTextBox(e.text);case R.ix.Kind.promptFieldFocusChange:return this._onPromptFieldFocusChange(e.focused);case R.ix.Kind.clickActionBrick:return this._executeAction(e.action);case R.ix.Kind.promptSend:return this._go();case R.ix.Kind.generateStop:return this._stop();case R.ix.Kind.insert:return this._insert(e.result);case R.ix.Kind.rephrase:return this._rephrase(e.result);case R.ix.Kind.dismissResult:return this._dismissResult(e.result);case R.ix.Kind.dismissError:return this._dismissError();case R.ix.Kind.reportOffensiveResult:return this._reportOffensiveResult(e.result);case R.ix.Kind.reportOffensiveActions:return this._reportOffensiveActions();case R.ix.Kind.clickResultHeader:return this._clickResultHeader(e.prompt);case R.ix.Kind.collapsePromptMenu:return this._collapsePromptMenu();case R.ix.Kind.creditsInfoHover:return this._onCreditsInfoHover();case R.ix.Kind.creditsInfoClick:return this._onCreditsInfoClick(e.isGetMoreCredits,e.userIsFree);case R.ix.Kind.mount:break;case R.ix.Kind.escapePressed:this._session.view((e=>"started"===e.kind&&l.isNone(e.inProgressResult))).get()&&this._close();break;default:(0,P.L0)(e)}}contentOverflowUnderToolbar(e){this._state.lens("contentOverflowUnderToolbar").set(e)}dispose(){this._subs.unsubscribe()}_close(){this._handlers.trackAssistantClose(),this._handlers.close(R.z_.EndReason.closed)}_goBack(){const e=(0,r.zG)(R.z_.toStarted(this._session.get()),l.map((e=>e.resultHistory.length>0)),l.fold(r.jv,r.W8));this._state.modify((t=>Object.assign(Object.assign({},"actionSelected"===t.activeView?g.updateActiveView(e?"afterResults":"beforeResults")(t):g.updateActiveView(t.previousView)(t)),{selectedDynamicAction:"actionSelected"===t.activeView?l.none:t.selectedDynamicAction,textBox:"actionSelected"===t.activeView?"":t.textBox})))}_openVoiceProfile(e){(0,r.zG)(R.z_.toStarted(this._session.get()),A.bw((t=>{this._handlers.trackVoiceProfileOpen(e),this._state.modify((0,r.ls)(g.updateActiveView("voiceProfile"),S.e.set("stagingVoiceProfile",l.some({selectedStyle:t.voiceProfile.selectedStyle,selectedTonesPerStyle:t.voiceProfile.selectedTonesPerStyle,selectedRole:t.voiceProfile.selectedRole,selectedDialect:t.voiceProfile.selectedDialect,needsSetup:t.voiceProfile.needsSetup}))))})))}_closeVoiceProfile(){this._handlers.trackVoiceProfileSkip(),this._state.modify((e=>(0,r.zG)(g.updateActiveView(e.previousView)(e),S.e.set("stagingVoiceProfile",l.none))))}_applyVoiceProfile(){const e=this._state.get().stagingVoiceProfile;this._state.modify((e=>(0,r.zG)(g.updateActiveView(e.previousView)(e),S.e.set("stagingVoiceProfile",l.none)))),(0,r.zG)(e,A.bw((e=>{this._handlers.setVoiceProfile(e)})))}_toggleTone(e,t){this._state.lens("stagingVoiceProfile").modify(l.map((n=>Object.assign(Object.assign({},n),{selectedTonesPerStyle:(0,r.zG)(n.selectedTonesPerStyle,t?(0,S.n)(R.LA.Style.Id.eq)(n.selectedStyle,l.fold((()=>new Set([e])),w.$T(R.LA.Tone.Id.eq)(e))):(0,r.ls)(x.cq(R.LA.Style.Id.eq)(n.selectedStyle,w.Od(R.LA.Tone.Id.eq)(e)),l.getOrElse((()=>n.selectedTonesPerStyle))))}))))}_selectStyle(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedStyle:e}))))}_selectRole(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedRole:e}))))}_selectDialect(e){this._state.lens("stagingVoiceProfile").modify(l.map((t=>Object.assign(Object.assign({},t),{selectedDialect:e}))))}_updateTextBox(e){this._state.lens("textBox").set(e),this._userTyped.next(e)}_onPromptFieldFocusChange(e){this._handlers.onFocus(e),""===this._state.view("textBox").get().trim()||e||this._handlers.trackPromptSearch()}_executeAction(e){if(this.promptMenuActions.next({kind:"close"}),"backendAction"===e.kind)if(R.aU.DynamicInput.isFollowUpQuestion(e.action)){const t=e.action;this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedDynamicAction:l.some(t)})))}else R.aU.DynamicInput.isQuickAction(e.action)?(this._state.modify((e=>Object.assign(Object.assign({},e),{textBox:"",selectedDynamicAction:l.none}))),this._handlers.submitAction(e.action)):(0,P.L0)(e.action);else"allResults"===e.kind?(this._handlers.trackActionsOpenStore(),this.promptMenuActions.next({kind:"showActionsStore"})):"go"===e.kind?this._go():(0,P.L0)(e)}_go(){this.promptMenuActions.next({kind:"close"}),l.isSome(this._state.get().selectedDynamicAction)?this._submitSelectedFollowUpAction():this._submitCustomPrompt()}_stop(){this._handlers.stopInProgressResult()}_insert(e){this._handlers.trackResultInsert(e.id),this._handlers.insertText(e.text)}_rephrase(e){this._handlers.regenerateResult(e.id)}_dismissResult(e){this._handlers.dismissResult(e.id)}_dismissError(){this._handlers.dismissError()}_reportOffensiveResult(e){this._handlers.trackResultOffensive(e.id)}_reportOffensiveActions(){this._handlers.trackActionsOffensive()}_clickResultHeader(e){this._state.modify((t=>Object.assign(Object.assign({},t),{textBox:e,promptAutofocusToken:t.promptAutofocusToken+1})))}_collapsePromptMenu(){this.promptMenuActions.next({kind:"close"})}_onCreditsInfoHover(){this._handlers.trackUsageInfoHover()}_onCreditsInfoClick(e,t){this._handlers.trackUsageInfoClick(),e&&this._handlers.onClickGetMorePrompts(t)}_submitSelectedFollowUpAction(){const e=(0,r.zG)(this._state.get().textBox.trim(),l.fromPredicate((e=>""!==e)));(0,r.zG)(b.Y(l.option)({text:e,selectedDynamicAction:this._state.get().selectedDynamicAction}),l.map((({text:e,selectedDynamicAction:t})=>R.aU.FollowUpQuestionValue.fromInputAndValue(t,e))),A.bw((e=>{this._state.modify((e=>Object.assign(Object.assign({},e),{selectedDynamicAction:l.none,textBox:""}))),this._handlers.submitAction(e)})))}_submitCustomPrompt(){(0,r.zG)(this._state.get().textBox.trim(),l.fromPredicate((e=>""!==e)),l.chain((e=>(0,r.zG)(R.z_.toStarted(this._session.get()),l.chain((e=>e.context.userPromptAction)),l.map((t=>({userPromptAction:t,text:e})))))),A.bw((({text:e,userPromptAction:t})=>{this._state.lens("textBox").set(""),this._handlers.submitAction(R.aU.UserPromptValue.fromInput(t,e))})))}}!function(e){e.create=function(e,t,n,r,i){const o=y.create(e,t,n,r),s=new h(i,(t=>e.onFocus(t)));return Object.assign(Object.assign({},o),{position:s,dispose:()=>{s.dispose(),o.dispose()}})}}(v||(v={})),function(e){e.create=function(e,t,n,r){const i=new N(e,t,n,r);return{assistant:i,dispose:()=>{i.dispose()}}}}(y||(y={}));var D=n(34217),B=n(27378),U=n(19703),j=n(12187),M=n(74204),L=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const G=e=>{var{placement:t,onMount:n,onMaxSizeChange:o,children:s}=e,a=L(e,["placement","onMount","onMaxSizeChange","children"]);const[u,c]=B.useState(null),p="initial"===t.kind?t:void 0,f=(0,i.gM)(o),{styles:d}=(0,M.D)(null==p?void 0:p.referenceElement,u,{placement:null==p?void 0:p.placement,modifiers:[f,...(0,r.zG)((null==p?void 0:p.offset)||l.none,l.fold((()=>[]),(e=>[{name:"offset",options:{offset:e}}])))]});return B.createElement("div",Object.assign({ref:e=>{c(e),e&&e!==u&&n(e)},style:"initial"===t.kind?d.popper:{position:"fixed",top:t.referencePosition.top,left:t.referencePosition.left,bottom:t.referencePosition.bottom,right:t.referencePosition.right,transform:`translate(${t.translation.x}px, ${t.translation.y}px)`},tabIndex:0},a),s)};var z=n(89894),F=n(62172),V=n(88392),$=n(9546);const Z="content",H="toolbar",W=e=>z.ux.color(F.BlueGray40).toRGBA().fade(e).toString(),K={fontFamily:"Inter, sans-serif",width:z.ux.rem(26.875),boxShadow:`0px 0px 0px 0.5px ${F.BlueGray40}, 0px 0px 2px 0.5px ${W(.5)}, 0px 1px 8px 0.5px ${W(.1)}, 0px 2px 12px 0.5px ${W(.1)}, 0px 4px 20px 0.5px ${W(.25)}`,backdropFilter:`blur(${z.ux.rem(.34375)})`,borderRadius:z.ux.rem(V.ze),background:"linear-gradient(180deg, #FCFCFC 0%, #FCFCFC 100%)",$nest:{"&[data-dragging='true']":{cursor:"grabbing",$nest:{[`.${Z}`]:{pointerEvents:"none"},[`.${H}`]:{pointerEvents:"none"}}}}},q={maxWidth:z.ux.rem(40),minWidth:z.ux.rem(18),width:z.ux.percent(100)},Y={display:"flex",alignItems:"center",justifyContent:"space-between",gap:z.ux.rem($.x),padding:`${z.ux.rem($.F2+$.yC)} ${z.ux.rem($.x)}`,height:z.ux.rem(2.5),boxSizing:"border-box"},X={borderBottom:`0.5px solid ${F.BlueGray10}`},Q={container:z.ux.style(K),fixedContainer:z.ux.style(K,q),toolbar:z.ux.joinClasses([H,z.ux.style(Y)]),toolbarDraggable:z.ux.joinClasses([H,z.ux.style(Y,{cursor:"grab",$nest:{"&:active":{cursor:"grabbing"}}})]),toolbarOverflow:z.ux.style(X),content:Z};var J=n(66722),ee=n(99094),te=n(31278);const ne=D.UI.Grid.make((({slots:e,state:t,notify:n})=>B.createElement(ee.f.Context.Provider,{value:ee.f.emptyWithName("cheetahAssistant")},B.createElement(U.F.Fragment,null,t.pipe(O.U((t=>"initial"===t.kind||"dragged"===t.kind?B.createElement(G,{placement:t,onFocus:n({kind:"focus",focused:!0}),onBlur:n({kind:"focus",focused:!1}),onMount:e=>n({kind:"mount",element:e})(),onMaxSizeChange:e=>n({kind:"maxSize",maxSize:e})(),"data-grammarly-part":"ideation-assistant","data-dragging":"dragged"===t.kind&&t.dragging,className:Q.container},B.createElement("header",Object.assign({},(0,j.Sh)(Q.toolbarDraggable,t.contentOverflowUnderToolbar?Q.toolbarOverflow:null),{ref:e=>e&&n({kind:"dragHandleMount",element:e})()}),e.toolbar,B.createElement(J.zx.Tertiary,{onClick:n({kind:R.ix.Kind.close}),compact:!0,name:"toolbarClose","aria-label":"Close Assistant"},B.createElement(te.JO.Close,null))),B.createElement("main",{className:Q.content},e.content)):"none"===t.kind?null:(0,P.L0)(t))))))));var re=n(38194),ie=n(24209),oe=n(49143),se=n(2844),ae=n(60797),ue=n(66310),ce=n(14811),le=n(93508),pe=n(83401),fe=n(90845);function de(e,t){return(0,r.ls)(re.B(),(n=>ie.T(n.pipe(u.b((n=>function(e,t,n){switch(e.kind){case"focus":return t.onFocus(e.focused);case"mount":return t.onMount(e.element);case"maxSize":return t.onMaxHeightChange(e.maxSize.height);case"dragHandleMount":break;case R.ix.Kind.close:return n.notify(e);default:(0,P.L0)(e)}}(n,e,t))),oe.l()),n.pipe(function(e){return(0,r.ls)(O.U((e=>"dragHandleMount"===e.kind?l.some(e.element):l.none)),ae.oA,(0,i.uj)(),(t=e,(0,r.ls)(re.B(),(e=>(0,r.zG)(ie.T(e.pipe(a.h((e=>i.E9.l1Distance(i.E9.fromCartesian(e.translate),i.E9.fromCartesian(e.lastTranslate))>=3)),u.b((e=>t.onDrag(e.translate)))),e.pipe(a.h((e=>e.dragEnd)),u.b((()=>t.onDragEnd())))),oe.l())))),oe.l());var t}(e)),n.pipe(function(e){return(0,r.ls)(O.U((e=>"mount"===e.kind?l.some(e.element):l.none)),ae.oA,ue.w((e=>ce.YC(e).pipe(le.O(null),O.U((()=>e.getBoundingClientRect()))))),u.b((t=>e.onResize(t))),oe.l())}(e)),n.pipe((0,r.ls)(O.U((e=>"mount"===e.kind?l.some(e.element):l.none)),ae.oA,O.U(l.some),fe.P.FocusTrap.dynamicFocusTrap(fe.P.FocusTrap.InitialFocus.none,he,me),oe.l())),se.aj([e.state,t.state]).pipe(O.U((([e,{contentOverflowUnderToolbar:t}])=>Object.assign(Object.assign({},e),{contentOverflowUnderToolbar:t})))))))}function he(e){var t;if(e instanceof HTMLIFrameElement){const n=null===(t=e.contentWindow)||void 0===t?void 0:t.document;if(n){const e=n.body.querySelector("textarea:not([disabled]), input:not([disabled])");e&&"focus"in e&&"function"==typeof e.focus&&e.focus()}}else e.focus()}function me(e,t){return e instanceof HTMLIFrameElement?e.contentDocument?c.R(e.contentDocument.body,t):pe.C:c.R(e,t)}const ge=D.UI.Grid.make((({slots:e,state:t,notify:n})=>B.createElement(ee.f.Context.Provider,{value:ee.f.emptyWithName("cheetahAssistant")},B.createElement(U.F.Fragment,null,t.pipe(O.U((t=>B.createElement(U.F.div,{key:"ideation-assistant-container",className:Q.fixedContainer,mount:(0,r.ls)(l.fromNullable,A.bw((e=>{n({kind:"mount",element:e})})))},B.createElement(U.F.header,Object.assign({},(0,j.Sh)(Q.toolbar,t.contentOverflowUnderToolbar?Q.toolbarOverflow:null)),e.toolbar,B.createElement(J.zx.Tertiary,{onClick:n({kind:R.ix.Kind.close}),compact:!0,name:"toolbarClose","aria-label":"Close Assistant"},B.createElement(te.JO.Close,null))),B.createElement(U.F.main,{className:Q.content},e.content)))))))));var ve=n(95195),ye=n(13578);const be="brick",xe={$nest:{[`&.${be}.${be}.${be}.${be}`]:{padding:`0 ${z.ux.rem($.x)} 0 ${z.ux.rem($.F2)}`}}},we={display:"flex",alignItems:"center",gap:z.ux.rem($.x)},_e={$nest:{[`&.${be}.${be}.${be}.${be}`]:{minHeight:z.ux.rem(1.75),fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125),color:F.BlueGray80}}},Se={$nest:{[`&.${be}.${be}.${be}.${be}`]:{minHeight:z.ux.rem(2),fontSize:z.ux.rem(.875),lineHeight:z.ux.rem(1.375),color:ye.XY.Content.Primary.Default}}},Ce={$nest:{[`&.${be}.${be}.${be}.${be}`]:{boxShadow:`inset 0 0 0 ${z.ux.rem(.125)} ${i.BO.BrandGreen60}`}}},ke={textAlign:"left",whiteSpace:"initial",lineHeight:z.ux.rem(1.125),margin:`${z.ux.rem(.25)} 0 ${z.ux.rem(.25)} 0`},Ee={brick:z.ux.joinClasses([be,z.ux.style(xe)]),content:z.ux.style(we),compact:z.ux.style(_e),standard:z.ux.style(Se),goAction:z.ux.style(Ce),label:z.ux.style(ke)},Oe=(0,j.xb)(J.zx.Secondary),Ie=D.UI.Node.make((({view:e,notify:t})=>B.createElement(Oe,Object.assign({onClick:e("action").pipe(O.U((e=>t({kind:R.ix.Kind.clickActionBrick,action:e})))),name:"actionBrick"},(0,j.Sh)(Ee.brick,e("action").pipe(O.U((({kind:e})=>"go"===e?Ee.goAction:null))),e("mode").pipe(O.U((e=>"compact"===e?Ee.compact:"standard"===e?Ee.standard:(0,P.L0)(e)))))),B.createElement(U.F.div,{className:Ee.content},e("icon").pipe(O.U(ve.g_((({kind:e})=>{switch(e){case"allResults":return B.createElement(J.k8,null);case"go":return B.createElement(J.CT,null);default:(0,P.L0)(e)}}),(({url:e})=>B.createElement("img",{src:e,style:{width:20,height:20}}))))),B.createElement(U.F.span,{dangerouslySetInnerHTML:e("label").pipe(O.U((e=>({__html:e})))),className:Ee.label})))));function Te(e,t,n){return D.Z.fromSideEffect((t=>e.notify(t)),se.aj([t,e.state.view("textBox")]).pipe(O.U((([e,t])=>({icon:"backendAction"===e.kind?ve.F2({url:e.action.iconUrl}):ve.t$({kind:e.kind}),label:"backendAction"===e.kind?e.action.label:"allResults"===e.kind?"More":"go"===e.kind?`”${t.trim()}”`:(0,P.L0)(e),action:e,mode:n})))))}var Ae=n(64015);const Pe=D.UI.List.make(Ae.Bk,Ie);var Re=n(76974);function Ne(e,t,n){return D.Z.composeList(Ae.Bk,(()=>t.pipe(O.U(l.getOrElse((()=>[]))))),(t=>Te(e,Re.of(t),n)))}var De=n(17889);function Be(e){return e.state.view("session").view(R.z_.toStarted).view((0,r.ls)(l.map((e=>e.context.dynamicActions)),l.chain((0,r.ls)(Ae.hX(m.isSupportedDynamicAction),De.c2))))}function Ue(e=3,t=(t=>t.length>e)){return n=>t(n)?De.Ss(Ae.ke(e)(n),{kind:"allResults"}):n}const je={background:"white",display:"flex",flexDirection:"column",gap:z.ux.rem($.x)},Me={color:ye.XY.Content.Secondary.Default,fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125),overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Le={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:z.ux.rem($.x)},Ge=z.ux.prefixedStylesheet("action_group",{container:[je],header:[Me],content:[Le]}),ze=({className:e,children:t,header:n})=>B.createElement("div",Object.assign({},(0,j.Sh)(Ge.container,e)),n?B.createElement("div",{className:Ge.header},n):null,B.createElement("div",{className:Ge.content},t)),Fe={background:"transparent",padding:`${z.ux.rem($.x)} 0`},Ve=z.ux.prefixedStylesheet("action_groups",{group:[Fe]}),$e=D.UI.Grid.make((({slots:e,view:t})=>B.createElement(ze,{header:B.createElement(U.F.Fragment,null,t("group")),className:Ve.group},e.actions))),Ze=D.UI.Knot.make($e,{actions:Pe}),He=D.UI.List.make(Ae.Bk,Ze);function We(e,t){return D.Z.composeList(Ae.Bk,(()=>t),(t=>function(e,t){return D.Z.composeKnot({root:()=>Re.of({group:t.group}),actions:Ne(e,Re.of(l.some(t.actions)),"standard")})}(e,t)))}const Ke={display:"flex",flexDirection:"column",gap:z.ux.rem($.x)},qe={position:"relative",padding:`${z.ux.rem($.F2)} ${z.ux.rem($.qp)}`,border:`0.5px solid ${F.BlueGray10}`,borderRadius:z.ux.rem(V.xB+V.fe)},Ye={position:"absolute",top:z.ux.rem($.qp),right:z.ux.rem($.qp)},Xe=z.ux.stylesheet({wrapper:[Ke],actionsContainer:[qe],reportMenu:[Ye]}),Qe={display:"flex",flexDirection:"column",padding:z.ux.rem($.qp),border:`0.5px solid ${F.BlueGray10}`,borderRadius:z.ux.rem(V.xB+V.fe),gap:z.ux.rem($.yC)},Je={color:ye.XY.Content.Secondary.Default,fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125)},et={color:ye.XY.Content.Primary.Default,fontStyle:"normal",fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125),fontFeatureSettings:"'ss01' on",$nest:{"& person":{color:F.Blue60,fontWeight:700,$nest:{"&::before":{content:"''",display:"inline-block",width:z.ux.rem(1),height:z.ux.rem(1),backgroundSize:"cover",verticalAlign:"text-bottom",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:`url('data:image/svg+xml;utf8,${encodeURIComponent(`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${F.Blue60}"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${F.Blue60}"/></svg>`)}')`}}}}},tt={container:z.ux.style(Qe),header:z.ux.style(Je),text:z.ux.style(et)},nt=D.UI.Node.make((({view:e})=>B.createElement("div",{className:tt.container},B.createElement(U.F.div,{className:tt.header},e("header")),B.createElement(U.F.div,{className:tt.text,dangerouslySetInnerHTML:e("text").pipe(O.U((e=>({__html:e}))))})))),rt=D.UI.Union.asOption(nt),it="setVoiceBtn",ot={padding:z.ux.rem($.qp),border:`0.5px solid ${F.BlueGray10}`,borderRadius:z.ux.rem(V.xB+V.fe),backgroundColor:"#D8F2EC",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",backgroundImage:"url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"},st={fontWeight:700,fontSize:z.ux.rem(.875),lineHeight:z.ux.rem(1.375),color:ye.XY.Content.Primary.Default},at={fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125),color:ye.XY.Content.Secondary.Default},ut={$nest:{[`&.${it}.${it}.${it}.${it}`]:{marginTop:z.ux.rem($.x),padding:`0 ${z.ux.rem($.x)} 0 ${z.ux.rem($.F2)}`,lineHeight:z.ux.rem(1.125),gap:z.ux.rem($.F2)}}},ct={container:z.ux.style(ot),header:z.ux.style(st),description:z.ux.style(at),setVoiceBtn:z.ux.joinClasses([it,z.ux.style(ut)]),voiceIcon:z.ux.style({stroke:"white"})},lt=D.UI.Node.make((({notify:e})=>B.createElement("div",{className:ct.container},B.createElement("div",{className:ct.header},"Set your voice"),B.createElement("div",{className:ct.description},"Choose how you want your generated text to sound."),B.createElement(J.zx.Primary,{className:ct.setVoiceBtn,onClick:e({kind:R.ix.Kind.openVoiceProfile,source:"banner"}),name:"bannerVoiceProfile"},B.createElement(J.uA,{className:ct.voiceIcon}),"Set voice")))),pt=D.UI.Union.asOption(lt);function ft(e){return D.Z.fromSideEffect((t=>e.notify(t)),null)}var dt=n(80544),ht=n(79692),mt=n(42210),gt=n(64757),vt=n(45212),yt=n(35430);const bt={width:z.ux.rem(13.375),marginTop:0},xt={display:"flex",alignItems:"center",gap:z.ux.rem($.x),padding:`${z.ux.rem($.x)} ${z.ux.rem($.qp)}`,fontSize:z.ux.rem(.875),lineHeight:1.5},wt={width:z.ux.rem(1.5),height:z.ux.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center",$nest:{svg:{fill:ye.XY.Content.Secondary.Default}}},_t={menu:z.ux.style(bt),menuButton:z.ux.style(xt),menuIcon:z.ux.style(wt)},St=({className:e,reportMenuButtonClassName:t,onClickReportOffensive:n})=>B.createElement("div",{className:e},B.createElement(mt.L,{name:"reportMenu",label:B.createElement(vt.z.Tertiary,Object.assign({},(0,j.Sh)(_t.menuButton,t),{compact:!0,name:"reportMenuToggle",title:"Provide feedback"}),B.createElement(yt.cW,null)),align:"right",vAlign:"bottom",showDelay:0,closeDelay:200,appearanceBehavior:"mouseClick",theme:{dropdownList:_t.menu}},B.createElement(gt.zx.Flat,{name:"reportOffensive",onClick:(0,i.m)(n),className:_t.menuButton},B.createElement("div",{className:_t.menuIcon},B.createElement(yt.cW,{width:14.5,height:16.5})),B.createElement("span",null,"Offensive content")))),Ct=D.UI.Knot.make(D.UI.Grid.make((({slots:e,notify:t,view:n})=>{const{ref:r,onMount:i}=fe.P.useElWatcher(),o=B.useMemo((()=>r.pipe(dt.QV(ht.E),u.b((e=>t({kind:R.ix.Kind.mount,name:R.ec.initialActionsList,element:e})())))),[r]);return fe.P.useSubscriptionTo(o),B.createElement("div",{className:Xe.actionsContainer,ref:i},B.createElement(U.F.Fragment,null,n("isQuickReply").pipe(O.U((e=>e?B.createElement(St,{className:Xe.reportMenu,onClickReportOffensive:t({kind:R.ix.Kind.reportOffensiveActions})}):null))),e.actions))})),{actions:He}),kt=D.UI.Union.asOption(Ct),Et=D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:Xe.wrapper},e.voiceBanner,e.intent,e.initialActions))),Ot=D.UI.Knot.make(Et,{voiceBanner:pt,intent:rt,initialActions:kt}),It=D.UI.Union.asOption(Ot);var Tt=n(45626);function At(e){const t=e.state.view("session").view((0,r.ls)(Tt.z.toStarted,l.filter((e=>Tt.z.Mode.isQuickReply(e.mode))),l.map(p.ei("context")),l.chain((e=>e.intent))));return D.Z.composeOption(function(e){return()=>e.pipe(ae.oA)}(t),(()=>t))}function Pt(e){const t=e.state.view("session").view((0,r.ls)(Tt.z.toStarted,l.chain((e=>e.selectedText)))),n=e.state.view("session").view((0,r.ls)(Tt.z.toStarted,l.fold(r.jv,(e=>e.voiceProfile.needsSetup)))),i=e.state.view("session").view((0,r.ls)(Tt.z.toStarted,l.fold(r.jv,(e=>Tt.z.Mode.isQuickReply(e.mode))))),o=f.h.combine(Be(e),t,i,((e,t,n)=>(0,r.zG)(e,l.map(De.UI(m.BackendAction.make)),l.map((e=>De.of({group:n?"Ways to reply":l.isSome(t)?`Your text: "${t.value}"`:"Ideas for you",actions:n?e:Ue()(e)}))))));return D.Z.composeOption(function(e,t,n,r){return D.Z.composeKnot({initialActions:Rt(e,t,r),voiceBanner:D.Z.composeOption(ft(e),(()=>n.view((e=>e?l.some(null):l.none)))),intent:At(e)})}(e,o,n,i),(()=>f.h.combine(o,n,((e,t)=>l.isSome(e)||t?l.some(null):l.none))))}function Rt(e,t,n){return D.Z.composeOption(D.Z.composeKnot({root:D.Z.fromSideEffect((t=>e.notify(t)),n.view((e=>({isQuickReply:e})))),actions:We(e,t.pipe(ae.oA))}),(()=>t))}const Nt={border:`0.5px solid ${F.BlueGray10}`,borderRadius:z.ux.rem(V.xB+V.fe),padding:z.ux.rem($.qp),background:"white",display:"flex",alignItems:"center",flexDirection:"row",gap:z.ux.rem($.x),color:ye.XY.Content.Secondary.Default,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125)},Dt={display:"flex",alignItems:"center",justifyContent:"center",animation:`${z.ux.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}})} 1s linear infinite`,width:z.ux.rem(1),height:z.ux.rem(1)},Bt=z.ux.prefixedStylesheet("loading",{container:[Nt],icon:[Dt]}),Ut=D.UI.Node.make((({view:e})=>B.createElement(U.F.div,{className:Bt.container},B.createElement("div",{className:Bt.icon},B.createElement(J.Ho,null)),e("loadingMessage"))));function jt(e){return()=>e.state.view("session").view(R.z_.toStarted).view((0,r.ls)(l.map((e=>e.context)),l.filter(R._y.isPending),l.fold((()=>({loadingMessage:"Working on it..."})),(e=>({loadingMessage:e.loadingMessage})))))}const Mt="primaryBtn",Lt="rephraseBtn",Gt="dismissBtn",zt="reportBtn",Ft="editHeaderBtn",Vt="headerBtn",$t={dismissButton:Gt,reportButton:zt,insertButton:Mt,rephraseButton:Lt,editHeaderButton:Ft},Zt={display:"flex",flexDirection:"column",padding:z.ux.rem($.qp),gap:z.ux.rem($.x),background:"transparent",border:`0.5px solid ${F.BlueGray10}`,borderRadius:z.ux.rem(V.xB+V.fe),$nest:{"&:not(:last-of-type)":{borderBottom:`0.5px solid ${F.BlueGray10}`},[`& .${Mt}.${Mt}.${Mt}.${Mt}`]:{lineHeight:z.ux.rem(1.125),backgroundColor:"white",color:ye.XY.Content.Secondary.Default,border:`1px solid ${F.BlueGray5}`,boxSizing:"border-box"},[`& .${Lt}.${Lt}.${Lt}.${Lt}`]:{lineHeight:z.ux.rem(1.5)},[`& .${Gt}, & .${zt}`]:{visibility:"hidden",justifyContent:"center"},"&:focus, &:hover":{background:"white",$nest:{[`& .${Gt}, & .${zt}`]:{visibility:"visible"},[`& .${Mt}.${Mt}.${Mt}.${Mt}`]:{color:"white",backgroundColor:i.BO.BrandGreen60,border:"1px solid transparent"}}}}},Ht={gap:z.ux.rem($.x),display:"flex",alignItems:"center",justifyContent:"space-between"},Wt={display:"flex",alignItems:"center",gap:z.ux.rem($.x)},Kt=Wt,qt={whiteSpace:"break-spaces",overflowWrap:"anywhere",fontStyle:"normal",fontWeight:"normal",fontSize:z.ux.rem(.875),fontFeatureSettings:"'ss03' on",lineHeight:z.ux.rem(1.3125),color:ye.XY.Content.Primary.Default},Yt={backgroundColor:F.Blue0,borderRadius:z.ux.rem(V.fe)},Xt={container:z.ux.style(Zt),containerActive:z.ux.style(Zt,{background:"white"}),footer:z.ux.style(Ht),footerLeft:z.ux.style(Wt),footerRight:z.ux.style(Kt),result:z.ux.style(qt),insertPart:z.ux.style(Yt)},Qt={$nest:{[`&.${Vt}.${Vt}.${Vt}.${Vt}.${Vt}`]:{height:z.ux.rem(1.5),lineHeight:z.ux.rem(1.125),padding:`0 ${z.ux.rem($.F2)}`,margin:`0 ${z.ux.rem(-$.F2)}`,$nest:{[`& .${Ft}`]:{visibility:"hidden"},"&:focus, &:hover":{background:F.BlueGray0,[`& .${Ft}`]:{visibility:"visible",color:ye.XY.Content.Primary.Default}}}}}},Jt={display:"flex",alignItems:"center",gap:z.ux.rem($.x+$.yC),height:z.ux.rem(1.5),fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125),color:F.BlueGray60},en={display:"flex",justifyContent:"space-between",width:"100%",gap:z.ux.rem($.F2)},tn=z.ux.keyframes({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}),nn={marginBottom:`-${z.ux.rem($.yC)}`,display:"inline-flex",alignItems:"center",justifyContent:"center",animation:`${tn} 1s linear infinite`,width:z.ux.rem(1),height:z.ux.rem(1)},rn={header:z.ux.style(Jt),headerButton:z.ux.joinClasses([Vt,z.ux.style(Qt)]),headerWrapper:z.ux.style(en),loadingIcon:z.ux.style(nn),label:z.ux.style({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textAlign:"left"})},on=({isActive:e,id:t,scrollCardToken:n,children:r})=>{const i=B.useRef(null);return B.useEffect((()=>{i.current&&i.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),[n]),B.createElement("div",Object.assign({},(0,j.Sh)(Xt.container,e?Xt.containerActive:null),{"data-id":t,ref:i}),r)},sn=({diff:e})=>B.createElement("div",{className:Xt.result},(0,i.Nv)(e.delta,e.selectedText).map(((e,t)=>{switch(e.kind){case"retain":return B.createElement(B.Fragment,{key:t},e.text);case"insert":return B.createElement("span",{key:t,className:Xt.insertPart},e.text);default:(0,P.L0)(e.kind)}}))),an=({responseText:e,responseDiff:t,header:n,footer:i,isLoading:o,resultId:s})=>B.createElement(on,{id:s,scrollCardToken:e,isActive:o},n,(0,r.zG)(t,l.fold((()=>""!==e.trim()?B.createElement("div",{className:Xt.result},e):null),(e=>B.createElement(sn,{diff:e})))),i),un=({onInsert:e,onRephrase:t,onDismiss:n,onReportOffensive:r,disabled:i})=>B.createElement("div",{className:Xt.footer},B.createElement("div",{className:Xt.footerLeft},B.createElement(J.zx.Primary,{className:$t.insertButton,name:"insertResult",onClick:e},"Insert"),B.createElement(J.zx.Tertiary,{className:$t.rephraseButton,name:"rephraseResult",onClick:t,disabled:i},"Rephrase")),B.createElement("div",{className:Xt.footerRight},B.createElement(J.zx.Tertiary,{onClick:n,className:$t.dismissButton,compact:!0,name:"dismissResult",title:"Delete"},B.createElement(J.L3,null)),B.createElement(St,{reportMenuButtonClassName:$t.reportButton,onClickReportOffensive:r}))),cn=({header:e,onClick:t,disabled:n})=>B.createElement(J.zx.Tertiary,{compact:!0,disabled:n,onClick:t,className:rn.headerButton,name:"editResultPrompt"},B.createElement("div",{className:rn.headerWrapper},B.createElement("div",{className:rn.label,dangerouslySetInnerHTML:{__html:e}}),B.createElement("div",{className:$t.editHeaderButton},"Edit"))),ln=({iconUrl:e,loading:t,header:n})=>B.createElement("div",{className:rn.header},t?B.createElement("div",{className:rn.loadingIcon},B.createElement(J.Ho,null)):(0,r.zG)(e,l.fold(r.gn,(e=>B.createElement("img",{src:e,style:{width:20,height:20}})))),B.createElement("span",{className:rn.label,dangerouslySetInnerHTML:{__html:n}})),pn=D.UI.Node.make((({state:e})=>B.createElement(U.F.Fragment,null,e.pipe(O.U((({result:e})=>B.createElement(an,{resultId:"in-progress",responseText:e.text,responseDiff:l.none,header:B.createElement(ln,{header:"Working on it...",iconUrl:l.none,loading:!0}),isLoading:!0}))))))),fn=D.UI.Union.asOption(pn);function dn(e){const t=e.state.view("session").view(R.z_.toStarted).view((0,r.ls)(l.chain(p.ei("inProgressResult")),l.map((e=>({result:e})))));return D.Z.composeOption((()=>t.pipe(ae.oA)),(()=>t))}const hn=D.UI.Node.make((({state:e,notify:t})=>B.createElement(U.F.Fragment,null,e.pipe(O.U((({result:e,disabled:n})=>B.createElement(an,{resultId:e.id,responseText:e.text,responseDiff:e.diff,header:(0,r.zG)(e.header.copiablePrompt,l.fold((()=>B.createElement(ln,{header:e.header.label,iconUrl:e.header.iconUrl,loading:!1})),(r=>B.createElement(cn,{header:e.header.label,disabled:n,onClick:t({kind:R.ix.Kind.clickResultHeader,prompt:r})})))),isLoading:!1,footer:B.createElement(un,{onRephrase:t({kind:R.ix.Kind.rephrase,result:e}),onInsert:t({kind:R.ix.Kind.insert,result:e}),onDismiss:t({kind:R.ix.Kind.dismissResult,result:e}),onReportOffensive:t({kind:R.ix.Kind.reportOffensiveResult,result:e}),disabled:n})})))))));const mn=D.UI.List.make(Ae.Bk,hn);function gn(e,t){return D.Z.composeList(Ae.Bk,(()=>t.pipe(O.U((0,r.ls)(Ae.ke(50),Ae.GY)))),(t=>function(e,t){return D.Z.fromSideEffect((t=>e.notify(t)),e.state.view("availability").view((e=>({result:t,disabled:R.a8.isUnavailable(e)}))))}(e,t)))}const vn={display:"flex",flexDirection:"column",gap:z.ux.rem($.x)},yn={display:"flex",flexDirection:"column",gap:z.ux.rem($.x)},bn={display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"flex-end",flexDirection:"row",width:"100%",gap:z.ux.rem($.x),marginBottom:z.ux.rem($.x)},xn=z.ux.prefixedStylesheet("results",{container:[vn],history:[yn],actions:[bn]}),wn={display:"flex",alignItems:"center",gap:z.ux.rem($.F2)},_n={fontSize:z.ux.rem(.875),lineHeight:z.ux.rem(1.375),fontWeight:700,color:ye.XY.Content.Primary.Default},Sn={fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125),color:ye.XY.Content.Secondary.Default,whiteSpace:"break-spaces",overflowWrap:"anywhere"},Cn={display:"flex",alignItems:"center",width:z.ux.rem(1.375),height:z.ux.rem(1.375)},kn={header:z.ux.style(wn),title:z.ux.style(_n),body:z.ux.style(Sn),gotItBtn:Mt,warningIcon:z.ux.style(Cn)},En=D.UI.Node.make((({view:e,notify:t})=>B.createElement(on,{id:"error",scrollCardToken:"",isActive:!0},B.createElement(U.F.div,{className:kn.header},e("error").pipe(O.U((e=>B.createElement(B.Fragment,null,B.createElement("div",{className:kn.warningIcon},B.createElement(J.T6,null)),B.createElement("span",{className:kn.title},e.header)))))),B.createElement(U.F.div,{className:kn.body},e("error").pipe(O.U((e=>e.text)))),B.createElement(U.F.div,null,e("showGotItButton").pipe(O.U((e=>e?B.createElement(J.zx.Primary,{className:kn.gotItBtn,name:"gotItButton",onClick:t({kind:R.ix.Kind.dismissError})},"Got it"):null))))))),On=D.UI.Union.asOption(En);function In(e){const t=e.state.view("session").pipe(O.U((e=>e.error)));return D.Z.composeOption(function(e,t){const n=e.state.view("activeView").view((e=>"loadingError"!==e));return D.Z.fromSideEffect((t=>e.notify(t)),t.pipe(E.M(n),O.U((([e,t])=>({error:e,showGotItButton:t})))))}(e,t.pipe(ae.oA)),(()=>t))}const Tn=D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:xn.container},e.intent,e.history,e.belowHistory))),An=D.UI.Knot.make(D.UI.Grid.make((({slots:e,notify:t})=>{const{ref:n,onMount:r}=fe.P.useElWatcher(),i=B.useMemo((()=>n.pipe(dt.QV(ht.E),u.b((e=>t({kind:R.ix.Kind.mount,name:R.ec.followUpActionsList,element:e})())))),[n]);return fe.P.useSubscriptionTo(i),B.createElement("div",{className:xn.actions,ref:r},e.actions)})),{actions:Pe}),Pn=D.UI.Union.asOption(An),Rn=D.UI.Union.asOption(D.UI.Composite.make(D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:xn.history},e.history))),mn)),Nn=D.UI.Union.make("kind",{inProgressResult:fn,error:On,followUpActions:Pn}),Dn=D.UI.Union.asOption(Nn),Bn=D.UI.Knot.make(Tn,{intent:rt,history:Rn,belowHistory:Dn});function Un(e,t){return D.Z.composeOption(gn(e,t.view(l.getOrElse((()=>[])))),(()=>t))}function jn(e){const t=e.state.view("session").view(R.z_.toStarted).pipe(O.U(l.map((e=>l.isSome(e.error)?"error":l.isSome(e.inProgressResult)?"inProgressResult":"followUpActions"))));return D.Z.composeOption(function(e,t){return D.Z.composeUnion({inProgressResult:dn(e),followUpActions:(0,r.zG)(Be(e).view((t=>(0,r.zG)(t,l.filter((()=>!R.a8.isUnavailable(e.state.get().availability))),l.map((0,r.ls)(De.UI(m.BackendAction.make),Ue()))))),(t=>D.Z.composeOption(D.Z.composeKnot({root:D.Z.fromSideEffect((t=>e.notify(t)),null),actions:Ne(e,t,"compact")}),(()=>t)))),error:In(e)},(()=>t.pipe(ae.oA,O.U((e=>({kind:e}))))))}(e,t),(()=>t))}function Mn(e){const t=e.state.view("session").view((0,r.ls)(R.z_.toStarted,l.map((e=>e.resultHistory)),l.chain(De.c2)));return D.Z.composeKnot({intent:At(e),history:Un(e,t),belowHistory:jn(e)})}const Ln=$.x,Gn=$.x,zn={padding:`0 ${z.ux.rem($.x)} ${z.ux.rem(Ln)} ${z.ux.rem($.x)}`,display:"flex",flexDirection:"column",gap:z.ux.rem(Gn)},Fn=z.ux.prefixedStylesheet("chat",{container:[zn]}),Vn=D.UI.Union.make("kind",{loading:Ut,loadingError:On,initialError:On,initialActions:It,results:Bn}),$n=10,Zn=34.75,Hn=D.UI.Grid.make((({slots:e,state:t,notify:n})=>{const{rect:i,onMount:o}=fe.P.useRectWatcher(),s=B.useMemo((()=>i.pipe(ae.oA,u.b((e=>n({kind:"contentSizeChange",height:e.height})())))),[i]);return fe.P.useSubscriptionTo(s),B.createElement(U.F.div,{mount:o,onScroll:e=>n({kind:"contentScroll",scrollTop:e.currentTarget.scrollTop})(),className:z.ux.style({overflow:"auto"}),style:{maxHeight:t.pipe(O.U((({assistantMaxHeight:e,promptHeight:t})=>(0,r.zG)(b.Y(l.option)({assistantMaxHeight:e,promptHeight:t}),l.fold((()=>z.ux.rem(Zn)),(({assistantMaxHeight:e,promptHeight:t})=>(0,r.zG)(function(e,t,n=.25){const r=`calc(${z.ux.rem(Ln+Gn+2.5)} + ${z.ux.px(t)})`;return`calc(${e}px - ${r} - ${z.ux.rem(n)})`}(e,t),(e=>`max(min(${e}, ${z.ux.rem(Zn)}), ${z.ux.rem($n)})`))))))),le.O(z.ux.rem(Zn)))}},e.content)})),Wn=D.UI.Knot.make(Hn,{content:Vn}),Kn=D.UI.Union.asOption(Wn);var qn=n(61792);function Yn(e,t){return D.Z.composeUnion({loading:jt(e),loadingError:In(e),initialError:In(e),initialActions:Pt(e),results:Mn(e)},(()=>t.pipe(ae.oA,O.U((e=>({kind:e}))))))}function Xn(e,t,n,r){const i=e.state.pipe(O.U((({activeView:e,availability:t,session:n})=>{switch(e){case"loading":return l.some("loading");case"loadingError":return l.some("loadingError");case"beforeResults":return l.isSome(n.error)?l.some("initialError"):qn.a.isUnavailable(t)?l.none:l.some("initialActions");case"actionSelected":case"voiceProfile":return l.none;case"afterResults":return l.some("results");default:(0,P.L0)(e)}})));return D.Z.composeOption(function(e,t,n,r,i){return D.Z.composeKnot({root:D.Z.fromSideEffect((t=>{switch(t.kind){case"contentScroll":return e.contentOverflowUnderToolbar(t.scrollTop>0);case"contentSizeChange":return n.set(l.some(t.height+8));default:(0,P.L0)(t)}}),f.h.combine(r,i,((e,t)=>({assistantMaxHeight:e,promptHeight:t})))),content:Yn(e,t)})}(e,i,t,n,r),(()=>i))}const Qn="stopBtn",Jn="goBtn",er={display:"flex",alignItems:"flex-start",padding:`${z.ux.rem($.x)} ${z.ux.rem($.qp)}`,gap:z.ux.rem($.F2),justifyContent:"space-between"},tr={flexGrow:1,$nest:{"&[data-hashints='false']":{paddingTop:z.ux.rem($.F2+$.W9)}}},nr={$nest:{[`&.${Jn}.${Jn}.${Jn}.${Jn}`]:{alignSelf:"flex-end",maxHeight:z.ux.rem(2),minHeight:z.ux.rem(2),maxWidth:z.ux.rem(2),minWidth:z.ux.rem(2),padding:z.ux.important(0),$nest:{"&[data-disabled='true']":{opacity:1,$nest:{"& svg path":{fill:F.BlueGray30}}}}}}},rr={$nest:{[`&.${Qn}.${Qn}.${Qn}.${Qn}`]:{maxHeight:z.ux.rem(2),minHeight:z.ux.rem(2),maxWidth:z.ux.rem(2),minWidth:z.ux.rem(2),padding:z.ux.important(0)}}},ir={container:z.ux.style(er),textBoxContainer:z.ux.style(tr),goBtn:z.ux.joinClasses([Jn,z.ux.style(nr)]),stopBtn:z.ux.joinClasses([Qn,z.ux.style(rr)])},or=D.UI.Node.make((({state:e,view:t,notify:n})=>B.createElement(U.F.div,{className:ir.container},B.createElement(U.F.div,{className:ir.textBoxContainer,"data-hashints":t("hasHints")},e.pipe(O.U((({placeholder:e,kind:t,text:r,autofocusToken:i,availability:o})=>B.createElement(J.b,{text:r,placeholder:"ready"===t?l.toUndefined(e):void 0,fitContentHeight:!0,autofocus:i,onChange:e=>n({kind:R.ix.Kind.promptFieldChange,text:e})(),onKeyPressEnter:"ready"===t?n({kind:R.ix.Kind.promptSend,text:r}):()=>null,onKeyUpEscape:()=>{n({kind:R.ix.Kind.escapePressed})(),"waitingForResult"===t&&n({kind:R.ix.Kind.generateStop})()},onFocus:n({kind:R.ix.Kind.promptFieldFocusChange,focused:!0}),onBlur:n({kind:R.ix.Kind.promptFieldFocusChange,focused:!1}),disabled:R.a8.isUnavailable(o)}))))),e.pipe(O.U((({kind:e,text:t,availability:r})=>"waitingForResult"===e?B.createElement(J.zx.Tertiary,{onClick:n({kind:R.ix.Kind.generateStop}),className:ir.stopBtn,name:"generateStop"},B.createElement(J.wN,null)):"ready"===e?B.createElement(J.zx.Tertiary,{className:ir.goBtn,onClick:n({kind:R.ix.Kind.promptSend,text:t}),disabled:""===t.trim()||R.a8.isUnavailable(r),name:"promptSend"},B.createElement(J.kc,null)):null))))));function sr(e){return D.Z.fromSideEffect((t=>e.notify(t)),e.state.view((e=>{return{kind:(0,r.zG)(R.z_.toStarted(e.session),l.fold((()=>"loading"),(e=>(0,r.zG)(e.inProgressResult,l.fold((()=>"ready"),(()=>"waitingForResult")))))),availability:e.availability,placeholder:(t=e,(0,r.zG)(t.selectedDynamicAction,l.map((e=>(""!==e.args[0].label.trim()?[e.args[0].label]:[]).concat((0,r.zG)(e.args[0].hints,l.fold((()=>[]),(e=>(""!==e.header.trim()?[e.header]:[]).concat(...e.items.filter((e=>""!==e.trim())).map((e=>`• ${e}`))))))))),l.alt((()=>(0,r.zG)(t.userPromptAction,l.map((e=>[e.arg.label]))))))),hasHints:(0,r.zG)(e.selectedDynamicAction,l.fold(r.jv,(e=>l.isSome(e.args[0].hints)))),text:e.textBox,autofocusToken:J.vw.create(`${e.activeView}_${(0,r.zG)(R.z_.toStarted(e.session),l.chain((e=>e.inProgressResult)),l.fold((()=>"done"),(()=>"inProgress")))}_${(0,r.zG)(e.selectedDynamicAction,l.fold((()=>"no-selected-action"),(()=>"selected-action")))}_${e.promptAutofocusToken}`)};var t})))}const ar={padding:"12px 12px 0 12px",color:ye.XY.Content.Secondary.Default,fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125)},ur={display:"flex",alignItems:"center",gap:z.ux.rem($.x)},cr=z.ux.prefixedStylesheet("header",{container:[ar],header:[ur]}),lr=D.UI.Node.make((({view:e})=>B.createElement("div",{className:cr.container},B.createElement("div",{className:cr.header},B.createElement(U.F.img,{src:e("iconUrl"),style:{width:16,height:16}}),B.createElement(U.F.span,{dangerouslySetInnerHTML:e("label").pipe(O.U((e=>({__html:e}))))}))))),pr=D.UI.Union.asOption(lr);function fr(e){return D.Z.composeOption(function(e){return()=>e.state.view("selectedDynamicAction").pipe(ae.oA,O.U((e=>({label:e.label,iconUrl:e.iconUrl}))))}(e),(()=>e.state.view("selectedDynamicAction")))}const dr={padding:`${z.ux.rem($.F2)} ${z.ux.rem($.qp)}`},hr=z.ux.stylesheet({container:[dr]}),mr=D.UI.Union.asOption(D.UI.Composite.make(D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:hr.container},e.content))),He));function gr(e,t){const n=t.pipe(O.U(l.map((e=>De.QI({group:"Ideas for you",actions:De.QI(m.BackendAction.make(e[0]),(0,r.zG)(e.slice(1),Ae.ke(2),Ae.UI(m.BackendAction.make)))},function(e){return(0,r.zG)(e,Ae.pO((e=>{const{init:t,rest:n}=Ae.zT((t=>t.group.label===e[0].group.label))(e);return[t,n]})),Ae.UI((e=>b.Y(l.option)({group:(0,r.zG)(e,Ae.YM,l.map((e=>e.group.label))),actions:(0,r.zG)(e,Ae.UI(m.BackendAction.make),De.c2)}))),Ae.oA,De.c2,l.getOrElse((()=>[{group:e[0].group.label,actions:[m.BackendAction.make(e[0])]}])))}((0,r.zG)(e,De.DY(m.SupportedDynamicActions.ordByGroup))))))));return D.Z.composeOption(We(e,n.pipe(ae.oA)),(()=>n))}const vr={background:"transparent",padding:z.ux.rem($.qp),display:"flex",flexDirection:"column",alignItems:"flex-start",gap:z.ux.rem($.x)},yr={display:"flex",flexDirection:"row",flexWrap:"wrap",gap:z.ux.rem($.x)},br=z.ux.prefixedStylesheet("search_results",{container:[vr],actions:[yr]}),xr=D.UI.List.make(Ae.Bk,Ie),wr=D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:br.container},e.customPromptGo,B.createElement("div",{className:br.actions},e.searchResults)))),_r=D.UI.Knot.make(wr,{searchResults:xr,customPromptGo:Ie});function Sr(e,t){return D.Z.composeKnot({searchResults:Ne(e,t.pipe(O.U(l.map(De.UI(m.BackendAction.make)))),"standard"),customPromptGo:Te(e,Re.of({kind:"go"}),"standard")})}const Cr={position:"relative",overflowY:"scroll",borderBottom:`0.5px solid ${ye.XY.Boundaries.Secondary.Default}`},kr={position:"absolute",top:z.ux.rem($.x),right:z.ux.rem($.x)},Er={minWidth:z.ux.rem(1.5),minHeight:z.ux.rem(1.5)},Or=z.ux.prefixedStylesheet("menu",{container:[Cr],collapseBtn:[kr],arrowIcon:[Er]}),Ir=D.UI.Union.make("kind",{searchResults:_r,actionsStore:mr}),Tr=D.UI.Knot.make(D.UI.Grid.make((({slots:e,view:t,notify:n})=>B.createElement(U.F.div,{className:Or.container,style:{maxHeight:t("maxHeight")}},B.createElement(J.zx.Tertiary,{compact:!0,className:Or.collapseBtn,onClick:n({kind:R.ix.Kind.collapsePromptMenu}),name:"collapsePromptMenu"},B.createElement(te.JO.Arrow,{direction:te.n4.down,className:Or.arrowIcon})),e.content))),{content:Ir}),Ar=D.UI.Union.asOption(Tr);function Pr(e,t){return D.Z.composeOption(D.Z.composeKnot({root:D.Z.fromSideEffect((t=>e.notify(t)),t.pipe(ae.oA)),content:D.Z.composeUnion({searchResults:Sr(e,t.pipe(O.U((0,r.ls)(l.filter((({kind:e})=>"searchResults"===e)),l.map(p.ei("actions")))))),actionsStore:gr(e,t.pipe(O.U((0,r.ls)(l.filter((({kind:e})=>"actionsStore"===e)),l.map(p.ei("actions"))))))},(()=>t.pipe(ae.oA)))}),(()=>t))}var Rr=n(19751);function Nr(e){return e.split(/\s+/).map((e=>e.trim())).filter((e=>""!==e))}function Dr(e,t){const n=e.promptMenuActions.pipe(ue.w((t=>"showSearchRestuls"===t.kind?e.state.view("session").view(R.z_.toStarted).pipe(O.U((e=>(0,r.zG)(e,l.filter((()=>""!==t.search.trim())),l.chain((e=>function(e,t){return(0,r.zG)(e,Ae.DZ((e=>(0,r.zG)(function(e,t,n){const i=Nr(e),o=[...Nr(t),...(0,r.zG)(n,Ae.tS((e=>Nr(e))))],s=i.map((()=>null));let a=0;for(const e of o){if(a>=i.length)break;e.toLowerCase().includes(i[a].toLowerCase())&&(s[a]=0,++a)}return s.includes(null)?l.none:l.some(s.map((e=>null!=e?e:0)).reduce(((e,t)=>e+t),0))}(t,e.searchLabel,e.searchTags),l.map((t=>({data:e,matchScore:t})))))),Ae.DY(T.contramap((({matchScore:e})=>e))(T.ordNumber)),Ae.UI((({data:e})=>e)),De.c2)}((0,r.zG)(e.context.dynamicActions,Ae.hX(m.isSupportedDynamicAction)),t.search))),l.map((e=>({kind:"searchResults",actions:e}))))))):"showActionsStore"===t.kind?Be(e).view(l.map((e=>({kind:"actionsStore",actions:e})))):"close"===t.kind?Re.of(l.none):(0,P.L0)(t))),le.O(l.none),Rr.shareReplay({bufferSize:1,refCount:!0})),i=se.aj([n,e.state.view("availability")]).pipe(O.U((([e,t])=>qn.a.isUnavailable(t)?l.none:e)));return se.aj([t,i]).pipe(O.U((([e,t])=>(0,r.zG)(b.Y(l.option)({maxHeight:e,content:t}),l.map((({content:e,maxHeight:t})=>Object.assign(Object.assign({},e),{maxHeight:t})))))))}const Br=e=>z.ux.color(F.BlueGray40).toRGBA().fade(e).toString(),Ur={background:"white",boxShadow:`0px 0px 0px 0.5px ${F.BlueGray40}, 0px 0px 2px 0.5px ${Br(.5)}, 0px 1px 6px 0.5px ${Br(.25)}`,borderRadius:z.ux.rem(V.xB+V.fe),$nest:{"&[data-expanded='true']":{position:"absolute",bottom:0,width:"100%"}}},jr=z.ux.prefixedStylesheet("prompt",{container:[{position:"relative"}],promptAndMenuContainer:[Ur],placeholder:[{opacity:0,pointerEvents:"none"}]}),Mr=D.UI.Grid.make((({slots:e,view:t,notify:n})=>{const{onMount:i,rect:o}=fe.P.useRectWatcher(),s=B.useMemo((()=>o.pipe(u.b((e=>n({kind:"promptHeight",height:(0,r.zG)(e,l.map((e=>e.height)))})())))),[o]);return fe.P.useSubscriptionTo(s),B.createElement(U.F.div,{className:jr.container},B.createElement(U.F.div,{className:jr.promptAndMenuContainer,"data-expanded":t("menuExpanded")},e.promptMenu,B.createElement("div",{ref:i},e.promptHeader,e.promptField)),se.aj([o,t("menuExpanded")]).pipe(O.U((([e,t])=>(0,r.zG)(e,l.filter((()=>t)),l.fold(r.gn,(e=>B.createElement("div",{className:jr.placeholder,style:{height:e.height}}))))))))})),Lr=D.UI.Knot.make(Mr,{promptField:or,promptHeader:pr,promptMenu:Ar}),Gr=D.UI.Union.asOption(Lr);var zr=n(598);function Fr(e,t,n){const r=e.state.view((({activeView:e})=>"loadingError"!==e?l.some(!0):l.none));return D.Z.composeOption(function(e,t,n){const r=Dr(e,t);return D.Z.composeKnot({root:D.Z.fromSideEffect((e=>{if("promptHeight"===e.kind)return n.set(e.height);(0,P.L0)(e.kind)}),r.pipe(O.U((e=>({menuExpanded:l.isSome(e)}))))),promptField:sr(e),promptHeader:fr(e),promptMenu:Pr(e,r)})}(e,r.pipe(ae.oA,zr.c(t)),n),(()=>r))}const Vr=D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:Fn.container},e.content,e.prompt))),$r=D.UI.Knot.make(Vr,{content:Kn,prompt:Gr});function Zr(e,t){const n=f.h.create(l.none),r=f.h.create(l.none);return D.Z.composeKnot({content:Xn(e,n,t,r),prompt:Fr(e,n,r)})}const Hr={display:"flex",alignItems:"center",justifyContent:"center",gap:z.ux.rem($.x),padding:`${z.ux.rem($.F2)} ${z.ux.rem(.625)} ${z.ux.rem($.F2)} ${z.ux.rem($.x)}`,background:ye.XY.Surface.Primary.Default,border:`${z.ux.px(1)} solid transparent`,borderRadius:z.ux.rem(1.875),fontSize:z.ux.rem(.875),lineHeight:z.ux.rem(1.375),boxSizing:"border-box",$nest:{"&[data-kind='unselected']":{border:`${z.ux.px(1)} solid ${F.BlueGray5}`,color:ye.XY.Content.Primary.Default,cursor:"pointer"},"&[data-kind='disabled']":{border:`${z.ux.px(1)} solid ${F.BlueGray5}`,color:F.BlueGray40,cursor:"default"},"&[data-kind='selected']":{border:`${z.ux.px(2)} solid ${i.BO.BrandGreen60}`,padding:`${z.ux.rem(.1875)} ${z.ux.rem(.5625)} ${z.ux.rem(.1875)} ${z.ux.rem(.4375)}`,position:"relative",$nest:{"&[data-unselectable='true']":{cursor:"pointer"}}}}},Wr={position:"absolute",top:z.ux.rem(-($.F2+$.W9)),right:z.ux.rem(-($.F2+$.W9)),boxSizing:"content-box",width:z.ux.rem(.75),height:z.ux.rem(.75),border:`${z.ux.rem(.125)} solid white`,borderRadius:"50%",background:i.BO.BrandGreen60,display:"flex",alignItems:"center",justifyContent:"center"},Kr=z.ux.prefixedStylesheet("selectable_chip",{chip:[Hr],selectedIcon:[Wr]});var qr=n(65223);const Yr=({kind:e,label:t,description:n,iconUrl:r,isUnselectable:o,onToggle:s})=>B.createElement(qr.u,{title:n},B.createElement("button",{disabled:"disabled"===e,className:Kr.chip,"data-kind":e,"data-unselectable":o,onClick:(0,i.m)((()=>{"disabled"!==e&&s("selected"!==e&&("unselected"===e||(0,P.L0)(e)))}))},r?B.createElement("img",{src:r,style:{width:20,height:20}}):null,B.createElement("span",null,t),o&&"selected"===e?B.createElement(J.cv,{className:Kr.selectedIcon}):null)),Xr={display:"flex",flexWrap:"wrap",gap:z.ux.rem($.F2),$nest:{div:{marginTop:z.ux.rem($.F2)}}},Qr=z.ux.prefixedStylesheet("chip_selector",{chips:[Xr]}),Jr=({chips:e,className:t,onToggle:n})=>B.createElement(U.F.div,Object.assign({},(0,j.Sh)(Qr.chips,t)),e.pipe(O.U(Ae.UI((e=>B.createElement(Yr,Object.assign({},e,{onToggle:t=>n(e,t),key:e.label}))))))),ei={margin:z.ux.rem($.x),marginTop:0},ti={padding:z.ux.rem($.mh),background:"white",border:`0.5px solid ${F.BlueGray10}`,borderRadius:z.ux.rem(V.xB+V.fe),display:"flex",flexDirection:"column",gap:z.ux.rem($.mh)},ni={color:ye.XY.Content.Primary.Default,fontWeight:700,fontSize:z.ux.rem(.875),lineHeight:z.ux.rem(1.375),margin:"0"},ri={color:ye.XY.Content.Secondary.Default,fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125)},ii={marginTop:z.ux.rem($.x)},oi={color:F.BlueGray60,fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125)},si={display:"flex",justifyContent:"flex-end",gap:z.ux.rem($.x)},ai={fontSize:z.ux.important(z.ux.rem(.875))},ui={marginTop:z.ux.rem($.x)},ci={marginTop:z.ux.rem($.x)},li={display:"flex",alignItems:"center",gap:z.ux.rem($.x)},pi={width:z.ux.rem(1.5),height:z.ux.rem(1.5),display:"flex",alignItems:"center",justifyContent:"center"},fi=z.ux.prefixedStylesheet("voice_profile",{container:[ei],content:[ti],sectionTitle:[ni],chips:[ii],sectionDescription:[ri],description:[oi],footer:[si],applyButton:[ai],skipButton:[ai],roleTypeAhead:[ui],dialectSelect:[ci],dialectLabel:[li],dialectIcon:[pi]});var di=n(9295);const hi=D.UI.Node.make((({view:e,state:t,notify:n})=>B.createElement("div",{className:fi.container},B.createElement("div",{className:fi.content},B.createElement("section",null,B.createElement("h2",{className:fi.sectionTitle},"Formality"),B.createElement(Jr,{className:fi.chips,chips:e("styles").pipe(O.U(Ae.UI((e=>Object.assign(Object.assign({},e),{isUnselectable:!1}))))),onToggle:e=>n({kind:R.ix.Kind.selectStyle,id:e.id})()})),B.createElement("section",null,B.createElement("h2",{className:fi.sectionTitle},"Tone"),B.createElement(U.F.div,{className:fi.sectionDescription},"Select up to"," ",e("maxSelectableTones").pipe(O.U((e=>{return t=e,Number.isInteger(t)&&t>=0&&t<10?function(e){return["zero","one","two","three","four","five","six","seven","eight","nine"][e]}(e):`${e}`;var t})))),B.createElement(Jr,{className:fi.chips,chips:e("tones").pipe(O.U(Ae.UI((e=>Object.assign(Object.assign({},e),{isUnselectable:!0}))))),onToggle:(e,t)=>n({kind:R.ix.Kind.toggleTone,selected:t,id:e.id})()})),B.createElement(U.F.Fragment,null,t.pipe(O.U((e=>(0,r.zG)(e.roles,De.c2,l.fold(r.gn,(t=>B.createElement("section",null,B.createElement("h2",{className:fi.sectionTitle},"Your profession"),B.createElement(J.pY,{className:fi.roleTypeAhead,placeholder:"Product designer",text:e.roleTypeaheadText,onInputChange:e=>n({kind:"updateRoleTypeaheadText",text:e})(),onSelectionChange:e=>n({kind:R.ix.Kind.selectRole,role:l.fromNullable(e)})(),options:t,label:e=>e.label,clearButton:!0,selectOnBlur:!0}))))))))),B.createElement("section",null,B.createElement("h2",{className:fi.sectionTitle},"I write in"),B.createElement(U.F.Fragment,null,t.pipe(O.U((({dialects:e,selectedDialect:t})=>B.createElement(J.Ph,{className:fi.dialectSelect,options:e.filter((e=>!di.L.Dialect.Id.eq.equals(e.id,t.id))),selection:t,onSelectionChange:e=>n({kind:R.ix.Kind.selectDialect,dialect:e})(),label:e=>e.label,renderOption:e=>B.createElement("div",{className:fi.dialectLabel},B.createElement("div",{className:fi.dialectIcon},B.createElement("img",{src:e.iconUrl,style:{width:16,height:16}})),e.label)})))))),B.createElement(U.F.Fragment,null,e("description").pipe(O.U((e=>""!==e.trim()?B.createElement("div",{className:fi.description},e):null)))),B.createElement(U.F.div,{className:fi.footer},B.createElement(J.zx.Tertiary,{className:fi.skipButton,onClick:n({kind:R.ix.Kind.closeVoiceProfile}),name:"closeVoiceProfile"},"Close"),e("applyButtonEnabled").pipe(O.U((e=>B.createElement(J.zx.Primary,{className:fi.applyButton,onClick:n({kind:R.ix.Kind.applyVoiceProfile}),disabled:!e,name:"applyVoiceProfile"},"Use this voice")))))))));function mi(e){const t=f.h.create("");return D.Z.fromSideEffect((n=>{"updateRoleTypeaheadText"===n.kind?t.set(n.text):(n.kind===R.ix.Kind.selectRole&&t.set((0,r.zG)(n.role,l.fold((()=>""),(e=>e.label)))),e.notify(n))}),f.h.combine(e.state,t,(({stagingVoiceProfile:e,session:t},n)=>(0,r.zG)(b.Y(l.option)({voiceProfile:(0,r.zG)(R.z_.toStarted(t),l.map((e=>e.voiceProfile))),stagingVoiceProfile:e}),l.fold((()=>({tones:[],styles:[],roles:[],maxSelectableTones:0,applyButtonEnabled:!1,description:"",roleTypeaheadText:"",dialects:R.LA.Dialect.all(),selectedDialect:R.LA.Dialect.american})),(({stagingVoiceProfile:e,voiceProfile:t})=>(0,r.zG)(t.styles,Ae.Ew((t=>t.id===e.selectedStyle)),(i=>({styles:(0,r.zG)(t.styles,Ae.UI((t=>Object.assign(Object.assign({},t),{kind:t.id===e.selectedStyle?"selected":"unselected"})))),tones:(0,r.zG)(i,l.fold((()=>[]),(t=>(0,r.zG)(t.tones,Ae.UI((n=>Object.assign(Object.assign({},n),{kind:(0,r.zG)(l.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),l.getOrElse((()=>new Set)),(e=>e.has(n.id)?"selected":e.size>=t.maxTones?"disabled":"unselected"))}))))))),roles:t.roles,maxSelectableTones:(0,r.zG)(i,l.fold((()=>3),(e=>e.maxTones))),applyButtonEnabled:!R.LA.Selections.eq.equals(e,t),description:"These voice settings will apply to any text you generate with GrammarlyGO.",roleTypeaheadText:(0,r.zG)(e.selectedRole,l.filter((()=>""===n)),l.chain((e=>l.fromNullable(t.roles.find((t=>t.id===e))))),l.fold((()=>n),(e=>e.label))),dialects:t.dialects,selectedDialect:t.dialects.find((t=>R.LA.Dialect.Id.eq.equals(t.id,e.selectedDialect)))||R.LA.Dialect.american})))))))))}const gi=D.UI.Union.make("kind",{chat:$r,voiceProfile:hi});var vi=n(13444),yi=n(18208);const bi={padding:`${z.ux.rem($.x)}`,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125),color:ye.XY.Content.Secondary.Default,cursor:"default"},xi={color:F.Blue60},wi=z.ux.stylesheet({label:[bi],upgrade:[xi]});const _i=D.UI.Node.make((({state:e,notify:t})=>{const{ref:n,onMount:r}=fe.P.useElWatcher(),i=B.useMemo((()=>n.pipe(ae.oA,ue.w((e=>c.R(e,"mouseenter").pipe(zr.c(Re.of(null).pipe(vi.g(500),s.R(c.R(e,"mouseleave"))))))),u.b(t({kind:R.ix.Kind.creditsInfoHover})))),[n]);return fe.P.useSubscriptionTo(i),B.createElement(U.F.Fragment,null,e.pipe(O.U((({user:e,availability:n})=>{const i=R.a8.isActive(n)?function(e){const t=`${e.promptsRemaining}/${e.promptsAllocated} prompts left. `,n=R.a8.Active.daysUntilRefillDate(e.refillDate),r=R.a8.Active.hoursUntilRefillDate(e.refillDate);return n>0?t+`Next refill in ${n} ${yi._6(n,"day","days")}.`:r>0?t+`Next refill in ${r} ${yi._6(r,"hour","hours")}.`:t+"Next refill in less than an hour."}(n):e.isFree?"To get more prompts, upgrade to Premium.":"To get more prompts, contact support.",o=R.a8.isActive(n)?`${n.promptsRemaining} ${yi._6(n.promptsRemaining,"prompt","prompts")}`:e.isFree?B.createElement(B.Fragment,null,"0 prompts. ",B.createElement("span",{className:wi.upgrade},"Upgrade")):"0 prompts";return!e.isFree&&R.a8.isActive(n)?B.createElement(qr.u,{title:i},B.createElement("div",{ref:r,className:wi.label},o)):B.createElement(J.zx.Tertiary,{onClick:t({kind:R.ix.Kind.creditsInfoClick,isGetMoreCredits:R.a8.isDisabled(n),userIsFree:e.isFree}),title:i,name:"creditsInfo"},B.createElement("div",{ref:r},o))}))))})),Si=D.UI.Union.asOption(_i);var Ci=n(40327);function ki(e){const t=e.state.view((e=>(0,Ci.pipe)(e.availability,l.fromPredicate((0,I.Kg)(R.a8.isActive,R.a8.isPassive)),l.filter((()=>l.isSome(R.z_.toStarted(e.session)))))));return D.Z.composeOption(function(e,t,n){return D.Z.fromSideEffect((t=>e.notify(t)),(0,Ci.pipe)(se.aj([t,n]),O.U((([e,t])=>({user:e,availability:t})))))}(e,e.state.view("user"),t.pipe(ae.oA)),(()=>t))}const Ei="voiceBtn",Oi={$nest:{[`&.${Ei}.${Ei}.${Ei}.${Ei}`]:{padding:0,paddingRight:z.ux.rem($.x),paddingLeft:z.ux.rem($.F2),gap:z.ux.rem($.x),flexWrap:"nowrap"}}},Ii={stroke:F.BlueGray60},Ti={voiceButton:z.ux.joinClasses([Ei,z.ux.style(Oi)]),voiceIcon:z.ux.style(Ii)},Ai=D.UI.Node.make((({view:e,notify:t})=>B.createElement(J.zx.Tertiary,{className:Ti.voiceButton,onClick:t({kind:R.ix.Kind.openVoiceProfile,source:"toolbar"}),name:"toolbarVoiceProfile"},B.createElement(J.uA,{className:Ti.voiceIcon}),B.createElement(U.F.span,null,e("styleLabel"))))),Pi={display:"flex",alignItems:"center",gap:z.ux.rem($.x),color:F.BlueGray60,fontWeight:400,fontSize:z.ux.rem(.75),lineHeight:z.ux.rem(1.125)},Ri=z.ux.prefixedStylesheet("back_button",{buttonAndLabel:[Pi]}),Ni=D.UI.Node.make((({notify:e,view:t})=>B.createElement("div",{className:Ri.buttonAndLabel},B.createElement(J.zx.Tertiary,{compact:!0,onClick:e({kind:R.ix.Kind.goBack}),name:"goBack"},B.createElement(te.JO.Arrow,{direction:te.n4.left})),B.createElement(U.F.Fragment,null,t("activeViewLabel").pipe(O.U(l.fold(r.gn,(e=>B.createElement("span",null,e)))))))));var Di=n(5315);const Bi={display:"flex",alignItems:"center",justifyContent:"space-between",width:z.ux.percent(100),gap:z.ux.rem($.x)},Ui={display:"flex",flexDirection:"row",alignItems:"center",gap:z.ux.rem(Di.x)},ji={height:z.ux.rem(1),borderLeft:`1px solid ${F.BlueGray20}`},Mi={display:"flex",alignItems:"center",justifyContent:"center",height:z.ux.rem(2),width:38},Li=Object.assign(Object.assign({},ji),{marginLeft:z.ux.rem($.x),marginRight:z.ux.rem($.F2)}),Gi=z.ux.prefixedStylesheet("toolbar",{toolbarContent:[Bi],backAndVoice:[Ui],buttonSeparator:[ji],goLogoAndVoice:[{display:"flex",flexDirection:"row",alignItems:"center"}],goLogo:[Mi],logoAndBetaBadge:[{display:"flex",flexDirection:"row",alignItems:"center"}],goLogoAndVoiceSeparator:[Li]}),zi=D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:Gi.backAndVoice},e.back,B.createElement("div",{className:Gi.buttonSeparator}),e.voice))),Fi=D.UI.Knot.make(zi,{back:Ni,voice:Ai}),Vi=()=>B.createElement("div",{className:Gi.logoAndBetaBadge},B.createElement("div",{className:Gi.goLogo},B.createElement(J.T3,null)),B.createElement(qr.u,{title:"GrammarlyGO is still in beta testing. Please check your text for inaccuracies."},B.createElement(J.Ct,null,"Beta"))),$i=D.UI.Node.make(Vi),Zi=D.UI.Composite.make(D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:Gi.goLogoAndVoice},B.createElement(Vi,null),B.createElement("div",{className:Gi.goLogoAndVoiceSeparator}),e.content))),Ai),Hi=D.UI.Union.make("kind",{empty:$i,backButton:Ni,voiceButton:Zi,backAndVoiceButton:Fi}),Wi=D.UI.Union.asOption(Hi),Ki=D.UI.Grid.make((({slots:e})=>B.createElement("div",{className:Gi.toolbarContent},e.left,e.right))),qi=D.UI.Knot.make(Ki,{left:Wi,right:Si});function Yi(e){return D.Z.composeKnot({left:Xi(e),right:ki(e)})}function Xi(e){return D.Z.fromSideEffect((t=>{if("Some"===t.key&&"value"===t.action.key){const n=t.action.action;"backAndVoiceButton"===n.key?e.notify(n.action.action):e.notify(n.action)}}),function(e){const t=e=>{var t;return(null===(t=e.styles.find((t=>R.LA.Style.Id.eq.equals(t.id,e.selectedStyle))))||void 0===t?void 0:t.label)||""};return e.state.view((({activeView:e,session:n})=>(0,r.zG)(R.z_.toStarted(n),l.map((e=>e.voiceProfile)),l.fold((()=>l.some({kind:"empty"})),(n=>"loadingError"===e?l.some({kind:"empty"}):"voiceProfile"===e?l.some({kind:"backButton",activeViewLabel:l.some("My voice")}):"loading"===e||"beforeResults"===e||"afterResults"===e?l.some({kind:"voiceButton",styleLabel:t(n)}):"actionSelected"===e?l.some({kind:"backAndVoiceButton",back:{activeViewLabel:l.none},voice:{styleLabel:t(n)}}):(0,P.L0)(e))))))}(e))}const Qi=D.UI.Knot.make(ne,{toolbar:qi,content:gi});function Ji(e){return D.Z.composeKnot({root:de(e.position,e.assistant),content:(t=e.assistant,n=e.position.state.view((0,r.ls)(d,l.chain(p.ei("assistantMaxHeight")))),D.Z.composeUnion({chat:Zr(t,n),voiceProfile:mi(t)},(()=>t.state.view("activeView").view((e=>({kind:"voiceProfile"===e?e:"chat"})))))),toolbar:Yi(e.assistant)});var t,n}D.UI.Knot.make(ge,{toolbar:qi,content:gi})},45212:(e,t,n)=>{n.d(t,{z:()=>y});var r=n(27378),i=n(64757),o=n(12187),s=n(89894),a=n(88392),u=n(9546),c=n(13578),l=n(62172),p=n(355);const f="button",d={$nest:{[`&.${f}.${f}.${f}.${f}`]:{lineHeight:s.ux.rem(2),borderRadius:s.ux.rem(a.xB),fontSize:s.ux.rem(.75),textAlign:"center",padding:`0 ${s.ux.rem(u.x)}`,userSelect:"none",minWidth:s.ux.rem(1.5),minHeight:s.ux.rem(1.5),display:"inline-flex",alignItems:"center",justifyContent:"center",$nest:{"& > i":{marginLeft:s.ux.rem(-.25)},"&[data-disabled='true']":{opacity:.4,cursor:"not-allowed"},"&[data-compact='true']":{padding:0,$nest:{"& > i":{marginLeft:0}}}}}}},h={$nest:{[`&.${f}.${f}.${f}.${f}`]:{color:c.XY.Content.OnPrimary.Default,backgroundColor:p.BO.BrandGreen60,fontWeight:"bold",$nest:{"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":{backgroundColor:p.BO.BrandGreen80},"&:focus-visible":{boxShadow:`0 0 0 2px ${c.XY.Surface.Primary.Default}, 0 0 0 4px ${p.BO.BrandGreen80}`},"&[data-active='true'], &:active":{backgroundColor:p.BO.BrandGreen60,color:c.XY.Surface.Primary.Default}}}}}}},m={$nest:{[`&.${f}.${f}.${f}.${f}`]:{backgroundColor:"transparent",fontWeight:"normal",color:l.BlueGray80,stroke:l.BlueGray80,boxShadow:`inset 0 0 0 1px ${l.BlueGray5}`,$nest:{"& > i":{stroke:l.BlueGray80,fill:l.BlueGray80},"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true']":{backgroundColor:l.BlueGray0},"&:focus-visible":{boxShadow:`inset 0 0 0 1px ${l.BlueGray80}, 0 0 0 1px ${l.BlueGray80}, 0 0 0 2px ${c.XY.Surface.Primary.Default}, 0 0 0 4px ${l.BlueGray80}`},"&[data-active='true'], &:active":{backgroundColor:"transparent",color:l.BlueGray80}}}}}}},g={$nest:{[`&.${f}.${f}.${f}.${f}`]:{backgroundColor:"transparent",fontWeight:"normal",color:c.XY.Content.Secondary.Default,$nest:{"& > i":{stroke:c.XY.Content.Secondary.Default,fill:c.XY.Content.Secondary.Default},"&:not([data-disabled='true'])":{$nest:{"&[data-hovered='true'], &[data-active='true'], &:active":{backgroundColor:l.BlueGray0,color:c.XY.Content.Secondary.Default},"&[data-theme='dark']":{$nest:{"&[data-hovered='true'], &[data-active='true'], &:active":{backgroundColor:s.ux.color(l.BlueGray0).toRGBA().fade(.2).toString()}}},"&:focus-visible":{boxShadow:`0 0 0 2px ${c.XY.Surface.Primary.Default}, 0 0 0 4px ${c.XY.Content.Secondary.Default}`}}}}}}},v={primary:s.ux.joinClasses([f,s.ux.style(d,h)]),secondary:s.ux.joinClasses([f,s.ux.style(d,m)]),tertiary:s.ux.joinClasses([f,s.ux.style(d,g)])};var y,b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){e.Primary=e=>{var{className:t,compact:n,theme:s,children:a,onClick:u}=e,c=b(e,["className","compact","theme","children","onClick"]);return r.createElement(i.zx.Primary,Object.assign({},(0,o.Sh)(v.primary,t),c,{onClick:(0,p.m)(u),"data-compact":n,"data-theme":null!=s?s:"light"}),a)},e.Secondary=e=>{var{className:t,compact:n,theme:s,children:a,onClick:u}=e,c=b(e,["className","compact","theme","children","onClick"]);return r.createElement(i.zx.Ghost,Object.assign({},(0,o.Sh)(v.secondary,t),c,{onClick:(0,p.m)(u),"data-compact":n,"data-theme":null!=s?s:"light"}),a)},e.Tertiary=e=>{var{className:t,compact:n,theme:s,children:a,onClick:u}=e,c=b(e,["className","compact","theme","children","onClick"]);return r.createElement(i.zx.Tertiary,Object.assign({},(0,o.Sh)(v.tertiary,t),c,{onClick:(0,p.m)(u),"data-compact":n,"data-theme":null!=s?s:"light"}),a)}}(y||(y={}))},35430:(e,t,n)=>{n.d(t,{CT:()=>s,T3:()=>m,rN:()=>g,k8:()=>a,L3:()=>o,Ho:()=>l,kc:()=>h,cW:()=>c,cv:()=>p,wN:()=>u,uA:()=>i,T6:()=>f});var r=n(27378);const i=e=>r.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M12 7L12 17",strokeLinecap:"round"}),r.createElement("path",{d:"M9 9L9 15",strokeLinecap:"round"}),r.createElement("path",{d:"M15 9L15 15",strokeLinecap:"round"}),r.createElement("path",{d:"M18 11L18 13",strokeLinecap:"round"}),r.createElement("path",{d:"M6 11L6 13",strokeLinecap:"round"})),o=e=>r.createElement("svg",Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 0.5C3.67157 0.5 3 1.17157 3 2V3H0.5C0.223858 3 0 3.22386 0 3.5C0 3.77614 0.223858 4 0.5 4H1.04536L1.82983 12.237C1.95203 13.5201 3.02968 14.5 4.31857 14.5H7.68143C8.97032 14.5 10.048 13.5201 10.1702 12.237L10.9546 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H9V2C9 1.17157 8.32843 0.5 7.5 0.5H4.5ZM8 3V2C8 1.72386 7.77614 1.5 7.5 1.5H4.5C4.22386 1.5 4 1.72386 4 2V3H8ZM2.04988 4H9.95012L9.17467 12.1422C9.10135 12.9121 8.45476 13.5 7.68143 13.5H4.31857C3.54524 13.5 2.89865 12.9121 2.82533 12.1422L2.04988 4Z",fill:"#99A0B3"})),s=e=>r.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",stroke:"#646B81",strokeMiterlimit:"4.25735"})),a=e=>r.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("rect",{x:"4.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:"#646B81"}),r.createElement("rect",{x:"4.5",y:"13.5",width:"6",height:"6",rx:"1.5",stroke:"#646B81"}),r.createElement("rect",{x:"13.5",y:"4.5",width:"6",height:"6",rx:"1.5",stroke:"#646B81"}),r.createElement("path",{d:"M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",fill:"#646B81",stroke:"#646B81"})),u=e=>r.createElement("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",fill:"#646B81"})),c=e=>r.createElement("svg",Object.assign({width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",fill:"#99A0B3"})),l=e=>r.createElement("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#C2C6D4",strokeWidth:"2"}),r.createElement("path",{d:"M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",stroke:"#05735A",strokeWidth:"2",strokeLinecap:"round"})),p=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),r.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:".857",d:"m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8"})),f=e=>r.createElement("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",fill:"#99A0B3"}));var d=n(355);const h=e=>r.createElement("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",fill:d.BO.BrandGreen60})),m=e=>r.createElement("svg",Object.assign({width:"26",height:"12",viewBox:"0 0 26 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M19.3727 0.000327934C16.1036 0.000327934 13.4619 2.6865 13.4619 6.00016C13.4619 9.31383 16.1081 12 19.3727 12C22.6374 12 25.2836 9.31474 25.2836 6.00016C25.2836 2.68559 22.6374 0.000327934 19.3727 0.000327934ZM19.3727 9.73428C17.3867 9.73428 15.7766 8.06247 15.7766 6.00016C15.7766 3.93786 17.3867 2.26604 19.3727 2.26604C21.3587 2.26604 22.9688 3.93786 22.9688 6.00016C22.9688 8.06247 21.3587 9.73428 19.3727 9.73428Z",fill:d.BO.BrandGreen60}),r.createElement("path",{d:"M12.6746 6.42151H7.39304V8.29493H8.68981C9.01927 8.30238 9.34872 8.28019 9.67419 8.22864L9.69144 8.24589C9.08392 9.13311 7.98875 9.75788 6.70651 9.75788C4.63967 9.75788 2.99964 8.11512 2.99964 5.9938C2.99964 3.87247 4.63967 2.23062 6.70651 2.23062C7.30404 2.23157 7.89242 2.3776 8.42105 2.65615C8.94969 2.93471 9.40278 3.33745 9.74139 3.82979L11.593 2.55844C11.0537 1.76195 10.3255 1.11146 9.47342 0.665066C8.62136 0.218676 7.672 -0.00970839 6.71014 0.000316333C5.92081 -0.00586192 5.13814 0.145157 4.40777 0.444568C3.6774 0.74398 3.01395 1.18579 2.45608 1.74425C1.89822 2.3027 1.45712 2.96663 1.15848 3.69731C0.859842 4.428 0.709651 5.21083 0.716666 6.00015C0.716666 9.35378 3.34108 12 6.60571 12C8.60354 12 10.2626 10.8658 10.9192 9.61622L10.9519 9.63347C10.8546 10.0093 10.8049 10.3958 10.8039 10.784V11.7221L12.6755 11.7167V6.42242L12.6746 6.42151Z",fill:d.BO.BrandGreen60})),g=e=>r.createElement("svg",Object.assign({width:"240",height:"35",viewBox:"0 0 240 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M209.923 15.8961H197.325V20.5059H200.418C201.204 20.5238 201.989 20.4701 202.766 20.3428L202.807 20.3852C201.358 22.5683 198.746 24.1056 195.687 24.1056C190.757 24.1056 186.845 20.0635 186.845 14.8437C186.845 9.62393 190.757 5.58174 195.687 5.58174C197.113 5.58398 198.514 5.94373 199.775 6.62748C201.035 7.31123 202.116 8.30558 202.926 9.51667L207.343 6.39063C206.054 4.42875 204.315 2.82438 202.279 1.72725C200.245 0.627883 197.977 0.0692616 195.685 0.0960754C193.807 0.080434 191.94 0.449124 190.2 1.18651C188.461 1.92165 186.88 3.00985 185.55 4.38406C184.22 5.75827 183.169 7.39168 182.456 9.19044C181.746 10.9892 181.384 12.9153 181.402 14.8593C181.402 23.1113 187.662 29.6226 195.449 29.6226C200.219 29.6226 204.172 26.8317 205.738 23.7571L205.816 23.7995C205.584 24.7246 205.465 25.6743 205.463 26.6306V28.9388L209.927 28.9254H209.923V15.8984V15.8961Z",fill:"white"}),r.createElement("path",{d:"M225.901 0C218.113 0 211.801 6.62972 211.801 14.8102C211.801 22.9906 218.113 29.6204 225.901 29.6204C233.688 29.6204 240 22.9906 240 14.8102C240 6.62972 233.688 0 225.901 0ZM226.018 24.1191C221.187 24.1191 217.271 20.0054 217.271 14.9308C217.271 9.85632 221.187 5.74263 226.018 5.74263C230.848 5.74263 234.765 9.85632 234.765 14.9308C234.765 20.0054 230.848 24.1191 226.018 24.1191Z",fill:"white"}),r.createElement("path",{d:"M17.223 8.39048C15.737 8.39048 14.5348 9.63062 14.5348 11.1277V11.1635C13.0857 9.52113 11.3528 8.24524 8.41547 8.24524C4.06802 8.24301 0 11.5277 0 17.3642V17.4379C0 23.2386 3.99653 26.5591 8.41763 26.5591C11.2813 26.5591 13.0164 25.3547 14.6063 23.3839V24.3335C14.6063 27.835 12.8734 29.6606 9.19528 29.6606C7.1786 29.6606 5.51717 29.2226 3.96188 28.4942C3.71494 28.3847 3.43117 28.3109 3.07809 28.3109C1.87588 28.3109 0.885953 29.3321 0.885953 30.5722C0.885953 31.5934 1.48814 32.3598 2.40659 32.724C4.63555 33.6357 6.82768 34.0737 9.33824 34.0737C13.0164 34.0737 15.7392 33.2715 17.5089 31.4482C19.1011 29.8058 19.9134 27.2518 19.9134 23.7503V11.1612C19.9134 9.62839 18.7111 8.38825 17.2252 8.38825L17.223 8.39048ZM14.6063 17.4379C14.6063 20.1014 12.5896 21.9628 9.97293 21.9628C7.35622 21.9628 5.3742 20.1394 5.3742 17.4379V17.3642C5.3742 14.7007 7.35406 12.8393 9.97293 12.8393C12.5918 12.8393 14.6063 14.7007 14.6063 17.3642V17.4379Z",fill:"white"}),r.createElement("path",{d:"M32.3836 8.39038C30.7914 8.39038 29.5199 10.1422 28.7401 12.0393V11.1634C28.7401 9.63052 27.5379 8.39038 26.0519 8.39038C24.5659 8.39038 23.3637 9.63052 23.3637 11.1634V25.6093C23.3637 27.1422 24.5659 28.3823 26.0519 28.3823C27.5379 28.3823 28.7401 27.1422 28.7401 25.6093V20.4298C28.7401 16.4904 30.2607 14.3364 32.9836 13.6816C34.0797 13.4269 35.0003 12.551 35.0003 11.0919C35.0003 9.52327 34.045 8.39262 32.3836 8.39262V8.39038Z",fill:"white"}),r.createElement("path",{d:"M44.2178 8.39038C41.7072 8.39038 39.8682 8.7546 38.1699 9.41154C37.3208 9.74001 36.7207 10.5779 36.7207 11.5634C36.7207 12.8392 37.7107 13.8247 38.9497 13.8247C39.1967 13.8247 39.4089 13.7889 39.7274 13.6794C40.7519 13.3509 41.9563 13.132 43.4401 13.132C46.1283 13.132 47.5081 14.4079 47.5081 16.7071V17.0356C46.1651 16.5619 44.7853 16.2334 42.8748 16.2334C38.3843 16.2334 35.2348 18.2042 35.2348 22.4721V22.5459C35.2348 26.4138 38.1699 28.5298 41.7419 28.5298C44.3586 28.5298 46.163 27.5444 47.4713 26.0495V26.0853C47.4713 27.2517 48.4959 28.3846 50.0534 28.3846C51.5025 28.3846 52.6701 27.2182 52.6701 25.7211V16.8189C52.6701 14.1911 52.0332 12.0393 50.6187 10.5802C49.2757 9.1948 47.1529 8.39038 44.2178 8.39038ZM47.5775 21.2677C47.5775 23.2743 45.8792 24.6977 43.3686 24.6977C41.6357 24.6977 40.4335 23.8217 40.4335 22.3269V22.2531C40.4335 20.5013 41.848 19.5539 44.1463 19.5539C45.4546 19.5539 46.6568 19.8466 47.5775 20.2846V21.27V21.2677Z",fill:"white"}),r.createElement("path",{d:"M78.6766 8.24286C76.0945 8.24286 74.1147 9.33776 72.4511 11.3443C71.4611 9.37351 69.5874 8.24286 67.1115 8.24286C64.3887 8.24286 62.7619 9.73773 61.5229 11.3801V11.1611C61.5229 9.62824 60.3207 8.3881 58.8347 8.3881C57.3487 8.3881 56.1465 9.62824 56.1465 11.1611V25.6093C56.1465 27.1422 57.3487 28.3823 58.8347 28.3823C60.3207 28.3823 61.5229 27.1422 61.5229 25.6093V17.2545C61.5229 14.629 62.7597 13.2772 64.7764 13.2772C66.7931 13.2772 67.9238 14.6268 67.9238 17.2545V25.6093C67.9238 27.1422 69.126 28.3823 70.612 28.3823C72.098 28.3823 73.3002 27.1422 73.3002 25.6093V17.2545C73.3002 14.629 74.5371 13.2772 76.5537 13.2772C78.5704 13.2772 79.7011 14.6268 79.7011 17.2545V25.6093C79.7011 27.1422 80.9034 28.3823 82.3893 28.3823C83.8753 28.3823 85.0775 27.1422 85.0775 25.6093V15.4312C85.0775 10.7254 82.6731 8.24509 78.6766 8.24509V8.24286Z",fill:"white"}),r.createElement("path",{d:"M111.077 8.24286C108.495 8.24286 106.516 9.33776 104.852 11.3443C103.862 9.37351 101.988 8.24286 99.5124 8.24286C96.7895 8.24286 95.1628 9.73773 93.9237 11.3801V11.1611C93.9237 9.62824 92.7215 8.3881 91.2355 8.3881C89.7496 8.3881 88.5474 9.62824 88.5474 11.1611V25.6093C88.5474 27.1422 89.7496 28.3823 91.2355 28.3823C92.7215 28.3823 93.9237 27.1422 93.9237 25.6093V17.2545C93.9237 14.629 95.1606 13.2772 97.1773 13.2772C99.194 13.2772 100.325 14.6268 100.325 17.2545V25.6093C100.325 27.1422 101.527 28.3823 103.013 28.3823C104.499 28.3823 105.701 27.1422 105.701 25.6093V17.2545C105.701 14.629 106.938 13.2772 108.955 13.2772C110.971 13.2772 112.102 14.6268 112.102 17.2545V25.6093C112.102 27.1422 113.304 28.3823 114.79 28.3823C116.276 28.3823 117.478 27.1422 117.478 25.6093V15.4312C117.478 10.7254 115.074 8.24509 111.077 8.24509V8.24286Z",fill:"white"}),r.createElement("path",{d:"M128.461 8.39038C125.95 8.39038 124.111 8.7546 122.413 9.41154C121.564 9.74001 120.964 10.5779 120.964 11.5634C120.964 12.8392 121.954 13.8247 123.193 13.8247C123.44 13.8247 123.652 13.7889 123.97 13.6794C124.995 13.3509 126.199 13.132 127.683 13.132C130.371 13.132 131.751 14.4079 131.751 16.7071V17.0356C130.408 16.5619 129.028 16.2334 127.118 16.2334C122.625 16.2334 119.478 18.2042 119.478 22.4721V22.5459C119.478 26.4138 122.413 28.5298 125.985 28.5298C128.602 28.5298 130.406 27.5444 131.714 26.0495V26.0853C131.714 27.2517 132.739 28.3846 134.296 28.3846C135.745 28.3846 136.913 27.2182 136.913 25.7211V16.8189C136.913 14.1911 136.276 12.0393 134.862 10.5802C133.519 9.1948 131.396 8.39038 128.461 8.39038ZM131.82 21.2677C131.82 23.2743 130.122 24.6977 127.612 24.6977C125.879 24.6977 124.676 23.8217 124.676 22.3269V22.2531C124.676 20.5013 126.091 19.5539 128.389 19.5539C129.698 19.5539 130.9 19.8466 131.82 20.2846V21.27V21.2677Z",fill:"white"}),r.createElement("path",{d:"M149.373 8.39038C147.781 8.39038 146.507 10.1422 145.73 12.0393V11.1634C145.73 9.63052 144.527 8.39038 143.041 8.39038C141.555 8.39038 140.353 9.63052 140.353 11.1634V25.6093C140.353 27.1422 141.555 28.3823 143.041 28.3823C144.527 28.3823 145.73 27.1422 145.73 25.6093V20.4298C145.73 16.4904 147.25 14.3364 149.973 13.6816C151.069 13.4269 151.99 12.551 151.99 11.0919C151.99 9.52327 151.034 8.39262 149.373 8.39262V8.39038Z",fill:"white"}),r.createElement("path",{d:"M156.456 1.31152C154.97 1.31152 153.768 2.55166 153.768 4.08452V25.6093C153.768 27.1422 154.97 28.3823 156.456 28.3823C157.942 28.3823 159.144 27.1422 159.144 25.6093V4.08452C159.144 2.55166 157.942 1.31152 156.456 1.31152Z",fill:"white"}),r.createElement("path",{d:"M176.788 8.39038C175.408 8.39038 174.63 9.3378 174.206 10.5064L170.244 21.8532L166.141 10.4707C165.682 9.15681 164.904 8.39038 163.559 8.39038C162.073 8.39038 160.906 9.48528 160.906 11.0539C160.906 11.4181 161.046 11.9656 161.189 12.3298L167.662 27.7991L167.484 28.2371C166.988 29.2225 166.529 29.4035 165.574 29.4035C165.184 29.4035 164.902 29.3298 164.443 29.1845C164.231 29.1108 163.984 29.0393 163.559 29.0393C162.463 29.0393 161.436 29.9509 161.436 31.3006C161.436 32.6502 162.357 33.3071 163.135 33.5999C164.018 33.9283 164.867 34.1116 166.07 34.1116C169.289 34.1116 170.879 32.6167 172.471 28.6393L179.084 12.2583C179.19 12.0035 179.331 11.3824 179.331 10.9444C179.331 9.48528 178.163 8.39038 176.783 8.39038H176.788Z",fill:"white"}))},66722:(e,t,n)=>{n.d(t,{vw:()=>x,Ct:()=>oe,zx:()=>i.z,CT:()=>r.CT,T3:()=>r.T3,rN:()=>r.rN,k8:()=>r.k8,L3:()=>r.L3,Ho:()=>r.Ho,kc:()=>r.kc,Ph:()=>ne,cv:()=>r.cv,wN:()=>r.wN,b:()=>g,pY:()=>Z,uA:()=>r.uA,T6:()=>r.T6});var r=n(35430),i=n(45212),o=n(88392),s=n(89894),a=n(27378),u=n(15073),c=n(5114),l=n(31542),p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const f="#161719",d="#646B81",h=e=>{var{children:t,style:n,dataGrammarlyPart:r="ui-kit-iframe"}=e,i=p(e,["children","style","dataGrammarlyPart"]);const[o,s]=a.useState(null),f=a.useCallback((e=>{var t,n;let r=null;"contentDocument"in e.target&&(r=null!==(n=null===(t=e.target.contentDocument)||void 0===t?void 0:t.body)&&void 0!==n?n:null),s(r),r&&(r.style.margin="0",r.style.height="100vh",r.style.overflowY="hidden")}),[]),d=a.useContext(u.u.Context);return a.useEffect((()=>{const e=d.subscribe((e=>{o&&u.u.setRootCssVar(o,c.some(e))}));return()=>e.unsubscribe()}),[o]),a.createElement("iframe",Object.assign({},i,{style:Object.assign({border:"none"},n),onLoad:f,srcDoc:"<html><body></body></html>","data-grammarly-part":r}),o&&(0,l.createPortal)(t,o))},m=1.375,g=({fitContentHeight:e,text:t,onChange:n,placeholder:r,disabled:i,onFocus:u,onBlur:c,onKeyPressEnter:l,autofocus:p,onKeyUpEscape:g})=>{const v=m*(r?r.length:1),[y,b]=a.useState({kind:"rem",value:v}),[x,w]=a.useState(null);return a.useEffect((()=>{x&&void 0!==p&&x.focus()}),[p,x]),a.useLayoutEffect((()=>{if(""===t)b({kind:"rem",value:v});else{const e=null==x?void 0:x.scrollHeight;b(e?{kind:"px",value:e}:{kind:"rem",value:v})}}),[t,x,r]),a.createElement(h,{style:{width:"100%",height:e?"rem"===y.kind?s.ux.rem(y.value):s.ux.px(y.value):"100%"}},a.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${s.ux.rem(o.xB)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0px;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${s.ux.rem(.875)};\n        font-weight: 400;\n        color: ${f};\n      }\n      .textarea::placeholder {\n        color: ${d};\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      .placeholder {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        font-family: Inter, sans-serif;\n        font-size: ${s.ux.rem(.875)};\n        font-weight: 400;\n        z-index: -1;\n        color: ${d};\n      }\n      `}}),a.createElement("div",{className:"container"},a.createElement("textarea",{className:"textarea",style:{lineHeight:s.ux.rem(m)},value:t,ref:w,onChange:e=>n(e.target.value),placeholder:1===(null==r?void 0:r.length)?r[0]:void 0,disabled:i,onFocus:()=>null==u?void 0:u(),onBlur:()=>null==c?void 0:c(),onKeyPress:e=>{l&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),l())},onKeyUp:e=>{g&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),g())}}),((null==r?void 0:r.length)||0)>1&&""===t?a.createElement("div",{className:"placeholder",style:{lineHeight:s.ux.rem(m)}},(r||[]).map(((e,t)=>a.createElement(a.Fragment,{key:t},e,a.createElement("br",null))))):null))};var v=n(22232),y=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!0),this._capacity=e,this._start=t,this._allowOverflow=n,this._nextId=t}return Object.defineProperty(e.prototype,"id",{get:function(){return this._nextId},enumerable:!1,configurable:!0}),e.prototype.newId=function(){var e=this._nextId;if(e>this._capacity){if(!this._allowOverflow)throw new v.ej("ids limit reached: "+this._capacity);this._nextId=e=0}return this._nextId++,e},e.prototype.reset=function(){this._nextId=this._start},e}();const b=new y(999999);var x;!function(e){e.create=function(e){return null!=e?e:b.newId()}}(x||(x={}));var w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const _=e=>{var{text:t,onChange:n,placeholder:r,disabled:i,onFocus:u,onBlur:c,onKeyPressEnter:l,autofocus:p,onKeyUpEscape:m}=e,g=w(e,["text","onChange","placeholder","disabled","onFocus","onBlur","onKeyPressEnter","autofocus","onKeyUpEscape"]);const[v,y]=a.useState(null);return a.useEffect((()=>{v&&void 0!==p&&v.focus()}),[p,v]),a.createElement(h,{style:{width:"100%",height:s.ux.rem(1.375)}},a.createElement("style",{dangerouslySetInnerHTML:{__html:`\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${s.ux.rem(o.xB)};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${s.ux.rem(.875)};\n        font-weight: 400;\n        color: ${f};\n      }\n      .textBox::placeholder {\n        color: ${d};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `}}),a.createElement("input",Object.assign({},g,{className:"textBox",style:{lineHeight:s.ux.rem(1.375)},value:t,ref:y,onChange:e=>n(e.target.value),placeholder:r,disabled:i,onFocus:()=>null==u?void 0:u(),onBlur:()=>null==c?void 0:c(),onKeyPress:e=>{l&&"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),e.stopPropagation(),l())},onKeyDown:e=>{m&&"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),m())}})))};var S=n(64015),C=n(90845),k=n(31278),E=n(32952),O=n(78674),I=n(85985),T=n(2834),A=n(74204),P=n(57050),R=n(12187),N=n(9546),D=n(13578),B=n(62172);const U={padding:`${s.ux.rem(N.F2)} ${s.ux.rem(N.F2+N.Ze)} ${s.ux.rem(N.F2)} ${s.ux.rem(N.qp)}`,border:`1px solid ${D.S5.InteractiveNeutral.Primary.Default}`,borderRadius:s.ux.rem(o.xB),width:s.ux.rem(15),height:s.ux.rem(2),boxSizing:"border-box",position:"relative"},j={position:"absolute",right:s.ux.rem(N.x),top:s.ux.rem(.1875),border:"none",background:"transparent",display:"flex",alignItems:"center",cursor:"pointer",width:s.ux.rem(1.5),height:s.ux.rem(1.5),padding:0},M={minWidth:s.ux.rem(1.5),minHeight:s.ux.rem(1.5),width:s.ux.rem(1.5),height:s.ux.rem(1.5),$nest:{"& svg":{stroke:D.XY.Content.Secondary.Default}}},L=e=>s.ux.color(B.BlueGray40).toRGBA().fade(e).toString(),G={padding:s.ux.rem(N.F2),background:"white",boxShadow:`0px 0px 0px 0.5px ${B.BlueGray40}, 0px 0px 2px 0.5px ${L(.5)}, 0px 1px 6px 0.5px ${L(.25)}`,borderRadius:s.ux.rem(o.xB),width:s.ux.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:s.ux.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},z={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:s.ux.rem(.875),lineHeight:s.ux.rem(1.375),color:D.XY.Content.Primary.Default,padding:`${s.ux.rem(.1875)} ${s.ux.rem(N.qp)}`,borderRadius:s.ux.rem(o.xB),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:B.Blue0},"& mark":{backgroundColor:"unset",fontWeight:"bold"}}},F=s.ux.prefixedStylesheet("select",{container:[U],clearBtn:[j],closeIcon:[M],menu:[G],menuOption:[z],menuOptionPart:[{whiteSpace:"pre"}]});var V=n(355);const $=new y(999999);function Z({text:e,placeholder:t,clearButton:n,selectOnBlur:r,label:i,options:o,className:s,filterBy:u=((e,t)=>i(e).toLowerCase().includes(t.toLowerCase())),onInputChange:c,onSelectionChange:l}){const[p,f]=a.useState(!1),d=a.useRef($.newId().toString()),[h,m]=a.useState(null),[g,v]=a.useState(null),{styles:y,attributes:b}=(0,A.D)(h,g,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),x=o.filter((t=>u(t,e.trim()))),w=p&&x.length>0,S=a.useMemo((()=>new E.xQ),[]);return C.P.useSubscriptionTo(S.pipe(O.b(50),I.h((e=>!e)),T.b((()=>{f(!1),r&&""!==e.trim()&&l(x.length>0?x[0]:null)})))),a.createElement("div",Object.assign({},(0,R.Sh)(F.container,s),{ref:m}),a.createElement(_,{placeholder:t,onChange:c,text:e,onFocus:()=>{f(!0),S.next(!0)},onBlur:()=>S.next(!1),role:"combobox","aria-haspopup":"listbox","aria-owns":d.current,"aria-expanded":w}),""!==e.trim()&&!!n&&a.createElement("button",{onClick:(0,V.m)((()=>l(null))),className:F.clearBtn,"aria-label":"Clear",type:"button"},a.createElement(k.JO.Close,{className:F.closeIcon})),w&&a.createElement("div",Object.assign({ref:v,style:y.popper},b.popper,{className:F.menu,onFocus:()=>S.next(!0),onBlur:()=>S.next(!1)}),a.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:d.current},x.map((t=>{const n=i(t);return a.createElement("li",{key:n,"aria-label":n,role:"option"},a.createElement("button",{className:F.menuOption,onClick:(0,V.m)((()=>{l(t),f(!1)}))},a.createElement(H,{label:n,pattern:e})))})))))}const H=({label:e,pattern:t})=>{if(""===t.trim())return a.createElement(a.Fragment,null,e);const n=t.trim(),r=e.split(new RegExp(n,"i")),i=(0,P.zG)(r.map(((e,t)=>({token:e,mark:!1,end:t*n.length+r.slice(0,t).join("").length+e.length}))),S.iD({token:"",mark:!0,end:0})).map(((t,r,i)=>t.mark&&r>0?{token:e.slice(i[r-1].end,i[r-1].end+n.length),mark:!0}:{token:t.token,mark:!1})).filter((e=>e.token.length>0));return a.createElement(a.Fragment,null,i.map(((e,t)=>e.mark?a.createElement("mark",{key:t,className:F.menuOptionPart},e.token):a.createElement("span",{key:t,className:F.menuOptionPart},e.token))))},W={border:`1px solid ${D.S5.InteractiveNeutral.Primary.Default}`,borderRadius:s.ux.rem(o.xB),width:s.ux.rem(15),height:s.ux.rem(2),boxSizing:"border-box",position:"relative"},K={padding:`${s.ux.rem(N.F2)} ${s.ux.rem(N.F2+N.Ze)} ${s.ux.rem(N.F2)} ${s.ux.rem(N.qp)}`,width:"100%",height:"100%",border:"none",background:"transparent",position:"relative",cursor:"pointer",display:"flex",alignItems:"center"},q={fontWeight:400,fontSize:s.ux.rem(.875),lineHeight:s.ux.rem(1.375),color:D.XY.Content.Primary.Default},Y={position:"absolute",top:s.ux.rem(N.F2),right:s.ux.rem(N.x)},X=e=>s.ux.color(B.BlueGray40).toRGBA().fade(e).toString(),Q={padding:s.ux.rem(N.F2),background:"white",boxShadow:`0px 0px 0px 0.5px ${B.BlueGray40}, 0px 0px 2px 0.5px ${X(.5)}, 0px 1px 6px 0.5px ${X(.25)}`,borderRadius:s.ux.rem(o.xB),width:s.ux.rem(15),boxSizing:"border-box",overflowY:"auto",maxHeight:s.ux.rem(8.125),zIndex:9999,$nest:{"& > ul":{listStyle:"none",padding:0,margin:0,$nest:{"& > li":{padding:0,margin:0}}}}},J={border:"none",background:"transparent",width:"100%",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",fontSize:s.ux.rem(.875),lineHeight:s.ux.rem(1.375),color:D.XY.Content.Primary.Default,padding:`${s.ux.rem(.1875)} ${s.ux.rem(N.qp)}`,borderRadius:s.ux.rem(o.xB),display:"flex",justifyContent:"flex-start",$nest:{"&:hover":{background:B.Blue0}}},ee=s.ux.prefixedStylesheet("select",{container:[W],selectBtn:[K],selectBtnLabel:[q],selectBtnChevronIcon:[Y],menu:[Q],menuOption:[J]}),te=new y(999999);function ne({label:e,selection:t,className:n,placeholder:r,options:i,onSelectionChange:o,renderOption:s}){const[u,c]=a.useState(!1),l=a.useRef(te.newId().toString()),p=a.useRef(te.newId().toString()),[f,d]=a.useState(null),[h,m]=a.useState(null),{styles:g,attributes:v}=(0,A.D)(f,h,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,4]}}]}),y=a.useMemo((()=>new E.xQ),[]),b=a.useMemo((()=>y.pipe(O.b(50),I.h((e=>!e)),T.b((()=>{c(!1)})))),[y,c]);return C.P.useSubscriptionTo(b),a.createElement("div",Object.assign({},(0,R.Sh)(ee.container,n),{ref:d}),a.createElement("button",{className:ee.selectBtn,onFocus:()=>{c(!0),y.next(!0)},onBlur:()=>y.next(!1),type:"button","aria-haspopup":"listbox","aria-owns":l.current,"aria-expanded":u,"aria-labelledby":p.current},a.createElement("div",{id:p.current,className:ee.selectBtnLabel},t?s?s(t):e(t):r),a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,className:ee.selectBtnChevronIcon},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64645 9.64645C7.84171 9.45118 8.15829 9.45118 8.35355 9.64645L12 13.2929L15.6464 9.64645C15.8417 9.45118 16.1583 9.45118 16.3536 9.64645C16.5488 9.84171 16.5488 10.1583 16.3536 10.3536L12 14.7071L7.64645 10.3536C7.45118 10.1583 7.45118 9.84171 7.64645 9.64645Z",fill:"#646B81"}))),u&&a.createElement("div",Object.assign({ref:m,style:g.popper},v.popper,{className:ee.menu,onFocus:()=>y.next(!0),onBlur:()=>y.next(!1)}),a.createElement("ul",{"aria-label":"menu-options",role:"listbox",id:l.current},i.map(((t,n)=>{const r=e(t);return a.createElement("li",{key:n,"aria-label":r,role:"option"},a.createElement("button",{className:ee.menuOption,onClick:(0,V.m)((()=>{o(t),c(!1)}))},s?s(t):e(t)))})))))}const re={color:B.BlueGray60,fontWeight:400,fontSize:s.ux.rem(.625),lineHeight:s.ux.rem(1),background:B.BlueGray0,borderRadius:s.ux.rem(o.fe),padding:`0 ${s.ux.rem(N.F2)}`,cursor:"default"},ie=s.ux.stylesheet({badge:[re]}),oe=({children:e})=>a.createElement("div",{className:ie.badge},e)},70391:(e,t,n)=>{n.d(t,{Xd:()=>r,gy:()=>ye,oy:()=>h,Bx:()=>xe});var r,i=n(14601),o=n(98403),s=n(93508),a=n(16118),u=n(85985),c=n(5114),l=n(22232),p=n(38983),f=n(93846),d=n(57050);!function(e){e.isTooltipOnboardingStep=function(e){return f.TG.StepName.isTooltipOnboardingStep(e.name)}}(r||(r={}));class h{constructor(e,t,n,r,h,m,g){this._sessionActive=e,this._activeStep=t,this._assistantMountActions=n,this.promptsAllocated=m,this._notify=g,this._subs=new i.w,this._assistantElements=p.h.create({}),this._externalElements=p.h.create({}),this._hideAssistantTooltips=p.h.create(!1),this.activeStep=p.h.combine(this._activeStep,this._assistantElements,this._externalElements,this._hideAssistantTooltips,((e,t,n,r)=>(0,d.zG)(e,c.chain((e=>function(e,t,n,r){switch(e){case f.TG.StepName.initial:return(0,d.zG)(c.fromNullable(n[f.nF.initialPopupAnchor]),c.map((e=>({name:f.TG.StepName.initial,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case f.TG.StepName.rewrite:return(0,d.zG)(c.fromNullable(n[f.nF.rewriteTooltipAnchor]),c.map((e=>({name:f.TG.StepName.rewrite,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!0}))));case f.TG.StepName.prompts:return(0,d.zG)(c.fromNullable(t[f.ec.initialActionsList]),c.map((e=>({name:f.TG.StepName.prompts,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!r}))));case f.TG.StepName.review:return(0,d.zG)(c.fromNullable(t[f.ec.followUpActionsList]),c.map((e=>({name:f.TG.StepName.review,reference:e.reference,placement:e.placement,offset:e.offset,boundaryAreaPadding:e.boundaryAreaPadding,show:!r}))));default:(0,l.L0)(e)}}(e,t,n,r)))))),this._subs.add(this._assistantMountActions.subscribe((e=>this._assistantElements.modify((t=>Object.assign(Object.assign({},t),{[e.name]:(0,d.zG)(e.element,c.fold(d.r5,(e=>({reference:e,placement:"left"}))))})))))),this._subs.add(r.subscribe(o.wW(this._externalElements))),this._subs.add(h.subscribe(o.wW(this._hideAssistantTooltips))),this._subs.add(this._sessionActive.pipe(s.O(!1),a.G(),u.h((([e,t])=>e&&!t))).subscribe((()=>this._assistantElements.set({}))))}notify(e){this._notify(e)}dispose(){this._subs.unsubscribe()}}var m=n(34217),g=n(27378),v=n(66722),y=n(89894),b=n(88392),x=n(13578),w=n(9546);const _="tryItOutBtn",S=y.ux.rem(b.xB+b.fe),C={width:y.ux.rem(25.875),background:x.XY.Surface.Primary.Default},k={display:"flex",alignItems:"center",justifyContent:"center",height:y.ux.rem(14.5625),width:"100%",backgroundColor:"#00231F",backgroundImage:"url(https://assets.grammarly.com/icons/v1/cheetah-onboarding.2x.png)",backgroundPosition:`top ${y.ux.rem(1)} left 0`,backgroundSize:"100%",backgroundRepeat:"no-repeat",borderTopLeftRadius:S,borderTopRightRadius:S},E={display:"flex",flexDirection:"column",gap:y.ux.rem(w.F2),padding:`${y.ux.rem(w.mh)} ${y.ux.rem(w.x0)} ${y.ux.rem(w.sD)} ${y.ux.rem(w.sD)}`,color:x.XY.Content.Primary.Default},O={display:"flex",flexDirection:"row",alignItems:"center",gap:y.ux.rem(w.x),fontWeight:"bold",fontSize:y.ux.rem(1),lineHeight:y.ux.rem(1.5)},I={fontSize:y.ux.rem(.875),lineHeight:y.ux.rem(1.375)},T={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomLeftRadius:S,borderBottomRightRadius:S,padding:`${y.ux.rem(w.qp)} ${y.ux.rem(w.sD)} ${y.ux.rem(w.qp)} ${y.ux.rem(w.sD)}`,backgroundColor:x.XY.Surface.Secondary.Default,color:x.XY.Content.Secondary.Default,fontSize:y.ux.rem(.875),lineHeight:y.ux.rem(1.3125),$nest:{a:{color:"inherit"}}},A={width:y.ux.rem(12),lineHeight:y.ux.rem(1.25)},P={$nest:{[`&.${_}.${_}.${_}.${_}`]:{fontSize:y.ux.rem(.875)}}},R={container:y.ux.style(C),image:y.ux.style(k),content:y.ux.style(E),contentHeader:y.ux.style(O),contentText:y.ux.style(I),footer:y.ux.style(T),footerText:y.ux.style(A),tryItOutButton:y.ux.joinClasses([_,y.ux.style(P)]),link:y.ux.style({display:"inline"})};var N=n(31278);const D="closeBtn",B="closeIcon",U={$nest:{[`&.${D}.${D}.${D}.${D}`]:{position:"absolute",top:y.ux.rem(w.x),right:y.ux.rem(w.x),$nest:{[`& .${B}`]:{minHeight:y.ux.rem(1.5),minWidth:y.ux.rem(1.5),stroke:y.ux.important(x.S5.Content.Primary.Default)}}}}},j={closeButton:y.ux.joinClasses([D,y.ux.style(U)]),closeIcon:B},M=({name:e,onClick:t})=>g.createElement(v.zx.Tertiary,{className:j.closeButton,onClick:t,compact:!0,theme:"dark",name:e},g.createElement(N.JO.Close,{className:j.closeIcon}));var L=n(12187),G=n(355),z=n(74204),F=n(62172);const V=e=>y.ux.color(F.BlueGray40).toRGBA().fade(e).toString(),$={filter:`drop-shadow(0px 0px 0.5px ${F.BlueGray40}) drop-shadow(0px 0px 2px ${V(.5)}) drop-shadow(0px 1px 6px ${V(.25)})`,borderRadius:y.ux.rem(b.xB+b.fe)},Z=y.ux.stylesheet({popover:[$]}),H=g.forwardRef((function({placement:e,style:t,arrowColor:n},r){return g.createElement("div",{ref:r,style:{width:33}},g.createElement("svg",{width:33,height:12,viewBox:"0 0 33 12.5",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:Object.assign(Object.assign(Object.assign({position:"absolute"},t),{transform:`${(null==t?void 0:t.transform)||""} rotate(${W(e)}deg)`.trimStart()}),K(e))},g.createElement("path",{d:"M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",fill:n||"white"})))}));function W(e){return(null==e?void 0:e.startsWith("right"))?90:(null==e?void 0:e.startsWith("bottom"))?180:(null==e?void 0:e.startsWith("left"))?270:0}function K(e){return(null==e?void 0:e.startsWith("bottom"))?{top:-12}:(null==e?void 0:e.startsWith("top"))?{bottom:-12}:(null==e?void 0:e.startsWith("right"))?{transformOrigin:"top left",top:-16.5,left:0}:(null==e?void 0:e.startsWith("left"))?{transformOrigin:"top right",top:-16.5,right:0}:{}}const q=(0,L.xb)((({reference:e,placement:t,offset:n,boundaryAreaPadding:r,className:i,arrowColor:o,children:s})=>{const[a,u]=g.useState(null),[c,l]=g.useState(null),p=(0,G.sJ)(),{styles:f,attributes:d,state:h}=(0,z.D)(e,a,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:c,padding:12}},{name:"preventOverflow",options:{padding:null!=r?r:5}},p]});return g.createElement("div",Object.assign({ref:u,style:f.popper},d.popper,(0,L.Sh)(Z.popover,i)),g.createElement(H,{ref:l,style:f.arrow,placement:null==h?void 0:h.placement,arrowColor:o}),s)}));var Y=n(90845),X=n(80544),Q=n(79692),J=n(2834);const ee=m.UI.Node.make((({view:e,notify:t})=>{const{ref:n,onMount:r}=Y.P.useElWatcher(),i=g.useMemo((()=>n.pipe(X.QV(Q.E),J.b((e=>t({kind:f.lG.Kind.mount,name:f.nM.initialPopup,element:e})())))),[n]);return Y.P.useSubscriptionTo(i),g.createElement(q,{className:R.container,reference:e("reference"),placement:e("placement"),offset:e("offset"),boundaryAreaPadding:e("boundaryAreaPadding"),arrowColor:x.XY.Surface.Secondary.Default},g.createElement(M,{onClick:t({kind:f.lG.Kind.close,step:f.TG.StepName.initial}),name:"onboardingClose"}),g.createElement("div",{className:R.image},g.createElement(v.rN,null)),g.createElement("div",{className:R.content,ref:r},g.createElement("div",{className:R.contentHeader},g.createElement("div",null,"Write faster with GrammarlyGO"),g.createElement(v.Ct,null,"Beta")),g.createElement("div",{className:R.contentText},"Brainstorm, write, and rewrite with generative AI assistance at your fingertips.")),g.createElement("div",{className:R.footer},g.createElement("div",{className:R.footerText},"If you use GrammarlyGO,"," ",g.createElement("a",{href:"https://grammarly.com/terms",rel:"noreferrer",target:"_blank",className:R.link},"additional terms")," ","apply."),g.createElement(v.zx.Primary,{onClick:t({kind:f.lG.Kind.tryItOut}),className:R.tryItOutButton,name:"tryItOut"},"Try it out")))}));var te=n(60797);function ne(e){return m.Z.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(te.oA))}var re=n(41398),ie=n(77176);const oe={animation:`${y.ux.keyframes({from:{opacity:0},to:{opacity:1}})} linear 0.1s`,background:F.Green80,borderRadius:y.ux.rem(w.x),width:y.ux.rem(13.75),color:x.S5.Content.Primary.Default,padding:y.ux.rem(w.mh),fontSize:y.ux.rem(.875),lineHeight:y.ux.rem(1.375),display:"flex",flexDirection:"column",gap:y.ux.rem(w.yC),$nest:{"&[data-popper-reference-hidden='true']":{visibility:"hidden"}}},se=y.ux.rem(.5),ae=y.ux.rem(-.5),ue=F.Green80,ce={$nest:{"&[data-placement='bottom']":{top:ae,borderLeft:`${se} solid transparent`,borderRight:`${se} solid transparent`,borderBottom:`${se} solid ${ue}`},"&[data-placement='top']":{bottom:ae,borderLeft:`${se} solid transparent`,borderRight:`${se} solid transparent`,borderTop:`${se} solid ${ue}`},"&[data-placement='right']":{left:ae,borderTop:`${se} solid transparent`,borderBottom:`${se} solid transparent`,borderRight:`${se} solid ${ue}`},"&[data-placement='left']":{right:ae,borderTop:`${se} solid transparent`,borderBottom:`${se} solid transparent`,borderLeft:`${se} solid ${ue}`}}},le=y.ux.stylesheet({tooltip:[oe],arrow:[ce]}),pe=(0,L.xb)((({reference:e,placement:t,offset:n,boundaryAreaPadding:r,children:i})=>{var o,s;const[a,u]=g.useState(null),[c,l]=g.useState(null),p=(0,G.sJ)(),{styles:f,attributes:d,state:h}=(0,z.D)(e,a,{placement:t,modifiers:[{name:"offset",options:{offset:[0,12+(null!=n?n:0)]}},{name:"arrow",options:{element:c,padding:12}},{name:"preventOverflow",options:{padding:null!=r?r:5}},p]});return g.createElement("div",Object.assign({ref:u,style:f.popper},d.popper,{className:le.tooltip}),g.createElement("div",{ref:l,style:f.arrow,className:le.arrow,"data-placement":(null===(o=null==h?void 0:h.placement)||void 0===o?void 0:o.startsWith("bottom"))?"bottom":(null==h?void 0:h.placement.startsWith("top"))?"top":(null==h?void 0:h.placement.startsWith("right"))?"right":(null===(s=null==h?void 0:h.placement)||void 0===s?void 0:s.startsWith("left"))?"left":void 0}),i)})),fe=y.ux.stylesheet({title:[{fontWeight:700}]}),de={[f.TG.StepName.prompts]:{title:"Start with a prompt",description:e=>e?`Choose a suggested prompt, or type your own to get started. You’ll get ${e} each month.`:"Choose a suggested prompt, or type your own to get started."},[f.TG.StepName.review]:{title:"How does this sound?",description:"Adjust it to your liking with additional prompts. Don’t forget to check for any inaccuracies. "},[f.TG.StepName.rewrite]:{title:"Want help rewriting?",description:"Select your text to rewrite it with GrammarlyGO."}};function he(e){switch(e){case f.TG.StepName.prompts:return f.nM.promptsTooltip;case f.TG.StepName.review:return f.nM.reviewTooltip;case f.TG.StepName.rewrite:return f.nM.rewriteTooltip;default:(0,l.L0)(e)}}const me=m.UI.Node.make((({state:e,view:t,notify:n})=>{const{ref:r,onMount:i}=Y.P.useElWatcher(),o=g.useMemo((()=>r.pipe(re.M(t("name")),X.QV(Q.E),ie.U((([e,t])=>({element:e,stepName:t}))),J.b((({element:e,stepName:t})=>n({kind:f.lG.Kind.mount,name:he(t),element:e})())))),[r]);return Y.P.useSubscriptionTo(o),g.createElement(pe,{reference:t("reference"),placement:t("placement"),offset:t("offset"),boundaryAreaPadding:t("boundaryAreaPadding")},e.pipe(ie.U((e=>g.createElement(g.Fragment,null,g.createElement(M,{onClick:n({kind:f.lG.Kind.close,step:e.name}),name:"tooltipClose"}),g.createElement("div",{className:fe.title},de[e.name].title),g.createElement("div",{ref:i},e.name===f.TG.StepName.prompts?de[e.name].description(e.promptsAllocated):de[e.name].description))))))})),ge=m.UI.Union.asOption(me);function ve(e){return m.Z.composeOption(function(e){return m.Z.fromSideEffect((t=>e.notify(t)),e.activeStep.pipe(te.oA,u.h(r.isTooltipOnboardingStep),re.M(e.promptsAllocated.pipe(ie.U(c.toUndefined))),ie.U((([e,t])=>Object.assign(Object.assign({},e),{promptsAllocated:t})))))}(e),(()=>e.activeStep.pipe(ie.U(c.filter(r.isTooltipOnboardingStep)))))}const ye=m.UI.Union.make("kind",{none:m.UI.Node.empty,initial:ee,tooltip:ge});var be=n(76974);function xe(e){return m.Z.composeUnion({none:()=>be.of(null),initial:ne(e),tooltip:ve(e)},(()=>e.activeStep.view(we).view((e=>({kind:e})))))}function we(e){return(0,d.zG)(e,c.filter((e=>e.show)),c.fold((()=>"none"),(e=>{switch(e.name){case f.TG.StepName.initial:return"initial";case f.TG.StepName.prompts:case f.TG.StepName.review:case f.TG.StepName.rewrite:return"tooltip";default:(0,l.L0)(e.name)}})))}},355:(e,t,n)=>{n.d(t,{BO:()=>i,eG:()=>_.e,E9:()=>o,Nv:()=>C,C7:()=>s,uj:()=>w,m:()=>A,NN:()=>a,gM:()=>T,sJ:()=>O});var r=n(62172);const i=Object.assign(Object.assign({},r),{BrandGreen60:"#018374",BrandGreen80:"#017467"});var o;function s(e=document){return{top:0,left:0,height:e.documentElement.clientHeight,width:e.documentElement.clientWidth}}function a(e,t){return n=>{const r=function(e,t){const n=e.left<t.left?t.left:e.left+e.width>t.left+t.width?t.left+t.width-e.width:e.left,r=e.top<t.top?t.top:e.top+e.height>t.top+t.height?t.top+t.height-e.height:e.top;return Object.assign(Object.assign({},e),{left:n,top:r})}({left:e.left+n.x,top:e.top+n.y,width:e.width,height:e.height},t);return{x:r.left-e.left,y:r.top-e.top}}}!function(e){e.fromCartesian=function({x:e,y:t}){return{top:t,left:e}},e.l1Distance=function(e,t){return Math.abs(e.top-t.top)+Math.abs(e.left-t.left)}}(o||(o={}));var u=n(57050);function c(e){const t=function(e){const t=e.ownerDocument;if(t)return t;throw new Error("target does not have ownerDocument")}(e).defaultView;if(t)return t;throw new Error("active document is detached from a window")}var l,p=n(85985),f=n(28043),d=n(66310),h=n(49708),m=n(2834),g=n(77176),v=n(2768),y=n(55721),b=n(39719),x=n(67434);function w(){return(0,u.ls)(p.h((e=>!!e)),f.x(),d.w((e=>h.R(e,"mousedown").pipe(p.h((e=>!e.button)),m.b((e=>e.preventDefault())),g.U((t=>({element:e,startPos:{x:t.clientX,y:t.clientY}}))),d.w((e=>h.R(c(e.element),"mousemove").pipe(v.R(h.R(c(e.element),"mouseup")),y.p(10),g.U((({clientX:t,clientY:n})=>({kind:"dragInProgress",element:e.element,startPos:e.startPos,delta:{x:t-e.startPos.x,y:n-e.startPos.y}}))),b.l({kind:"dragDone"}))))))),x.R(((e,t)=>"dragDone"===t.kind?{translate:e.translate,lastTranslate:e.translate,dragging:!1,dragStart:!1,dragEnd:e.dragging}:{dragging:!0,dragStart:!e.dragging,dragEnd:!1,lastTranslate:e.lastTranslate,translate:{x:t.delta.x+e.lastTranslate.x,y:t.delta.y+e.lastTranslate.y}}),l.create()))}!function(e){e.create=function(){return{translate:{x:0,y:0},lastTranslate:{x:0,y:0},dragging:!1,dragStart:!1,dragEnd:!1}}}(l||(l={}));var _=n(99341),S=n(36991);function C(e,t){return e.reduce(((e,n)=>(S.s.isInsertString(n)?e.parts.push({text:n.insert,kind:"insert"}):k(n)?e.parts.push({text:"\n",kind:"insert"}):S.s.isDelete(n)?e.index+=n.delete:S.s.isRetain(n)&&(e.parts.push({text:t.substring(e.index,e.index+n.retain),kind:"retain"}),e.index+=n.retain),e)),{parts:[],index:0}).parts}function k(e){var t;return S.s.isInsertEmbed(e)&&!0===(null===(t=e.insert)||void 0===t?void 0:t.linebreak)}var E=n(27378);function O(){return E.useMemo((()=>({name:"nudgeArrow",phase:"afterMain",enabled:!0,fn:()=>{},effect:({instance:e})=>{const t=setTimeout((()=>e.forceUpdate()),0);return()=>clearTimeout(t)}})),[])}var I=n(34530);function T(e){return E.useMemo((()=>({name:"maxSize",phase:"main",enabled:!0,requiresIfExists:["offset","preventOverflow","flip"],fn({state:t,name:n}){const r=(0,I.Z)(t),{x:i,y:o}=t.modifiersData.preventOverflow||{x:0,y:0},{width:s,height:a}=t.rects.popper,[u]=t.placement.split("-"),c="top"===u?"top":"bottom",l={width:s-r["left"===u?"left":"right"]-i,height:a-r[c]-o};t.modifiersData[n]=l,null==e||e(l)}})),[])}function A(e){return t=>{(null==t?void 0:t.isTrusted)&&(null==e||e(t))}}},99341:(e,t,n)=>{n.d(t,{e:()=>r,n:()=>a});var r,i=n(57050),o=n(48044),s=n(5114);function a(e){return(t,n)=>r=>(0,i.zG)(r,o.cq(e)(t,(0,i.ls)(s.some,n)),s.getOrElse((()=>(0,i.zG)(r,o.ZQ(e)(t,n(s.none))))))}!function(e){e.set=function(e,t){return n=>Object.assign(Object.assign({},n),{[e]:t})}}(r||(r={}))},99596:(e,t,n)=>{n.d(t,{Bb:()=>d,Lu:()=>f,cl:()=>m});var r,i=n(59312),o=n(99950),s=n(32687),a=n(99129),u=n(19429),c=n(22232),l=n(5114),p=n(83078);!function(e){e.extend=function(e){return u.I_((function(t){return(0,i.pi)((0,i.pi)({},t),{requestExtender:t.requestExtender?m.Extender.compose(e,t.requestExtender):e})}))};var t=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="ParseError",r}return(0,i.ZT)(t,e),t.prototype.toString=function(){return"Ajax response parsing error\n        Message ".concat(this.message,"\n        Details ").concat(s.Rn(this.details).join("\n"))},t}(c.sH);e.ParseError=t,function(e){e.json="application/json",e.form="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.pdf="application/pdf",e.txt="text/plain",e.stream="application/octet-stream",e.vnd="application/vnd",e.zip="application/zip",e.any="*/*"}(e.MimeType||(e.MimeType={})),e.mapToHTTPErrorWithoutBody=function(t,n,r){return r.removeBody(),e.mapToHTTPError(t,n,r)},e.mapToHTTPError=function(e,t,n){return new d({request:n,code:t.status,status:t.statusText,url:t.url,body:e})}}(r||(r={}));var f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="RequestError",r}return(0,i.ZT)(t,e),t.prototype.toString=function(){return"Request error\n      Message: ".concat(this.message,"\n      details: ").concat(this.details)},t.fromError=function(e,n){var r=new t(e,n.message);return r.stack=n.stack,r},t}(c.sH),d=function(e){function t(t){var n=t.code,r=t.status,i=t.url,o=t.message,s=t.body,a=t.request,u=e.call(this,Boolean(o)?o:Boolean(r||s)?r||s:"HTTPError")||this;return u.name="HTTPError",u.url=i,u.code=n,u.body=s,u.status=r,u.request=a,u}return(0,i.ZT)(t,e),t.prototype.toString=function(){return"Response\n      Message: ".concat(this.message,"\n      Status: ").concat(this.status,"\n      Code: ").concat(this.code,"\n      Body: ").concat(this.body,"\n      ").concat(void 0!==this.request?"\n"+this.request.toString():"Url: ".concat(this.url))},t}(c.sH),h=function(){function e(e,t,n,r,i){this._url=e,this._method=t,this._headers=n,this._mime=r,this._body=i}return e.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.get.apply(m,e).build()},e.post=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.post.apply(m,e).build()},e.put=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.put.apply(m,e).build()},e.del=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.del.apply(m,e).build()},e.head=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.head.apply(m,e).build()},Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this._method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mime",{get:function(){return this._mime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return l.fromNullable(this._body)},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"Request\n    Method: ".concat(this.method.toUpperCase(),"\n    Url: ").concat(this.url,"\n    Mime: ").concat(this.mime,"\n    Headers: ").concat(JSON.stringify(this.headers,void 0,2),"\n    Body:").concat(p.dH((function(e){return t=JSON.stringify(e instanceof URLSearchParams?(r={},e.forEach((function(e,t){return r[t]=e})),r):e,void 0,2),n=200,t.length<=n?t:t.slice(0,n)+"....";var t,n,r}),"empty")(this.body),"\n    ")},e.prototype.removeBody=function(){this._body=void 0},e}();!function(e){!function(e){e.GET="GET",e.POST="POST",e.PATCH="PATCH",e.PUT="PUT",e.OPTIONS="OPTIONS",e.HEAD="HEAD",e.TRACE="TRACE",e.DELETE="DELETE",e.CONNECT="CONNECT"}(e.Method||(e.Method={}))}(h||(h={}));var m=function(){function e(e,t,n,r,i,o,s,a){void 0===e&&(e=""),void 0===t&&(t=new URLSearchParams),void 0===n&&(n=[]),void 0===r&&(r={}),void 0===a&&(a=!1),this._url=e,this._queryParams=t,this._cookies=n,this._headers=r,this._method=i,this._mime=o,this._body=s,this._preserveUrl=a}return e.join=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=[].slice.call(t.filter((function(e){return e.length>0})),0).join("/");return e._normalize(r)},e._normalize=function(e){return e=(e=(e=e.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|#)/g,"$1")},e.get=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(h.Method.GET)},e.post=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(h.Method.POST)},e.put=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(h.Method.PUT)},e.patch=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(h.Method.PATCH)},e.del=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(h.Method.DELETE)},e.head=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.url.apply(e,t).method(h.Method.HEAD)},e.url=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(e.join.apply(e,t))},e.prototype.url=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(""!==this._url)throw new Error("URL already set to "+this._url+", use join(string) to add additional parts to it");return this.join(e.join.apply(e,t))},e.create=function(){return new e},e.prototype.method=function(e){if(Boolean(this._method)&&this._method!==e)throw new Error("Method already set to "+this._method+", but was overwritten by "+e);return this._method=e,this},e.prototype.join=function(t){return this._url=e.join(this._url,t),this},e.prototype.pathParam=function(t){return this._url=e.join(this._url,encodeURIComponent(t)),this},e.prototype.body=function(e){if(Boolean(this._body))throw new Error("Body already set to "+this._body+", but was overwritten by "+e);return this._body=e,this},e.prototype.formParam=function(e,t){return(this._body=this._body instanceof URLSearchParams?this._body:new URLSearchParams).append(e,t),this},e.prototype.multipartFormData=function(e,t,n){var r=this._body instanceof a?this._body:new a;return r.append(e,t,n),this._body=r,this},e.prototype.header=function(e,t){return this._headers[e]=t,this},e.prototype.queryParam=function(e,t){return this._queryParams.append(e,t),this},e.prototype.queryParams=function(e){var t=this;return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];return t._queryParams.append(n,r)})),this},e.prototype.cookie=function(e,t){return this._cookies.push(e+"="+t),this},e.prototype.mime=function(e){if(Boolean(this._mime)&&this._mime!==e)throw new Error("MIME already set to "+this._mime+", but was overwritten by "+e);return this._mime=e,this},e.prototype.json=function(e){return Boolean(e)?this.body(e).mime(r.MimeType.json):this.mime(r.MimeType.json)},e.prototype.preserveUrl=function(){return this._preserveUrl=!0,this},e.prototype.build=function(){if(!this._url||0===this._url.length)throw new Error("URL cannot be empty");if(this._preserveUrl||(this._url=this._url.replace(/\/$/,"")),"".concat(this._queryParams).length>0&&(this._url+="?"+this._queryParams),this._body instanceof URLSearchParams){if(Boolean(this._mime)&&this._mime!==r.MimeType.form)throw new Error("Only application/x-www-form-urlencoded can be used for form requests, don't specify it mandatory in mime() method");this._mime=r.MimeType.form}else if(this._body instanceof a&&Boolean(this._mime)&&this._mime!==r.MimeType.multipart)throw new Error("Only multipart/form-data can be used for multipart form data requests, don't specify it mandatory in mime() method");if(this._mime===r.MimeType.json&&Boolean(this._body)&&(this._body=JSON.stringify(this._body)),!Boolean(this._method))throw new Error("HTTP method was not set");if(this._method=this._method,this._method===h.Method.GET&&Boolean(this._body))throw new Error("Body is not supported for GET");if(Boolean(this._mime)&&(this._headers["Content-Type"]=this._mime),this._cookies.length>0){this._headers.Cookie=this._cookies.join("; ")}return new h(this._url,this._method,this._headers,Boolean(this._mime)?this._mime:null,this._body)},e}();!function(e){!function(e){e.identity=function(e){return o.task.of(e)},e.compose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return t.reduce(o.task.chain,e.identity(n))}}}(e.Extender||(e.Extender={}))}(m||(m={}))},67394:(e,t,n)=>{n.d(t,{JJ:()=>i,JU:()=>r,r3:()=>o});var r,i,o,s=n(59312),a=n(71249),u=n(45614),c=n(57050),l=n(40327),p=n(8709),f=n(73975),d=n(5114),h=n(22232),m=n(83078),g=n(95195),v=n(89943),y=n(26328),b=n(95574),x=n(81670),w=n(42040),_=n(36991),S=n(52226);!function(e){var t,n;!function(e){e.Important="important",e.Main="main",e.Optional="optional"}(t=e.Type||(e.Type={})),function(e){e.OptionalContext="optional_context"}(n=e.TypeExt||(e.TypeExt={}));var r=function(e){return"object"==typeof e&&null!==e};e.eqAttributes=u.Eh(f.f7((function(t,n){return r(t)&&r(n)?e.eqAttributes.equals(t,n):f.w4.equals(t,n)}))),e.eq=f.MW({type:f.w4,group:d.getEq(f.yv),insert:f.yv,delete:f.lr,retain:f.lr,attributes:e.eqAttributes}),e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&i(t.insert)},e.isInsertGap=function(t){return e.isInsert(t)&&o(t.insert)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.isOptionalContextRetain=function(t){return"retain"in t&&e.isOptionalContextType(t.type)};var i=function(e){return"string"==typeof e},o=function(e){return"object"==typeof e&&null!==e&&"gap"in e};e.isMain=function(t){return t.type===e.Type.Main},e.isOptionalType=function(t){return t===e.Type.Optional},e.isOptionalContextType=function(t){return t===e.TypeExt.OptionalContext},e.isSignificant=function(e){switch(e.type){case t.Main:case t.Important:return!0;case t.Optional:return!1;default:return(0,h.vE)(e.type)}},e.fromRawAbsAlternative=function(e){if(a=e.ops,u=a[0],Boolean(u)&&"retain"in u&&Boolean(u.attributes)&&"optional_context"===u.attributes.type){var t=e.ops,r=t[0],i=t.slice(1),o={retain:r.retain,type:n.OptionalContext,group:d.none};return(0,s.ev)([o],i.map(g),!0)}return e.ops.map(g);var a,u},e.length=p.i.Op.length,e.anonymize=function(t){return e.isInsert(t)?(0,s.pi)((0,s.pi)({},t),{insert:"string"==typeof t.insert?"<".concat(e.length(t),">"):"<embed>"}):t};var a=function(){function n(e){this.ops=e,this.index=0,this.offset=0}return n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(n){Boolean(n)||(n=1/0);var r=this.ops[this.index];if(Boolean(r)){var i=r.type,o=this.offset,s=e.length(r);return n>=s-o?(n=s-o,this.index+=1,this.offset=0):this.offset+=n,e.isDelete(r)?{delete:n,type:i,group:r.group}:e.isRetain(r)?{retain:n,type:i,group:r.group,attributes:!e.isOptionalContextType(i)&&r.attributes}:e.isInsertString(r)?{insert:r.insert.substr(o,n),type:i,group:r.group,attributes:r.attributes}:r}return{retain:1/0,type:t.Optional,group:d.none,attributes:{}}},n.prototype.peekLength=function(){return Boolean(this.ops[this.index])?e.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return Boolean(this.ops[this.index])?e.isDelete(this.ops[this.index])?"delete":e.isRetain(this.ops[this.index])?"retain":"insert":"retain"},n}();e.Iterator=a;var m=(0,c.ls)(d.fromNullable,d.map(u.EG("type")),d.map(u.EG("group")),d.getOrElse((function(){return{}}))),g=function(e){var n,r=function(e){if(null!=(null==e?void 0:e.type))switch(e.type){case"main":return t.Main;case"important":return t.Important;default:return(0,h.vE)(e.type)}return t.Optional}(e.attributes),i=(n=e.attributes,(0,l.pipe)(d.fromNullable(n),d.chain((function(e){return d.fromNullable(e.group)}))));return"insert"in e?{insert:e.insert,type:r,group:i,attributes:m(e.attributes)}:"delete"in e?{delete:e.delete,type:r,group:i}:{retain:e.retain,type:r,group:i,attributes:m(e.attributes)}}}(r||(r={})),function(e){e.fromAlternative=function(e){var t=e.alternative,n=e.fullText;return(0,l.pipe)(t.delta.invert(n),o.fromRawDelta)},e.fromAlternativeBoldified=function(t){var n=t.alternative,r=t.fullText,i=(0,l.pipe)(n.delta.map(_.s.match((function(e){return(0,l.pipe)(e,d.fromPredicate(_.s.isInsertString),d.chain((function(e){return(0,l.pipe)(d.fromNullable(e.attributes),d.map((function(t){return{attributes:t,retain:e.insert.length}})))})),d.filter((function(e){var t=e.attributes;return Boolean(t.bold)})),d.map((function(e){return{retain:e.retain,attributes:{bold:!1}}})))}),(function(e){return d.none}),(function(e){return d.some({retain:e.retain})}))),a.oA,(function(e){return new p.i(e)}),(function(e){return r.compose(e)}));return e.fromAlternative({alternative:n,fullText:i})},e.fromAlternativeListified=function(t){var n=t.alternative,r=t.fullText;return(0,l.pipe)(e.fromAlternative({alternative:n,fullText:r}),(function(e){return(0,l.pipe)(e.delta.ops,a.qr((function(e){return _.s.isInsertString(e)&&"\n"===e.insert&&Boolean(!e.attributes||!Boolean(e.attributes.list))})),d.map((function(t){var n=e.delta.ops,r=n[t];return new p.i((0,s.ev)((0,s.ev)((0,s.ev)([],n.slice(0,t),!0),[(0,s.pi)((0,s.pi)({},r),{attributes:(0,s.pi)((0,s.pi)({},r.attributes),{list:!1})})],!1),n.slice(t+1),!0))})),d.getOrElse((function(){return e.delta})))}),o.fromRawDelta)}}(i||(i={})),function(e){var t;function n(e){return function(t){return r.isInsertGap(t)?(0,s.pi)((0,s.pi)({},t),{insert:e}):t}}function i(e){return new o(e)}e.hasOptionalContext=function(e){return Boolean(e[0])&&r.isOptionalContextRetain(e[0])},function(e){e.Insert="insert",e.Remove="remove",e.Substitution="substitution"}(t=e.Type||(e.Type={})),function(e){function t(t){return t.type===r.Type.Main?d.some(r.isInsert(t)?e.Insert:e.Remove):d.none}e.eq=f.yv,e.fromOperation=t,e.semigroup={concat:function(t,n){switch(t){case e.Insert:return n===e.Remove?e.Substitution:n;case e.Remove:return n===e.Insert?e.Substitution:n;case e.Substitution:return e.Substitution;default:return(0,h.vE)(t)}}},e.monoid=d.getMonoid(e.semigroup),e.parse=(0,a.Lx)(e.monoid)(t)}(t=e.Type||(e.Type={})),e.eq=f.MW({lengthAffected:f.lr,type:d.getEq(t.eq),ops:(0,a.Eh)(r.eq)}),e.fromRawDelta=(0,c.ls)(S.e.AbsAlternative.unsafeFromDelta,r.fromRawAbsAlternative,i),e.fillGaps=function(t,r){return e.hasOptionalContext(t.ops)?i((0,s.ev)([t.ops[0]],t.ops.slice(1).map(n(r)),!0)):i(t.ops.map(n(r)))},e.dismissTransformGroups=function(t,n){var o=a.DZ((function(e){return(0,l.pipe)(e.group,d.filter((function(e){return n.has(e)})),d.fold((function(){return d.some(e)}),(function(){return function(e){return r.isDelete(e)?d.some({type:e.type,group:e.group,retain:e.delete,attributes:{}}):r.isInsert(e)?d.none:d.some(e)}(e)})))}));if(e.hasOptionalContext(t.ops)){var u=t.ops,c=u[0],p=u.slice(1);return i((0,s.ev)([c],(0,l.pipe)(p,o),!0))}return i((0,l.pipe)(t.ops,o))},e.getTransformGroups=function(e){var t=new Set;return e.ops.forEach((function(e){return(0,l.pipe)(e.group,m.bw((function(e){return t.add(e)})))})),t},e.getDeleteOpsGroupsList=function(e){return(0,l.pipe)(e.ops.filter(r.isDelete),a.UI((function(e){return e.group})),a.oA)},e.create=i,e.validate=(0,c.ls)((function(e){return e.ops}),g.DT(v.sq(r.isOptionalContextRetain),(function(e){return"Optional_context operations exist not only at the beginning or at the end of Delta"}))),function(t){t.fromSerialized=function(t){return{context:t.context,alternatives:(0,l.pipe)(t.alternatives,y.UI((function(e){return e.ops})),y.UI(e.create))}},t.fromSubalerts=function(e,t){return{context:e,alternatives:y.UI((0,c.ls)(r.fromRawAbsAlternative,i))(t)}},t.fromRawTransform=function(e){return{context:y.of(e.context),alternatives:y.UI((0,c.ls)(r.fromRawAbsAlternative,i))(e.alternatives)}},t.rebase=function(e){return function(t){return{context:(0,l.pipe)(t.context,y.UI((function(t){return{s:e.transformPosition(t.s,!0),e:e.transformPosition(t.e,!0)}}))),alternatives:(0,l.pipe)(t.alternatives,y.UI((function(t){return(0,l.pipe)(t.rebase(e),d.fold((function(){return t}),c.yR))})))}}},t.copy=function(e){return{context:y.JG(e.context),alternatives:y.JG(e.alternatives)}}}(e.Group||(e.Group={}));var o=function(){function n(e){this.ops=e,this.type=t.parse(this.ops),this.lengthAffected=_.s.calcAffectedLength(this)}return n.prototype.rebase=function(e){var t=e.ops[0];if(!Boolean(t)||_.s.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&p.i.Op.length(t)>this.lengthAffected)return d.some(this);var n=this.ops.length>=2&&_.s.isDelete(this.ops[this.ops.length-2])&&_.s.isInsert(this.ops[this.ops.length-1]);return!Boolean(t)||n&&_.s.isRetain(t)&&(void 0===t.attributes||0===Object.keys(t.attributes).length)&&p.i.Op.length(t)===this.lengthAffected?d.some(this):this._internalRebase(e)},n.prototype._internalRebase=function(t){for(var i=this,o=p.i.Op.iterator(t.ops),s=new r.Iterator(this.ops),a=d.some(new n([])),u=!1;s.hasNext();)if("insert"===o.peekType()){if(u&&(0,l.pipe)(a,m.wo((function(e){return e.ops[e.ops.length-1].type===r.Type.Main}))))return d.none;var c=p.i.Op.length(o.next()),f=(0,l.pipe)(a,d.map((function(e){return e.ops[e.ops.length-1]})),m.MH);if(u&&m.wo((function(e){return e.lengthAffected>0}))(a)){var h={retain:c,type:f.type,group:f.group,attributes:"attributes"in f&&!r.isOptionalContextType(f.type)?f.attributes:{}};a=n._pushOp(a,h)}else a=n._pushOp(a,{retain:c,type:r.Type.Optional,group:d.none,attributes:{}})}else if("insert"===s.peekType()){var g=s.next();if(g.type===r.Type.Main&&"delete"===o.peekType()&&o.offset>0)return d.none;a=n._pushOp(a,g)}else{var v=Math.min(o.peekLength(),s.peekLength()),y=o.next(v),b=s.next(v);_.s.isDelete(y)||(u=s.offset>0,a=n._pushOp(a,r.isDelete(b)?b:r.isOptionalContextType(b.type)?{retain:v,type:r.TypeExt.OptionalContext,group:d.none}:{retain:v,type:b.type,group:b.group,attributes:b.attributes}))}return(0,l.pipe)(a,d.map((function(t){return t.type=e.Type.parse(i.ops),t})))},n._pushOp=function(e,t){return(0,l.pipe)(e,d.chain((function(e){return(0,l.pipe)(b.vM((function(){return e._push(t)})),g.Vn((function(e){return w.C8.Logging.getLogger("Alternative").error("Alternative push error",e),e})),d.fromEither)})))},n.prototype._push=function(e){var t=this.ops.length,n=this.ops[t-1];if(Boolean(n)){if(r.isOptionalContextRetain(e))return r.isOptionalContextRetain(n)?n.retain+=e.retain:r.isRetain(n)&&t<=2?2===t?((0,h.kG)(r.isOptionalContextRetain(this.ops[0]),"OptionalContext is expected in the beginning of alternative but not found",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.ops[0].retain+=e.retain):(this.ops[t]=n,this.ops[t-1]=e):(0,h.kG)(r.isOptionalContextRetain(n)||r.isRetain(n)&&1===t,"Attempted to push optional_context in the middle of alternative ops",JSON.stringify({ops:this.ops,newOp:e,index:t})),this.lengthAffected+=e.retain,this;if(r.isDelete(e)&&r.isDelete(n))return e.type===n.type?n.delete+=e.delete:this.ops.push(e),this.lengthAffected+=e.delete,this;if(r.isInsert(e)&&r.isInsert(n))return e.type===n.type&&"string"==typeof e.insert&&"string"==typeof n.insert&&r.eqAttributes.equals(e.attributes,n.attributes)?n.insert+=e.insert:this.ops.push(e),this;if(r.isRetain(e)&&r.isRetain(n))return e.type===n.type?n.retain+=e.retain:this.ops.push(e),this.lengthAffected+=e.retain,this;this.ops.push(e)}else this.ops=[e];return r.isInsert(e)||(this.lengthAffected+=r.length(e)),this},Object.defineProperty(n.prototype,"delta",{get:function(){return _.s.normalizeDelta(new p.i(this))},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return{ops:this.ops}},n}();e.compose=function(e,t){var n={composedDelta:new p.i,currentFullText:t,reversedAlternatives:[]},r=e.reduce((function(e,t,n){var r=t[0],i=t[1];return(0,l.pipe)(r.rebase(e.composedDelta),d.fold((function(){e.reversedAlternatives.push(g.t$({error:new Error("Could not rebase alternative to composed delta"),delta:r.delta,alternativeIndex:n}))}),(function(t){var r=i({alternative:t,fullText:e.currentFullText});e.composedDelta=e.composedDelta.compose(t.delta),e.currentFullText=e.currentFullText.compose(t.delta),function(e,t){e.forEach((function(n,r){return(0,l.pipe)(n,g.g_(c.Q1,(function(n){e[r]=(0,l.pipe)(n.reversedAlternative.rebase(t.delta),g.Yo((function(){return{error:new Error("Could not rebase reversed alternative to some alternative"),delta:n.reversedAlternative.delta,alternativeIndex:n.alternativeIndex}})),g.UI((function(e){return(0,s.pi)((0,s.pi)({},n),{reversedAlternative:e})})))})))}))}(e.reversedAlternatives,t),e.reversedAlternatives.push(g.F2({reversedAlternative:r,alternativeIndex:n}))}))),e}),n),i=(0,l.pipe)(r.reversedAlternatives,a.oh,x.T.fromSeparatedArray);return(0,s.pi)((0,s.pi)({},r),{reversedAlternatives:i})},e.withoutOptionalOps=function(t){return e.create(t.filter((function(e){return!r.isOptionalType(e.type)})))}}(o||(o={}))},63513:(e,t,n)=>{n.d(t,{lB:()=>b,PZ:()=>S,DI:()=>k,_l:()=>U,Q1:()=>D,F2:()=>m,_Y:()=>N,VD:()=>R,hD:()=>ae,rP:()=>G,JG:()=>g,vv:()=>oe,H5:()=>f,P2:()=>C,y_:()=>O,fA:()=>I,jK:()=>w,Wk:()=>_,e3:()=>L,nw:()=>M,Kd:()=>j,KX:()=>E,JW:()=>h,Mw:()=>P,N_:()=>z,wQ:()=>x,Vm:()=>y,JE:()=>B,at:()=>A,KI:()=>T});var r={};n.r(r),n.d(r,{ErrorKind:()=>i,MessageStartSessionEntryPoint:()=>o});var i,o,s=n(59312),a=n(71249),u=n(57050),c=n(40327),l=n(69243);!function(e){e.Generic="generic",e.Overflow="overflow",e.PromptsLimitExceeded="promptsLimitExceeded",e.SensitiveContent="sensitiveContent",e.ServerOverloaded="serverOverloaded",e.UnsupportedLanguage="unsupportedLanguage"}(i||(i={})),function(e){e.Ideation="ideation",e.QuickReply="quickReply",e.QuickRewrite="quickRewrite",e.Rewrite="rewrite"}(o||(o={}));var p,f,d,h,m,g,v,y,b,x,w,_,S,C,k,E,O,I,T,A,P,R,N,D,B,U,j,M,L,G,z,F=n(5114),V=n(26328),$=n(55415),Z=n(89943),H=n(8125),W=n(95574),K=n(3893),q=n(95195),Y=n(83078),X=n(22232),Q=n(42040),J=n(36991),ee=n(8709),te=n(67394),ne=n(80800),re=n(52226);p||(p={}),function(e){e.empty=[],e.isLeaf=function(e){return 0===e.length},e.Tree=l.sH("Tree",(function(){return l.IX(l.bc([l.pk,e.Tree]))}))}(f||(f={})),function(e){!function(e){e.sales_crm="sales_crm",e.sales_engagement="sales_engagement",e.sales_enablement="sales_enablement",e.marketing_email_automation="marketing_email_automation",e.marketing_content="marketing_content",e.customer_service="customer_service",e.customer_surveys_surveys="customer_surveys_surveys",e.recruiting="recruiting",e.training_learning="training_learning",e.project_management="project_management",e.legal="legal",e.contractors="contractors",e.human_resources="human_resources",e.email="email",e.business_chat="business_chat"}(e.DomainCategory||(e.DomainCategory={}))}(d||(d={})),function(e){!function(e){e.InQuotes="InQuotes"}(e.SpecialCategory||(e.SpecialCategory={})),function(e){e.GLOBAL="GLOBAL",e.SESSION="SESSION",e.DOCUMENT="DOCUMENT"}(e.ScopeType||(e.ScopeType={})),function(e){e.MUTED_BY_USER="MUTED_BY_USER",e.NOT_ELIGIBLE_FOR_INLINE="NOT_ELIGIBLE_FOR_INLINE",e.NOT_MUTED="NOT_MUTED"}(e.MutedByType||(e.MutedByType={}))}(h||(h={})),function(e){!function(e){e.NOT_RELEVANT="NOT_RELEVANT",e.WRONG_TONE="WRONG_TONE",e.INCORRECT="INCORRECT",e.WRONG_GRAMMAR="WRONG_GRAMMAR",e.OFFENSIVE="OFFENSIVE",e.OTHER="OTHER"}(e.SuggestionRejectionReason||(e.SuggestionRejectionReason={}))}(m||(m={})),function(e){e.mock={bundle:"Test bundle",bundleRank:10,group:"Test Group",rank:1,outcome:"Correctness"}}(g||(g={})),function(e){function t(e){return function(t){return{s:e.s+t.s,e:e.s+t.e,type:t.type}}}function n(e,t){return void 0===t&&(t=!1),0===e.s?u.MZ:function(n){return(0,u.MZ)({ops:(0,s.ev)([{retain:e.s,attributes:t?void 0:{type:re.e.Edit.TypeExt.OPTIONAL_CONTEXT}}],n.ops,!0)})}}e.prependContextToHighlight=t,e.prependContext=n,e.toAbs=function(e){return b.create({highlights:e.highlights.map(t(e.context)),alternatives:(0,c.pipe)(e,F.fromPredicate((function(e){return void 0!==e.alternatives&&e.alternatives.length>0})),F.map((function(e){return(0,s.pi)((0,s.pi)({},e),{alternatives:V.UI(n(e.context))(e.alternatives)})})),F.map(te.r3.Group.fromRawTransform))})}}(v||(v={})),function(e){var t,n;!function(e){e.create=function(e){return e.toString()}}(t=e.Id||(e.Id={})),function(e){e.rebase=function(e,t){var n=t.transformPosition(e.begin,!0),r=t.transformPosition(e.end,!0),i=(new ee.i).insert(e.text).compose(t.slice(e.begin)).reduce((function(e,t){return J.s.isInsert(t)?"".concat(e).concat(t.insert):e}),"").slice(0,r-n);return(0,s.pi)((0,s.pi)({},e),{begin:n,end:r,text:i})},e.isSquashed=function(e){return e.begin>=e.end},e.fromAttentionHeatmapMessage=function(e){return(0,s.pi)((0,s.pi)({},e),{id:t.create(e.id)})}}(n=e.Range||(e.Range={})),e.fromAttentionHeatmapMessage=function(e){return(0,s.pi)((0,s.pi)({},e),{add:e.add.map(n.fromAttentionHeatmapMessage),update:e.update.map(n.fromAttentionHeatmapMessage),remove:e.remove.map(t.create),attentionScore:(0,c.pipe)(e,F.fromPredicate(ne.v0.AttentionHeatmap.hasAttentionInfo),F.map($.ei("attentionScore"))),showAttentionCard:(0,c.pipe)(e,F.fromPredicate(ne.v0.AttentionHeatmap.hasAttentionInfo),F.map($.ei("showAttentionCard")))})}}(y||(y={})),function(e){e.create=function(e){return e},e.isSquashed=function(e){return e.highlights.some(re.e.Range.isEmpty)},e.isValidAfterTransform=function(e,n){var r=t(e),i=t(n);return Boolean(Z.Hx(r.highlights,i.highlights,(function(e,t){return e.e-e.s==t.e-t.s})))&&Z.Hx(r.alternatives,i.alternatives,(function(e,t){return Z.Hx(e.ops.filter((0,H.ff)(J.s.isRetain)),t.ops.filter((0,H.ff)(J.s.isRetain)),J.s.isEqual((function(){return!0})))}))},e.rebase=function(t,n){return e.create({highlights:t.highlights.map((function(e){return{s:n.transformPosition(e.s,!0),e:n.transformPosition(e.e,!0),type:e.type}})),alternatives:(0,c.pipe)(t.alternatives,F.map(te.r3.Group.rebase(n)))})};var t=function(e){return{highlights:e.highlights,alternatives:(0,c.pipe)(e.alternatives,F.fold((function(){return[]}),(function(e){return e.alternatives.map((function(e){return e.delta}))})))}}}(b||(b={})),function(e){var t,n,r;function i(e){return void 0===e.drilldownTree&&void 0===e.knowledgeHubSuggestCorrectionUrl&&void 0===e.knowledgeHubRelatedMaterials&&void 0===e.knowledgeHubPointPeople?e:(0,s.pi)((0,s.pi)({},e),{drilldownTree:void 0===e.drilldownTree?void 0:(0,c.pipe)(e.drilldownTree,(function(e){return"object"==typeof e?e:JSON.parse(e)}),f.Tree.decode,W.MH),knowledgeHubRelatedMaterials:void 0===e.knowledgeHubRelatedMaterials?void 0:"object"==typeof e.knowledgeHubRelatedMaterials?e.knowledgeHubRelatedMaterials:JSON.parse(e.knowledgeHubRelatedMaterials),knowledgeHubPointPeople:void 0===e.knowledgeHubPointPeople?void 0:"object"==typeof e.knowledgeHubPointPeople?e.knowledgeHubPointPeople:JSON.parse(e.knowledgeHubPointPeople)})}function o(e,t){(0,c.pipe)(e.ops,a.Ew((function(e){return J.s.isInsert(e)&&(0,c.pipe)(J.s.getAttr(e,"type"),F.exists((function(e){return e===re.e.Edit.Type.MAIN})))&&"string"==typeof e.insert})),F.map((function(e){var n=e.insert;return t(n)})))}function u(e){return function(t){return t===h.SpecialCategory.InQuotes&&"true"===e.extra_properties.in_quotes}}function l(e){return!d(e)&&!m(e)}function p(e){return void 0!==e.begin&&void 0!==e.end&&void 0!==e.highlightBegin&&void 0!==e.highlightEnd}function d(e){return void 0!==e.cardLayout&&void 0!==e.transformJson}function m(e){return"labels"in e&&"subalerts"in e}function g(e,t,n,r){return l(e)?t(e):d(e)?n(e):r(e)}!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={})),function(e){e.Critical="critical",e.Advanced="advanced"}(t=e.Impact||(e.Impact={})),function(e){e.all="all",e.priority="priority"}(n=e.View||(e.View={})),function(e){e.inline="inline",e.not_inline="not_inline"}(r=e.Inline||(e.Inline={})),e.parseExtraProperties=i,e.fromAlertMessage=function(t){return Object.assign({},t,(0,s.pi)({id:e.Id.create(t.id),cost:Boolean(t.cost)?t.cost:1,extra_properties:i(t.extra_properties)},t.transformJson?{transformJson:v.toAbs(t.transformJson),highlightText:[t.highlightText]}:(0,c.pipe)(K.kP(t.subalerts),F.fold((function(){return{highlightText:[t.highlightText]}}),(function(e){return(0,c.pipe)(function(e,t){return(0,c.pipe)(t,F.fold((function(){return q.t$(new Error("Got corrupted superalert — the labels are missing"))}),(function(t){return function(e,t){if(e.length<2)return q.t$(new Error("There should be more than one subalert, got "+e.length));var n=t.map((function(e){return{matches:0,replacements:new Set,label:e}})),r=n.reduce((function(e,t){return e[t.label]=t,e}),{}),i=K.kP(e[0].transformJson.alternatives);if(n.length>0&&Boolean(F.isNone(i))||!Boolean((0,c.pipe)(i,Y.wo((function(e){return n.length===e.length})))))return q.t$(new Error("Alternatives array length must match labels array length"));for(var a=(0,c.pipe)(i,F.map(V.Su((function(t,r){return o(r,(function(e){return n[t].replacements.add(e)})),v.prependContext(e[0].transformJson.context)(r)}))),F.map((function(t){return r[e[0].label].matches+=1,[V.of(e[0].transformJson.context),t]}))),u=e[0].transformJson.highlights.map(v.prependContextToHighlight(e[0].transformJson.context)),l=[e[0].highlightText],p=function(t){var i=e[t];if(n.length>0){if(void 0===i.transformJson.alternatives)return{value:q.t$(new Error("The alternatives are missing from subalert, expected length: ".concat(n.length)))};if(i.transformJson.alternatives.length!==n.length)return{value:q.t$(new Error("Subalert has incorrect alternatives length: expected ".concat(n.length,", got ").concat(i.transformJson.alternatives.length)))}}a=(0,c.pipe)(a,F.map((function(e){var t=e[0],s=e[1];r[i.label].matches+=1,t.push(i.transformJson.context);for(var a=function(e){var t=i.transformJson.alternatives[e];o(t,(function(t){return n[e].replacements.add(t)})),s[e]=(0,c.pipe)(new ee.i(s[e]),(function(e){return e.compose(e.transform(new ee.i(v.prependContext(i.transformJson.context,!0)(t)),!0))}),re.e.AbsAlternative.unsafeFromDelta)},u=0;u<s.length;u++)a(u);return[t,s]}))),u.push.apply(u,i.transformJson.highlights.map(v.prependContextToHighlight(i.transformJson.context))),l.push(i.highlightText)},f=1;f<e.length;f++){var d=p(f);if("object"==typeof d)return d.value}return q.F2({subalerts:b.create({alternatives:(0,c.pipe)(a,F.map((function(e){var t=e[0],n=e[1];return te.r3.Group.fromSubalerts(t,n)}))),highlights:u}),labels:n.map((function(e){var t=e.replacements,n=(0,s._T)(e,["replacements"]);return(0,s.pi)((0,s.pi)({},n),{replacementTexts:Array.from(t)})})),highlightText:l})}(e,t)})))}(e,F.fromNullable(t.labels)),q.fS((function(e){return Q.C8.Logging.getLogger("coreclients.capi.data").error("Error repacking superalert",e),{highlightText:[]}})))})))))},e.isFullSentence=function(e){return"true"===e.full_sentence_rewrite||"true"===e.full_sentence_fluency_rewrite},e.belongsToAnySpecialCategory=function(e){var t=u(e);return-1!==Object.values(h.SpecialCategory).findIndex(t)},e.belongsToSpecialCategory=u,e.withPosition=l,e.hasPosition=p,e.withTransformJson=d,e.withAlternatives=function(e){return d(e)&&F.isSome(e.transformJson.alternatives)},e.withSubalerts=m,e.match=g,e.matchBy=function(e,t,n){return function(r){return g(r,e,t,n)}},function(e){function t(e){return e.end-e.begin}function n(e){return e.highlightEnd-e.highlightBegin}e.shift=function(e,t){return{begin:e.begin+t,end:e.end+t,highlightBegin:e.highlightBegin+t,highlightEnd:e.highlightEnd+t}},e.rebase=function(e,t){return{begin:t.transformPosition(e.begin,!0),end:t.transformPosition(e.end,!0),highlightBegin:t.transformPosition(e.highlightBegin,!0),highlightEnd:t.transformPosition(e.highlightEnd,!0)}},e.getReplacementLength=t,e.getHighlightLength=n,e.isSquashed=function(e){return 0===t(e)||0===n(e)},e.hasEqualLength=function(e,r){return t(e)===t(r)&&n(e)===n(r)}}(e.Position||(e.Position={})),e.isPlagiarism=function(e){return void 0!==e.cardLayout&&"Originality"===e.cardLayout.outcome},e.isOneGap=function(e){return void 0!==e.extra_properties&&"gap_transform"in e.extra_properties},e.isTakeaway=function(e){return void 0!==e.extra_properties&&"takeawayScore"in e.extra_properties},e.hasDrilldownTree=function(e){return void 0!==e.extra_properties&&"drilldownTree"in e.extra_properties},e.isShortenIt=function(e){return void 0!==e.extra_properties&&"shorten_it"in e.extra_properties},e.isToneAI=function(e){return void 0!==e.extra_properties&&"tone_slider"in e.extra_properties},e.isEthicalAI=function(e){return void 0!==e.extra_properties&&"ethical_ai_external_link"in e.extra_properties},e.isCitationDetection=function(e){return void 0!==e.extra_properties&&"citation_detection"in e.extra_properties},e.isSuggestedSnippet=function(e){return void 0!==e.extra_properties&&"suggested_snippet_text"in e.extra_properties&&"suggested_snippet_lib_link"in e.extra_properties},e.isKnowledgeHubSuggestedTerm=function(e){return"KnowledgeHub/SuggestedTerm/SuggestedTerm"===e.pname},e.isHidden=function(e){return!0===e.hidden},e.isRawAlert=function(e){if(!Boolean(e))return!1;var t=e;return Number.isInteger(t.rev)&&g(t,(function(e){return Number.isInteger(e.begin)&&Number.isInteger(e.end)&&Number.isInteger(e.highlightBegin)&&Number.isInteger(e.highlightEnd)}),(function(e){return e.transformJson.highlights.length>0}),(function(e){return e.labels.length>0}))},e.mock={id:e.Id.create(""),rev:0,pname:"Spelling/BritishVsAmerican/BrInstOfAm/BrInstOfAm",group:"ContextualSpelling",point:"BrInstOfAm",category:"BritishVsAmerican",categoryHuman:"British vs American",hidden:!1,text:"centralise",todo:"correct",minicardTitle:"correct",title:"Inconsistent spelling",cost:1,transforms:["<span class='gr_grammar_del'>centralise</span>→<span class='gr_grammar_ins'>centralize</span>"],details:"<p>One of&nbsp;the most obvious differences between American and British English is&nbsp;the spelling of&nbsp;certain words such as&nbsp;<b>color/colour, learned/learnt,</b> and <b>toward/towards</b>. Typically, the spelling of&nbsp;words like these only varies by&nbsp;one or&nbsp;two letters. In&nbsp;the interest of&nbsp;consistency and clarity, you should use the spelling that will be&nbsp;more familiar to&nbsp;your intended audience.\n",explanation:"<p>The word <b>centralise</b> is&nbsp;a&nbsp;British English spelling. In&nbsp;the interest of&nbsp;consistency, consider replacing it&nbsp;with the American English spelling.\n",examples:'<p><span class="grey">British: I&nbsp;wish you success in&nbsp;all your endeavours.</span><br/><span class="grey">American: I&nbsp;wish you success in&nbsp;all your endeavors.</span><br/><p><span class="grey">British: Sweet yoghurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><span class="grey">American: Sweet yogurts contain a&nbsp;lot of&nbsp;sugar.</span><br/><p><span class="grey">British: Serena moved towards the blinking light.</span><br/><span class="grey">American: Serena moved toward the blinking light.</span><br/>',free:!0,impact:e.Impact.Critical,highlightBegin:5092,highlightEnd:5102,highlightText:[""],begin:5092,end:5102,replacements:["centralize"],extra_properties:{priority:"2"},cardLayout:{bundle:"Fix spelling and grammar",bundleRank:10,group:"Spelling",rank:10,outcome:"Correctness"},transformJson:b.create({highlights:[{s:5092,e:5102}],alternatives:F.none}),view:n.all,inline:r.inline},e.mockPlagiarism={id:e.Id.create(""),rev:0,transforms:[],title:"Citation audit",cost:1,details:"",explanation:"",examples:"",free:!1,impact:e.Impact.Advanced,hidden:!1,todo:"",minicardTitle:"",cardLayout:{bundle:"Plagiarism",bundleRank:10,group:"Unoriginal content",rank:0,outcome:"Originality"},category:"Plagiarism",categoryHuman:"Unoriginal content",begin:156,end:697,text:"",group:"Plagiarism",pname:"Plagiarism/Plagiarism/UnoriginalContent",point:"UnoriginalContent",highlightBegin:156,highlightEnd:697,highlightText:[""],replacements:[],extra_properties:{},transformJson:b.create({highlights:[{s:1,e:40}],alternatives:F.none}),view:n.all,inline:r.not_inline},e.mockWithSubalerts={id:e.Id.create(""),point:"Capitalization",title:"Inconsistent capitalization",details:"<p>For certain words, capitalization preferences can vary between style guides. <i>Internet</i> was once routinely capitalized, for example. However, in recent years many style guides have begun advising writers to lowercase the word: <i>internet</i>. Whether you choose to capitalize a particular term or not, it’s best to choose one style and use it consistently throughout the same document.\n",explanation:"<p>You wrote <b>Country</b> once and <b>country</b> twice. Both spellings are acceptable, but it’s best not to switch back and forth. Choose whether or not to capitalize this word throughout your text.\n",examples:'<p><span class="grey">Inconsistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>internet</b>. Education has changed because of the <b>internet</b>, too.</span><br/><span class="grey">Consistent: Office life was different before the <b>Internet</b>. Education has changed because of the <b>Internet</b>, too.</span><br/>',todo:"capitalize consistently",minicardTitle:"capitalize consistently",free:!1,hidden:!1,labels:[{label:"Country",matches:1,replacementTexts:["Country"]},{label:"country",matches:2,replacementTexts:["country"]}],highlightText:["Country","country"],cost:1,subalerts:b.create({highlights:[{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],alternatives:F.some(te.r3.Group.fromSubalerts([{s:144,e:162},{s:755,e:778},{s:1458,e:1481}],[re.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:re.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:re.e.Edit.Type.MAIN}},{insert:"Country",attributes:{type:re.e.Edit.Type.MAIN}}]}),re.e.AbsAlternative.unsafeFromDelta({ops:[{retain:144,attributes:{type:re.e.Edit.TypeExt.OPTIONAL_CONTEXT}},{delete:7,attributes:{type:re.e.Edit.Type.MAIN}},{insert:"country",attributes:{type:re.e.Edit.Type.MAIN}}]})]))}),category:"Inconsistency",text:"",group:"Style",pname:"Style/Inconsistency/Capitalization/Capitalization",rev:0,replacements:[],impact:t.Advanced,extra_properties:{priority:"4"},cardLayout:{bundle:"Keep your style consistent",bundleRank:10,group:"Consistency",rank:160,outcome:"Correctness"},categoryHuman:"Text Inconsistencies",updatable:!0,view:n.all,inline:r.not_inline},e.clearUserTextFields=function(e){var t=e;return t.text,t.replacements,t.highlightText,t.transformJson,t.transforms,t.details,t.explanation,t.examples,(0,s._T)(t,["text","replacements","highlightText","transformJson","transforms","details","explanation","examples"])},e.unsafeGetPosition=function(e){return(0,X.kG)(p(e),"raw alert should have a position"),e},e.unsafeGetTransformJson=function(e){return(0,X.kG)(d(e),"raw alert should have transformJson"),e}}(x||(x={})),function(e){e.NOT_AUTHORIZED="not_authorized",e.SESSION_NOT_INITIALIZED="session_not_initialized",e.BAD_REQUEST="bad_request",e.BACKEND_ERROR="backend_error",e.AUTH_ERROR="auth_error",e.RUNTIME_ERROR="runtime_error",e.ILLEGAL_DICT_WORD="illegal_dict_word",e.TIMEOUT="timeout",e.CANNOT_FIND_SYNONYM="cannot_find_synonym",e.CANNOT_GET_TEXT_STATS="cannot_get_text_stats",e.GB_RULE_ERROR="gb_rule_error"}(w||(w={})),function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN",e[e.ERROR=2]="ERROR"}(_||(_={})),function(e){e.IGNORE="IGNORE",e.ADD_TO_DICTIONARY="ADD_TO_DICTIONARY",e.LOOKED="LOOKED",e.ACCEPTED="ACCEPTED",e.CLOSED="CLOSED",e.ACKNOWLEDGED="ACKNOWLEDGED",e.HIDE="HIDE",e.LIKE="LIKE",e.DISLIKE="DISLIKE",e.WRONG_SUGGESTION="WRONG_SUGGESTION",e.OFFENSIVE_CONTENT="OFFENSIVE_CONTENT",e.EXPANDED="EXPANDED",e.IGNORE_BULK_ACCEPTED="IGNORE_BULK_ACCEPTED"}(S||(S={})),function(e){e.DRILLDOWN="DRILLDOWN"}(C||(C={})),function(e){e.BULK_ACCEPTED="BULK_ACCEPTED"}(k||(k={})),function(e){e.LENS_CLOSE="LENS_CLOSE",e.LENS_OPEN="LENS_OPEN",e.DISMISS_BY_LENS="DISMISS_BY_LENS"}(E||(E={})),function(e){e.EMOTION_LIKE="EMOTION_LIKE",e.EMOTION_DISLIKE="EMOTION_DISLIKE",e.EMOTION_OFFENSIVE="EMOTION_OFFENSIVE"}(O||(O={})),function(e){e.EMOTION_SENTENCE_LIKE="EMOTION_SENTENCE_LIKE",e.EMOTION_SENTENCE_DISLIKE="EMOTION_SENTENCE_DISLIKE"}(I||(I={})),function(e){e.RECHECK_SHOWN="RECHECK_SHOWN"}(T||(T={})),function(e){e.SYNONYM_ACCEPTED="SYNONYM_ACCEPTED",e.SYNONYM_DISMISSED="SYNONYM_DISMISSED"}(A||(A={})),function(e){e.MUTE="MUTE",e.UNMUTE="UNMUTE"}(P||(P={})),function(e){e.AUTOCORRECT_ACCEPT="AUTOCORRECT_ACCEPT",e.AUTOCORRECT_DISMISS="AUTOCORRECT_DISMISS",e.AUTOCORRECT_REPLACE="AUTOCORRECT_REPLACE"}(R||(R={})),function(e){e.COMPLETION_SHOWN="COMPLETION_SHOWN",e.COMPLETION_IGNORED="COMPLETION_IGNORED",e.COMPLETION_ACCEPTED="COMPLETION_ACCEPTED",e.COMPLETION_REJECTED="COMPLETION_REJECTED"}(N||(N={})),function(e){e.AUTOAPPLY_TRIGGERED="AUTOAPPLY_TRIGGERED",e.AUTOAPPLY_LOOKED="AUTOAPPLY_LOOKED",e.AUTOAPPLY_REVERTED="AUTOAPPLY_REVERTED"}(D||(D={})),function(e){e.SNIPPET_ACCEPTED="SNIPPET_ACCEPTED"}(B||(B={})),function(e){e.ASSISTANT_OPENED="ASSISTANT_OPENED"}(U||(U={})),function(e){e.ACCEPTED="ACCEPTED",e.DISMISSED="DISMISSED"}(j||(j={})),function(e){e.willRemoveAlert=function(e){return e===S.IGNORE||e===S.OFFENSIVE_CONTENT||e===S.WRONG_SUGGESTION||e===S.ADD_TO_DICTIONARY||e===S.LIKE||e===S.DISLIKE||e===S.ACKNOWLEDGED||e===S.HIDE}}(M||(M={})),function(e){e.Inline="inline",e.Hover="hover",e.Click="click",e.SidebarPriority="sidebar-priority",e.Sidebar="sidebar"}(L||(L={})),function(e){e.Context="context",e.GnarContainerId="gnar_containerId"}(G||(G={})),function(e){e.likelyToBeReadTakeaway="LikelyToRead",e.unlikelyToBeReadTakeaway="NotLikelyToRead"}(z||(z={}));var ie,oe,se,ae=300;!function(e){e.generatePoints=function(e,t,n){var r=function(e,t){return Math.max(Math.trunc(e/t),(0,H.TN)(e))};return Z.j6(r(e,2),(function(e){return Z.j6(r(t,3),(function(t){return{value:Math.random()*n,alertIds:[],footprint:"".concat(100*e+t)}}))}))}}(ie||(ie={})),function(e){e.AllowedFeature="CHEETAH",e.version="11.1.0",e.Schema=r}(oe||(oe={})),function(e){!function(e){e.create=function(e){return e.toString()}}(e.Id||(e.Id={}))}(se||(se={}))},80358:(e,t,n)=>{var r,i,o;n.d(t,{AF:()=>r,hX:()=>o,ld:()=>i}),function(e){e.NotFixed="NOT_FIXED"}(r||(r={})),function(e){e.isCheetahEvent=function(e){return"cheetah:chunk"===e.kind||"cheetah:result"===e.kind||"cheetah:setContext"===e.kind||"cheetah:error"===e.kind},e.isCheetahAck=function(e){return"cheetah:ack"===e.kind}}(i||(i={})),function(e){e.is=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return e===t.kind}))}},e.isUserFeedbackWithGeneralScore=function(e){var t;return Boolean(null===(t=e.outcomeScores)||void 0===t?void 0:t.GeneralScore)},e.isUserFeedbackWithScoreStatus=function(e){return Boolean(e.scoreStatus)}}(o||(o={}))},52226:(e,t,n)=>{n.d(t,{e:()=>r});var r,i=n(59312),o=n(57050),s=n(95195),a=n(5114),u=n(36991);!function(e){var t;!function(e){e.isEmpty=function(e){return e.e-e.s==0}}(e.Range||(e.Range={})),function(e){!function(e){e.MAIN="main",e.IMPORTANT="important"}(e.Type||(e.Type={})),function(e){e.OPTIONAL_CONTEXT="optional_context"}(e.TypeExt||(e.TypeExt={}))}(t=e.Edit||(e.Edit={})),function(e){function n(e){return(0,o.zG)(e.ops,a.fromPredicate((function(e){return-1===e.findIndex(n)})),a.fold((function(){return s.t$({ops:(t=e.ops,t.reduce((function(e,t,r){if(n(t,r)){var o=t.attributes,s=(o.type,(0,i._T)(o,["type"]));e.push((0,i.pi)((0,i.pi)({},t),{attributes:s}))}else e.push(t);return e}),[]))});var t}),(function(e){return s.F2({ops:e})})));function n(e,n){return n>0&&u.s.isRetain(e)&&void 0!==e.attributes&&e.attributes.type===t.TypeExt.OPTIONAL_CONTEXT}}e.unsafeFromDelta=function(e){return(0,o.zG)(e,n,s.g_(o.yR,o.yR))},e.fromDelta=n}(e.AbsAlternative||(e.AbsAlternative={}))}(r||(r={}))},36925:(e,t,n)=>{n.d(t,{E:()=>b,uY:()=>d});var r=n(59312),i=n(95195),o=n(45614),s=n(40327),a=n(69243),u=n(32687),c=n(55415),l=n(22232),p=n(99596),f=n(24153);function d(e){return"null"===e||"undefined"===e||null==e}function h(e){if(null===e||"null"===e||"boolean"==typeof e)return null;var t=Number(e);return Number.isNaN(t)?null:t}function m(e){return d(e)?null:"true"===e||"false"!==e&&"0"!==e&&Boolean(e)}function g(e){try{return JSON.parse(decodeURI(e))}catch(e){return null}}function v(e){try{return new Set(g(e))}catch(e){return null}}function y(e){try{return Object.entries(g(e)).reduce((function(e,t){var n=t[0],r=t[1];return e.set(n,r),e}),new Map)}catch(e){return null}}var b,x=function(){function e(e){this._value=e}return e.prototype.getStr=function(){return d(this._value)?null:String(this._value)},e.prototype.getNum=function(){return h(this._value)},e.prototype.getBool=function(){return m(this._value)},e.prototype.getBoolOrDefault=function(e){return function(e,t){return d(e)?t:"true"===e||"false"!==e&&"0"!==e&&Boolean(e)}(this._value,e)},e.prototype.getObject=function(){return g(this._value)},e.prototype.getArray=function(){return g(this._value)},e.prototype.getSet=function(){return v(this._value)},e.prototype.getMap=function(){return y(this._value)},e.prototype.getObjProp=function(e){return Boolean(this._value.hasOwnProperty(e))?this._value[e]:null},e}();!function(e){function t(e){return"object"==typeof e?(0,s.pipe)(JSON.stringify(e,(function(e,t){return t instanceof Set?Array.from(t):t instanceof Map?c.sq(t):t})),encodeURI):e}e.find=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.find((function(t){return t.has(e)}));return new x(r&&r[e])},e.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new _,i=0,o=e;i<o.length;i++){var s=o[i];for(var a in s){var u=s[a];r[a]=t(u)}}return r},e.is=function(e){return e instanceof _}}(b||(b={}));var w,_=function(){function e(){}return e.prototype.getStr=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.getNum=function(e){return this.hasOwnProperty(e)?h(this[e]):null},e.prototype.getBool=function(e){return this.hasOwnProperty(e)?m(this[e]):null},e.prototype.getObject=function(e){return this.hasOwnProperty(e)?g(this[e]):null},e.prototype.getSet=function(e){return this.hasOwnProperty(e)?v(this[e]):null},e.prototype.getMap=function(e){return this.hasOwnProperty(e)?y(this[e]):null},e.prototype.has=function(e){return this.hasOwnProperty(e)},e.prototype.ifPresent=function(e,t){Boolean(this[e])&&t(this[e])},e.prototype.entries=function(){var e=this;return Object.keys(this).map((function(t){return[t,new x(e[t])]}))},e.find=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t.find((function(t){return t.has(e)}));return new x(r&&r[e])},e}(),S=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=t,r.details=n,r.name="DapiPropertiesSerializationError",r}return(0,r.ZT)(t,e),t.prototype.toString=function(){return"DAPI properties serialization error\n      Message ".concat(this.message,"\n      Details ").concat(u.Rn(this.details))},t}(l.sH);function C(e){return w.fromProperties(e).decode(e)}function k(e){return new S("Serialization failed",e)}!function(e){var t=["{","}",";","="];e.property=new a.Dy("property",(function(e){return!0}),(function(e,n){var r=n[1].key,i=String(e);return i.length>1024?a.Rn(e,n,"Property ".concat(r," is too long (max length is ").concat(1024,")")):t.some((function(e){return i.indexOf(e)>=0}))?a.Rn(e,n,"Property ".concat(r," has forbidden characters (").concat(t.join(", "),")")):a.Vp(e)}),a.yR),e.fromProperties=function(t){return a.dt((0,s.pipe)(t,o.hX((function(e){return"function"!=typeof e})),o.UI((function(t){return e.property}))))}}(w||(w={}));!function(){function e(e,t,n){this._fingerprints=n,this._endpoints={props:"props/v2",mimic:"mimic"},this._url=p.cl.join(e,"api"),this._ajax=t({requestExtender:f.d3.toHeaderAppender(this._fingerprints)})}e.prototype.load=function(){return(0,s.pipe)(this._ajax.json(p.cl.get(this._url,this._endpoints.props)),this._ajax.map(b.of))},e.prototype.get=function(e){return(0,s.pipe)(this._ajax.text(p.cl.get(this._url,this._endpoints.props,e)),this._ajax.map((function(t){var n;return b.of(((n={})[e]=t||null,n))})))},e.prototype.save=function(e){var t=this;return(0,s.pipe)(e,C,i.Vn(k),i.g_(this._ajax.throwError,this._ajax.of),this._ajax.map((function(e){return p.cl.post(t._url,t._endpoints.props).json(e)})),this._ajax.chain(this._ajax.empty))},e.prototype.getMimic=function(e){return this._ajax.json(p.cl.get(this._url,this._endpoints.mimic).cookie("gnar_containerId",e))},e.prototype.getMimicWithProps=function(e){return(0,s.pipe)(this._ajax.json(p.cl.get(this._url,this._endpoints.mimic,"withProps").cookie("gnar_containerId",e)),this._ajax.map((function(e){var t=e.groups,n=e.properties;return{experiments:new Set(t),properties:b.of(n)}})))},e.targetTag="dapi"}()},36991:(e,t,n)=>{n.d(t,{s:()=>r});var r,i=n(57050),o=n(40327),s=n(8709),a=n(5114),u=n(8125),c=n(73975),l=n(89943),p=n(55415),f=n(26328);!function(e){e.isInsert=function(e){return"insert"in e},e.isInsertString=function(t){return e.isInsert(t)&&"string"==typeof t.insert},e.isInsertEmbed=function(t){return e.isInsert(t)&&!e.isInsertString(t)},e.isDelete=function(e){return"delete"in e},e.isRetain=function(e){return"retain"in e},e.containsInsertsOnly=function(t){return t.ops.every(e.isInsert)},e.getInsertLength=s.i.Op.length,e.getTrimmedInsertLength=function(t){return e.isInsertString(t)?t.insert.trim().length:1},e.match=function(t,n,r){return function(i){return e.isInsert(i)?t(i):e.isDelete(i)?n(i):r(i)}},e.getAttr=function(t,n){return e.isDelete(t)||!t.attributes?a.none:"function"==typeof n?(0,o.pipe)(a.fromNullable(Object.keys(t.attributes).find(n)),a.map((function(e){return t.attributes[e]}))):a.fromNullable(t.attributes[n])},e.operationLength=s.i.Op.length;var t=function(e){return-e.delete};e.getOperationOffset=e.match(s.i.Op.length,t,s.i.Op.length);var n=function(e){return function(t){return t.ops.map(e).reduce(u.Sm,0)}},r=function(){return 0};e.calcDiffLength=n(e.match(s.i.Op.length,t,r)),e.calcAmountLength=n(e.match(s.i.Op.length,s.i.Op.length,r)),e.calcAffectedLength=n(e.match(r,s.i.Op.length,s.i.Op.length)),e.rangeOfTheChange=function(t){var n=e.match(i.W8,i.W8,(function(e){return Boolean(e.attributes)}));return t.ops.reduce((function(t,r){var i=t[0],s=t[1],u=e.operationLength(r),c=s+u;return[(0,o.pipe)(i,a.fold((function(){return n(r)?a.some([s,c]):a.none}),(function(e){return n(r)?a.some([e[0],c]):a.some(e)}))),c]}),[a.none,0])[0]},e.isEqual=function(t){return function(n,r){return e.match((function(n){return e.isInsert(r)&&n.insert===r.insert&&t(n.attributes,r.attributes)}),(function(t){return e.isDelete(r)&&t.delete===r.delete}),(function(n){return e.isRetain(r)&&n.retain===r.retain&&t(n.attributes,r.attributes)}))(n)}},e.deltaEq=c.f7((function(t,n){return t.ops.length===n.ops.length&&l.Hx(t.ops,n.ops,e.isEqual(p.vZ))})),e.normalizeDelta=function(e){return(new s.i).compose(e)};var d=function(e){return e&&Object.keys(e).reduce((function(t,n){return t[n]="string"==typeof e[n]?"<".concat(e[n].length,">"):e[n],t}),{})};e.anonymizeTextAndStringAttrs=function(t){return t.ops.reduce((function(t,n){return e.match((function(n){return t.insert("string"==typeof n.insert?"<".concat(e.getInsertLength(n),">"):"<embed>",d(n.attributes))}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain,d(e.attributes))}))(n)}),new s.i)},e.squash=function(e){return e.reduce((function(e,t){return e.compose(new s.i(t))}),new s.i)},e.cleanAllAttrs=function(t){return t.reduce((function(t,n){return e.match((function(e){return t.insert(e.insert)}),(function(e){return t.delete(e.delete)}),(function(e){return t.retain(e.retain)}))(n)}),new s.i)};var h=function(e){return a.fromNullable(e.attributes)};e.getAttrs=e.match(h,(function(){return a.none}),h),e.skipAny=i.jv;e.cleanDelta=function(t,n){return function(r){var i=function(e){return e&&Object.keys(e).filter((function(e,t,r){return n(e,r.slice(0))})).reduce((function(t,n){return t[n]=e[n],t}),{})};return r.reduce((function(n,r){return e.match((function(e){return n.insert("string"==typeof e.insert||t(e.insert)?e.insert:" ",i(e.attributes))}),(function(e){return n.delete(e.delete)}),(function(e){return n.retain(e.retain,i(e.attributes))}))(r)}),new s.i)}},e.splitToDeleteThenInsert=function(t){return t.reduce((function(t,n){var r=t[0],i=t[1];return e.match((function(e){return[r,i.push(e)]}),(function(e){return[r.push(e),i]}),(function(e){return[r.push({retain:e.retain}),i.push(e)]}))(n)}),[new s.i,new s.i]).map((function(e){return e.chop()}))},e.nonEmpty=function(e){return e.ops.length>0},e.findInDelta=function(e,t){return void 0===t&&(t=r),function(n){for(var r=0,i=0;r<n.ops.length;){var o=n.ops[r];if(e(o))return i+=t(o),a.some(i);i+=s.i.Op.length(o),r+=1}return a.none}},e.getOps=(0,i.ls)(p.ei("ops"),a.fromNullable,a.chain(f.nI))}(r||(r={}))},73353:(e,t,n)=>{n.d(t,{R$:()=>r});var r,i=n(59312),o=n(73975),s=n(57050),a=n(40327),u=n(69243),c=n(32687),l=n(5114),p=n(8125),f=n(95195),d=n(42040),h=n(55485),m=l.getEq({equals:function(e,t){return e===t}}),g=o.f7(p.As);!function(e){var t;!function(e){e.eq=o.MW({type:o.yv,citation:o.yv}),e.defaultAcademic={citation:"apa",type:"essay"},e.withCitationStyle=function(t){return function(n){return(0,i.pi)((0,i.pi)({},n),{domain:l.some("academic"),outcomeContext:l.some((0,i.pi)((0,i.pi)({},e.defaultAcademic),{citation:t}))})}}}(t=e.OutcomeContext||(e.OutcomeContext={})),e.eq=o.MW({domain:l.getEq(o.w4),goals:l.getEq(g),audience:m,style:m,outcomeContext:l.getEq(t.eq)}),function(e){e.eq=o.MW({domain:o.w4,goals:g,audience:o.yv,style:o.yv})}(e.Default||(e.Default={})),e.goals=h.U(["inform","describe","convince","tellStory","sell"]),e.goalsLabels=["Inform","Describe","Convince","Tell A Story"],e.audiences=h.U(["general","knowledgeable","expert"]),e.formalityLevels=h.U(["informal","neutral","formal"]),e.tone=h.U(["neutral","confident","joyful","optimistic","friendly","urgent","analytical","respectful"]),e.domains=h.U(["academic","business","general","mail","casual","creative"]),e.dialects=h.U(["american","british","canadian","australian","indian"]),e.academicTypes=h.U(["essay","report","other"]),e.citation=h.U(["apa","mla","chicago","other"]),e.fromDomain=function(t){return(0,i.pi)((0,i.pi)({},e.unset),{domain:l.some(t)})},e.fromGoals=function(t){return(0,i.pi)((0,i.pi)({},e.unset),{goals:l.some(new Set(t))})},e.unset={goals:l.none,domain:l.none,audience:l.none,style:l.none,dialect:l.none,outcomeContext:l.none},e.defaultContextFallback={goals:new Set,domain:"general",audience:"knowledgeable",style:"neutral",dialect:l.none},e.isStyleValidWithDomain=function(e,t){return"neutral"===t||("formal"===t?"creative"!==e&&"casual"!==e:"academic"!==e)};var n=h.D.literalUnion("goal",e.goals),r=h.D.set(n),p=h.D.literalUnion("audience",e.audiences),v=h.D.literalUnion("formality",e.formalityLevels),y=(h.D.literalUnion("tone",e.tone),h.D.literalUnion("domain",e.domains)),b=h.D.literalUnion("dialect",e.dialects),x=h.D.literalUnion("academicType",e.academicTypes);e.citationType=h.D.literalUnion("citation",e.citation);var w=u.w3({type:x,citation:e.citationType});e.IOType=u.w3({goals:h.D.option(r),domain:h.D.option(y),audience:h.D.option(p),style:h.D.option(v),dialect:h.D.option(b),outcomeContext:h.D.option(w)}),e.IOTypeDefault=u.w3({goals:r,domain:y,audience:p,style:v,dialect:h.D.option(b)}),e.tryParse=function(e){return function(t){return(0,a.pipe)(e(t),f.Vn(c.Rn),f.Vn((function(e){return d.C8.Logging.getLogger("coreclients.dox.context").warn("failed to parse document context",e),e})))}},e.parse=(0,s.ls)(l.fromNullable,l.chain((function(t){return(0,a.pipe)(t,e.tryParse(e.IOType.decode),l.fromEither)}))),e.parseDefault=(0,s.ls)(l.fromNullable,l.chain((0,s.ls)(e.tryParse((function(t){return e.IOTypeDefault.decode(t)})),l.fromEither))),e.serialize=function(t){return e.IOType.encode(t)},e.serializeDefault=function(t){return e.IOTypeDefault.encode(t)}}(r||(r={}))},24153:(e,t,n)=>{n.d(t,{d3:()=>r});var r,i=n(59312);!function(e){e.toHeaderAppender=function(e){return function(e){var t=this;function n(e){return(0,i.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return Array.isArray(e)?(t=e[0],n=e[1],r=[t],[4,"function"==typeof n?n():n]):[3,2];case 1:return[2,r.concat([i.sent()]).join(" ")];case 2:return[4,"function"==typeof e?e():e];case 3:return[2,i.sent()]}}))}))}return function(r){return function(){return(0,i.mG)(t,void 0,void 0,(function(){var t,o,s,a,u,c,l,p;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:for(o in t=[],e)t.push(o);s=0,i.label=1;case 1:return s<t.length?(a=t[s],u=e[a],l=(c=r).header,p=[a],[4,n(u)]):[3,4];case 2:l.apply(c,p.concat([i.sent()])),i.label=3;case 3:return s++,[3,1];case 4:return[2,r]}}))}))}}}((0,i.pi)({"X-Client-Version":e.clientVersion.toString(),"X-Client-Type":function(){return e.clientName},"X-Container-Id":e.containerId,"X-CSRF-Token":e.csrfToken},void 0!==e.accessToken&&{Authorization:["Bearer",e.accessToken]}))}}(r||(r={}))},55485:(e,t,n)=>{n.d(t,{D:()=>r,U:()=>d});var r,i=n(59312),o=n(40327),s=n(69243),a=n(95195),u=n(83078),c=n(5114),l=n(26328),p=n(22232),f=n(36925);function d(e){return e}!function(e){function t(e){return function(t){return u.is(t)&&(0,o.pipe)(t,c.fold((function(){return!0}),e.is))}}function n(e){return function(t){return Array.isArray(t)&&t.length>0&&t.every(e.is)}}e.set=function(e){return new s.Dy("Set<".concat(e.name,">"),(function(e){return e instanceof Set}),(function(t,n){return a.wE.map(s.IX(e).validate(t,n),(function(e){return new Set(e)}))}),(function(e){return Array.from(e)}))},e.getIsOption=t,e.option=function(e){return new s.Dy("option:".concat(e.name),t(e),(function(t,n){return null==t?a.F2(c.none):a.wE.map(e.validate(t,n),c.some)}),c.fold((function(){}),e.encode))},e.opaque=function(e){return new s.Dy("Opaque",(function(e){return"string"==typeof e}),(function(t,n){return a.wE.chain(e.validate(t,n),(function(e){return s.Vp(e)}))}),(function(e){return e}))},e.getIsNEA=n,e.nonEmptyArray=function(e){return new s.Dy("NEA",n(e),(function(t,n){return a.wE.chain(s.IX(e).validate(t,n),(function(e){return e.length>0?s.Vp(e):s.Rn(e,n,"Array is empty")}))}),(function(e){return u.MH(l.nI(e))}))},e.literalUnion=function(e,t){return s.G0(t.map((function(e){return s.i0(e)})),"".concat(e,":string"))},e.date=function(){return new s.Dy("Date",(function(e){return e instanceof Date}),(function(e,t){var n=Date.parse(null==e?void 0:e.toString()),r=isNaN(n)?e:n;return a.wE.map(s.pk.validate(r,t),(function(e){return new Date(e)}))}),(function(e){return e.getTime()}))};var r=function(e){return s.Z_.is(e)&&!Number.isNaN(Number(e))};e.stringFromNumber=new s.Dy("stringFromNumber",r,(function(e,t){return r(e)?s.Vp(e):"number"!=typeof e||Number.isNaN(e)?s.Rn(e,t):s.Vp(e.toString())}),(function(e){return Number(e)})),e.withDefault=function(e,t){return new s.Dy("withDefault(".concat(JSON.stringify(t),"):").concat(e.name),e.is,(function(n,r){return e.validate((0,f.uY)(n)?t:n,r)}),e.encode)},e.fallback=function(e,t){return new s.Dy("fallback(".concat(JSON.stringify(t),"):").concat(e.name),e.is,(function(n,r){var i=e.validate(n,r);return a.nM(i)?a.F2(t):i}),e.encode)};var d=function(e,t){Array.prototype.push.apply(e,t)},h=["boolean","string","Date","number","Array","Set","object","Dictionary","StringEnum","Partial"];function m(e,t){var n=function(e){var t=e.replace(/\w+\(.*?\):/,"");if("{"===t[0]&&"}"===t[t.length-1])return"object";var n=t.split(":").pop();return 0===n.indexOf("Date")?"Date":0===n.indexOf("Array<")?"Array":0===n.indexOf("Set<")?"Set":0===n.indexOf("StringEnum<")?"StringEnum":0===t.indexOf("Partial<")?"Partial":((0,p.kG)(h.indexOf(n)>-1,"unsupported prop type ".concat(e)),n)}(e);switch(n){case"boolean":return t.getBool();case"string":case"StringEnum":return t.getStr();case"Date":return null===t.getNum()?t.getStr():t.getNum();case"number":return t.getNum();case"Array":case"Set":return t.getArray();case"object":case"Partial":case"Dictionary":return t.getObject();default:return(0,p.vE)(n)}}e.properties=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=function(e){return"{ ".concat(Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t].name)})).join(", ")," }")}(e)),new s.X1(n,(function(t){if(!f.E.is(t))return!1;for(var n in e)if(!e[n].is(t[n]))return!1;return!0}),(function(n,r){if(!Array.isArray(n)||n.some((function(e){return!f.E.is(e)})))return s.Rn(n,r);var u={},c=[],l=function(l){var p=""!==t?"".concat(t,":").concat(l):l,h=f.E.find.apply(f.E,(0,i.ev)([p],n,!1)),g=e[l],v=m(g.name,h),y=g.validate(v,s.JS(r,l,g));(0,o.pipe)(y,a.g_((function(e){return d(c,e)}),(function(e){u[l]=e})))};for(var p in e)l(p);return c.length?s.mq(c):s.Vp(u)}),(function(n){var r={};for(var i in e){var o=""!==t?"".concat(t,":").concat(i):i,s=e[i],a=n[i];s.is(a)&&(r[o]=e[i].encode(a))}return f.E.of(r)}),e)},e.combineProperties=function(e,t){void 0===t&&(t="(".concat(e.map((function(e){return e.name})).join(" & "),")"));var n=e.length;return new s.Ii(t,(function(t){return e.every((function(e){return e.is(t)}))}),(function(t,r){for(var i={},u=[],c=0;c<n;c++){var l=e[c].validate(t,r);(0,o.pipe)(l,a.g_((function(e){return d(u,e)}),(function(e){return Object.assign(i,e)})))}return u.length?s.mq(u):s.Vp(i)}),(function(t){return f.E.of.apply(f.E,e.map((function(e){return e.encode(t)})))}),e)},e.createStringEnum=function(e,t){return s.mM(Object.values(e).reduce((function(e,t){return e[t]=null,e}),{}),"StringEnum<".concat(t,">"))}}(r||(r={}))},25938:(e,t,n)=>{n.d(t,{RI:()=>i,zI:()=>o});var r,i,o,s=n(57050),a=n(8709),u=n(95574),c=n(95195),l=n(36991);!function(e){e.split=function(e,t){return[e]}}(r||(r={})),function(e){e.fromArrayOfDeltas=function(t,n){var r=n;return t.map((function(t){var n=e.delta(t,r);return r+=l.s.calcDiffLength(t),n}))};var t=function(){function e(e,t){this.delta=e,this.prevLen=t,this.kind="delta",this._length=void 0,this._amount=void 0,this._text=void 0}return Object.defineProperty(e.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=l.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amount",{get:function(){return Boolean(this._amount)?this._amount:this._amount=l.s.calcAmountLength(this.delta)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=u.vM((function(){return e.delta.ops.reduce((function(e,t){return l.s.match((function(t){return"".concat(e).concat(t.insert)}),(function(){throw new Error("can not get text on delta with deletes")}),(function(){throw new Error("can not get text on delta with retains")}))(t)}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.delta.ops.length},enumerable:!1,configurable:!0}),e.prototype.compose=function(t){return new e(this.delta.compose(t.delta),this.prevLen)},e.prototype.transform=function(t,n){return void 0===n&&(n=!0),new e(t.delta.transform(this.delta,n),this.prevLen+t.length)},e.prototype.toJSON=function(){return{kind:this.kind,delta:l.s.anonymizeTextAndStringAttrs(this.delta),prevLen:this.prevLen,length:this.length,amount:this.amount}},e.prototype.toString=function(){return"Delta(".concat(this.delta,", pl: ").concat(this.prevLen,")")},e}(),n=function(){function e(){this.kind="flush"}return e.prototype.toString=function(){return"Flush()"},e}(),r=function(){function e(e){this.delta=e,this.kind="reset"}return Object.defineProperty(e.prototype,"text",{get:function(){var e=this;return this._text||(this._text=u.vM((function(){return e.delta.ops.reduce((function(e,t){if(l.s.isInsert(t))return"".concat(e).concat(t.insert);throw l.s.isDelete(t)?new Error("can not get text on delta with deletes"):new Error("can not get text on delta with retains")}),"")})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return Boolean(this._length)?this._length:this._length=l.s.calcDiffLength(this.delta)},enumerable:!1,configurable:!0}),e.prototype.compose=function(e){return o(this.delta.compose(e.delta))},e.prototype.toJSON=function(){return{kind:this.kind,delta:l.s.anonymizeTextAndStringAttrs(this.delta),length:this.length}},e.prototype.toString=function(){return"Reset(".concat(this.delta,")")},e}();function i(e,n){return void 0===n&&(n=0),new t(e,n)}function o(e){return l.s.containsInsertsOnly(e)?c.F2(new r(e)):c.t$(new Error("Delta should contains only inserts to be Reset, but got ".concat(JSON.stringify(l.s.anonymizeTextAndStringAttrs(e)))))}e.delta=i,e.ins=function(e,t,n){return void 0===n&&(n=0),i((new a.i).retain(e).insert(t),n)},e.del=function(e,t,n){return void 0===n&&(n=0),i((new a.i).retain(e).delete(t),n)},e.ret=function(e,t,n){return void 0===t&&(t=0),i((new a.i).retain(e,n),t)},e.res=o,e.unsafeRes=(0,s.ls)(o,u.MH),e.resFromText=function(e){return u.MH(o((new a.i).insert(e)))},e.flush=function(){return new n},e.isDelta=function(e){return"delta"===e.kind},e.isReset=function(e){return"reset"===e.kind},e.isFlush=function(e){return"flush"===e.kind}}(i||(i={})),function(e){e.diffAsChanges=function(e,t){var n=(new a.i).insert(e),r=(new a.i).insert(t);return i.delta(n.diff(r),e.length)}}(o||(o={}))},35387:(e,t,n)=>{n.d(t,{x:()=>r});var r,i=n(55415);!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=i.v4(t);for(var o in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(r[o]=e[o]);return Object.keys(r).length>0?r:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return i.Xy(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=null!=e?e:{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(r||(r={}))},8709:(e,t,n)=>{n.d(t,{i:()=>f});var r=n(19744),i=n.n(r),o=n(55415),s=n(35387);const a=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){Boolean(e)||(e=1/0);var t=this.ops[this.index];if(null==t)return{retain:1/0};var n=this.offset,r=u(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),"number"==typeof t.retain?i.retain=e:"string"==typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return null!=this.ops[this.index]?u(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return null==this.ops[this.index]?"retain":"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e}();function u(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}var c;!function(e){e.iterator=function(e){return new a(e)},e.length=u}(c||(c={}));const l=c;var p=String.fromCharCode(0);var f=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o.v4(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o.Xy(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return null!=(null==e?void 0:e.retain)&&null==e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return null!=t.insert?e+l.length(t):null!=t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+l.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var r=[],i=l.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<t?s=i.next(t-o):(s=i.next(n-o),r.push(s)),o+=l.length(s)}return new e(r)},e.prototype.compose=function(t){var n=l.iterator(this.ops),r=l.iterator(t.ops),i=[],a=r.peek();if(null!=a&&"number"==typeof a.retain&&null==a.attributes){for(var u=a.retain;"insert"===n.peekType()&&n.peekLength()<=u;)u-=n.peekLength(),i.push(n.next());a.retain-u>0&&r.next(a.retain-u)}for(var c=new e(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())c.push(r.next());else if("delete"===n.peekType())c.push(n.next());else{var p=Math.min(n.peekLength(),r.peekLength()),f=n.next(p),d=r.next(p);if("number"==typeof d.retain){var h={};"number"==typeof f.retain?h.retain=p:h.insert=f.insert;var m=s.x.compose(f.attributes,d.attributes,"number"==typeof f.retain);if(m&&(h.attributes=m),c.push(h),!r.hasNext()&&o.Xy(c.ops[c.ops.length-1],h)){var g=new e(n.rest());return c.concat(g).chop()}}else"number"==typeof d.delete&&"number"==typeof f.retain&&c.push(d)}return c.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:p;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),a=new e,u=i()(r[0],r[1],n),c=l.iterator(this.ops),f=l.iterator(t.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i().INSERT:n=Math.min(f.peekLength(),t),a.push(f.next(n));break;case i().DELETE:n=Math.min(t,c.peekLength()),c.next(n),a.delete(n);break;case i().EQUAL:n=Math.min(c.peekLength(),f.peekLength(),t);var r=c.next(n),u=f.next(n);o.Xy(r.insert,u.insert)?a.retain(n,s.x.diff(r.attributes,u.attributes)):a.push(u).delete(n)}t-=n}})),a.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var r=l.iterator(this.ops),i=new e,o=0;r.hasNext();){if("insert"!==r.peekType())return;var s=r.peek(),a=l.length(s)-r.peekLength(),u="string"==typeof s.insert?s.insert.indexOf(n,a)-a:-1;if(u<0)i.push(r.next());else if(u>0)i.push(r.next(u));else{if(!1===t(i,r.next(1).attributes||{},o))return;o+=1,i=new e}}i.length()>0&&t(i,{},o)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,r){if(Boolean(r.insert))n.delete(l.length(r));else{if(Boolean(r.retain)&&null==r.attributes)return n.retain(r.retain),e+r.retain;if(Boolean(r.delete)||Boolean(r.retain)&&null!=r.attributes){var i=r.delete||r.retain;return t.slice(e,e+i).forEach((function(e){Boolean(r.delete)?n.push(e):Boolean(r.retain)&&null!=r.attributes&&n.retain(l.length(e),s.x.invert(r.attributes,e.attributes))})),e+i}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var r=t,i=l.iterator(this.ops),o=l.iterator(r.ops),a=new e;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===o.peekType())if("insert"===o.peekType())a.push(o.next());else{var u=Math.min(i.peekLength(),o.peekLength()),c=i.next(u),p=o.next(u);if(null!=c.delete)continue;null!=p.delete?a.push(p):a.retain(u,s.x.transform(c.attributes,p.attributes,n))}else a.retain(l.length(i.next()));return a.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=l.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.Op=l,e.AttributeMap=s.x,e}()},64757:(e,t,n)=>{n.d(t,{L_:()=>d,RZ:()=>h,zx:()=>f});var r=n(59312),i=n(27378),o=n(19703),s=n(12187);if(1307!=n.j)var a=n(31278);var u=n(86732),c=n(48660),l=n(26215),p=n(94632);function f(e){return i.createElement(l.Y,(0,r.pi)({},d(e,p.LI)))}function d(e,t){var n=(0,s.Sh)(e.className,t).className;return(0,r.pi)((0,r.pi)({},e),{className:n})}!function(e){e.Animated=function(e){return i.createElement(l.Y,(0,r.pi)({},(0,r.pi)((0,r.pi)({},e),{animationMode:Boolean(e.animationMode)?e.animationMode:u.m.FromClickPoint})))},e.Primary=function(t){return i.createElement(e.Animated,(0,r.pi)({styleType:c.Z.Type.Button},d(t,p.T$)))},e.Ghost=function(t){return i.createElement(e.Animated,(0,r.pi)({styleType:c.Z.Type.Button},d(t,p.fk)))},e.Tertiary=function(t){return i.createElement(e.Animated,(0,r.pi)({styleType:c.Z.Type.Base},d(t,p.UF)))},e.Flat=function(t){return i.createElement(e.Animated,(0,r.pi)({},d(t,p.$H)))},e.White=function(t){return i.createElement(e.Animated,(0,r.pi)({},d(t,p.ix)))},e.SidebarFlat=function(e){return i.createElement(l.Y,(0,r.pi)({styleType:c.Z.Type.H3Legacy},d(e,p.HN)))},e.Caps=function(e){return i.createElement(l.Y,(0,r.pi)({styleType:c.Z.Type.H3Legacy},d(e,p.Mp)))},e.Group=function(e){var t=e.children,n=e.className,a=e.align,u=void 0===a?"horizontal":a,c=e.sticky,l=e.name;return i.createElement(o.F.div,(0,r.pi)({role:"group"},(0,s.Sh)(n,"horizontal"===u?!0===c?p.vD:p.ru:p.oc),{"data-name":l}),t)}}(f||(f={}));var h=function(e){var t=e.title,n=e.titleAlign,u=e.buttonClass,c=e.iconClass,d=e.iconWidth,h=e.tooltipClass;return i.createElement(f,{name:"info-button","aria-label":t,tag:l.X.div,title:i.createElement(o.F.div,(0,r.pi)({},(0,s.Sh)(p.bC,h)),i.createElement("p",null,t)),titleAlign:n,className:u},i.createElement(a.JO.Info,{width:d,className:c}))}},51369:(e,t,n)=>{n.d(t,{X:()=>T});var r,i=n(59312),o=n(27378),s=n(57050),a=n(5114),u=n(19962),c=n(44060),l=n(11413),p=n(89894),f=n(32096),d=n(40327),h=n(19703),m=n(49708),g=n(85985),v=n(41398),y=n(24209),b=n(17343),x=n(98403),w=n(38194),_=n(598),S=n(50628),C=n(25781),k=n(83078),E=n(18625);!function(e){var t="scrollaction";e.emit=function(e){return self.dispatchEvent(new CustomEvent(t,{detail:e}))},e.observe=E.P((function(){return m.R(self,t)}))}(r||(r={}));var O=n(42103),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!u.UL.hasPoint(t.getBoundingClientRect(),e)}},t}return(0,i.ZT)(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[],this.context.hide()},t.prototype.render=function(){return o.createElement(h.F.div,{"data-role":"tooltip"},this.context.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=m.R(document,"keydown").pipe(g.h((function(e){return e.keyCode===C.R.ESC_CODE}))),n=m.R(document,"mousedown").pipe(v.M(this.context.state),g.h((function(t){var n=t[0],r=t[1];return(0,d.pipe)(r,a.map((function(e){return e.target})),a.filter((function(){return u.pK(n.target)})),k.wo(e._outOfTarget({x:n.clientX,y:n.clientY})))}))),i=y.T(t,n,m.R(document,"scroll"),r.observe.pipe(g.h((function(e){return"show"===e.detail})))).pipe(b.h(x.PU),w.B());this._subs=[this.context.hasContent.pipe(g.h(Boolean),_.c(i.pipe(S.P()))).subscribe(this.context.hide),this.context.hasContent.pipe(g.h(Boolean),_.c(y.T(x.gw(!0,500),i.pipe(b.h(!1))).pipe(S.P())),g.h(Boolean)).subscribe(this.context.show)]},t.contextType=O.G.Context,t}(o.Component),T=function(){return o.createElement(I,null,(0,s.ls)(a.map((function(e){return o.createElement(l.t.ByAbsoluteRect,(0,i.pi)({rect:u.UL.fromEl(e.target),className:R.container},l.t.Alignment.toSelector(e.alignment),{withPin:!0}),o.createElement("div",{className:R.content},e.content))})),a.toNullable))},A={position:"fixed",zIndex:f.DY,pointerEvents:"none",$nest:{"@media print":{visibility:"hidden"}}},P={padding:"".concat(p.ux.rem(.25)," ").concat(p.ux.rem(1)),borderRadius:p.ux.rem(f.fx),background:c.Il.BackgroundTooltip,color:c.Il.CoreNeutral1,textAlign:"center",whiteSpace:"nowrap",letterSpacing:p.ux.px(.25),fontSize:p.ux.rem(.75),lineHeight:p.ux.rem(1)},R=p.ux.stylesheet({container:[A],content:[P]})},89943:(e,t,n)=>{if(n.d(t,{Bs:()=>p,CE:()=>v,Hx:()=>h,N6:()=>b,OI:()=>l,QK:()=>y,VS:()=>m,e:()=>c,j6:()=>g,sq:()=>w,uK:()=>u,uU:()=>d}),1307!=n.j)var r=n(59312);if(1307!=n.j)var i=n(45701);if(1307!=n.j)var o=n(40327);if(1307!=n.j)var s=n(68983);if(1307!=n.j)var a=n(5114);function u(e,t){return e.reduce((function(e,n){return t(n)?e[0].push(n):e[1].push(n),e}),[[],[]])}function c(e,t){for(var n=-1,r=e.length;n+1!==r;){var i=n+(r-n>>1);t(e[i])?n=i:r=i}var o=n+1;return o===e.length?a.none:a.some(o)}function l(e,t,n){return c(e,(0,s.W)((0,i.gt)(n))(t))}function p(e,t,n){if(t>=0)for(var r=t;r<e.length;++r){var i=n(e[r]);if(a.isSome(i))return a.some({index:r,value:i.value})}return a.none}function f(e,t,n,r){return(0,o.pipe)(function(e,t,n){if(t>=0)for(var r=t;r<e.length;++r)if(n(e[r]))return a.some({index:r,value:e[r]});return a.none}(e,t,r),a.alt((function(){return function(e,t,n){if(t<e.length)for(var r=t;r>=0;--r)if(n(e[r]))return a.some({index:r,value:e[r]});return a.none}(e,n,r)})))}function d(e,t,n){return(0,o.pipe)(f(e,t+1,t-1,(function(e){return a.isSome(n(e))})),a.chain((function(e){return(0,o.pipe)(n(e.value),a.map((function(t){return(0,r.pi)((0,r.pi)({},e),{value:t})})))})))}function h(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function m(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function g(e,t){return new Array(e).fill(!0).map((function(e,n){return t(n)}))}function v(e,t){var n=t.indexOf(e);return t.slice(0,n).concat(t.slice(n+1))}function y(e,t){var n=t.indexOf(e);t.splice(n,1)}var b=function(e){return function(t){return x(t,e,0)}};function x(e,t,n){return t.length<=n?a.none:(0,o.pipe)(a.fromNullable(e.find(t[n])),a.fold((function(){return x(e,t,n+1)}),a.some))}var w=function(e){return function(t){for(var n=-1,r=0;r<t.length;r++){var i=t[r],o=t[r-1];if(Boolean(o)&&e(o)||!e(i)||(n=r),Boolean(o)&&e(o)&&!e(i)&&0!==n)return!1}return!0}}},68983:(e,t,n)=>{function r(e){return i(e,e.length-1,[])}function i(e,t,n){return function(r){var o=n.concat([r]);return 0===t?e.apply(this,o):i(e,t-1,o)}}n.d(t,{W:()=>r})},25781:(e,t,n)=>{var r,i;n.d(t,{R:()=>r}),function(e){e.ESC_CODE=27,e.ENTER_CODE=13,e.SPACE_CODE=32}(r||(r={})),function(e){e.isLeftMouseButtom=function(e){return 1===e.which||0===e.button}}(i||(i={}))},55415:(e,t,n)=>{n.d(t,{CE:()=>x,Fx:()=>h,H6:()=>g,Ov:()=>f,Qr:()=>l,Vx:()=>d,Xy:()=>c,ei:()=>m,qo:()=>p,sq:()=>b,v4:()=>a,vZ:()=>v});var r=n(59312),i=n(5114),o=n(40327),s=n(68983),a=function e(t){if("object"!=typeof t)return t;var n,r,i=Object.prototype.toString.call(t);if("[object Object]"===i){if(t.constructor!==Object&&"function"==typeof t.constructor)for(n in r=new t.constructor,t)t.hasOwnProperty(n)&&r[n]!==t[n]&&(r[n]=e(t[n]));else for(n in r={},t)"__proto__"===n?Object.defineProperty(r,n,{value:e(t[n]),configurable:!0,enumerable:!0,writable:!0}):r[n]=e(t[n]);return r}if("[object Array]"===i){for(n=t.length,r=Array(n);n--;)r[n]=e(t[n]);return r}if("[object Date]"===i)return new Date(+t);if("[object RegExp]"===i)return(r=new RegExp(t.source,t.flags)).lastIndex=t.lastIndex,r;return t};var u=Object.prototype.hasOwnProperty;function c(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&c(e[r],t[r]););return-1===r}if(!n||"object"==typeof e){for(n in r=0,e){if(u.call(e,n)&&++r&&!u.call(t,n))return!1;if(!(n in t)||!c(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}function l(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function p(e){return Object.keys(e).map((function(t){return e[t]}))}var f=(0,s.W)((function(e,t,n){var o,s=n,a=e,u=s[a],c=(0,r._T)(s,["symbol"==typeof a?a:a+""]);return(0,r.pi)(((o={})[e]=t(i.fromNullable(u)),o),c)}));(0,s.W)((function(e,t,n){var s=n,a=e,u=s[a],c=(0,r._T)(s,["symbol"==typeof a?a:a+""]),l="function"==typeof t?t(i.fromNullable(u)):t;return(0,o.pipe)(l,i.fold((function(){return c}),(function(t){var n;return(0,r.pi)(((n={})[e]=t,n),c)})))}));function d(e,t){return Object.assign({},e,t)}function h(e,t){var n={};for(var r in e){var i=t[r];void 0!==i?n[r]="object"==typeof i?h(e[r],i):i:n[r]=e[r]}return n}function m(e){return function(t){return t[e]}}function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,n){var i;return(0,r.pi)((0,r.pi)({},e),((i={})[n]=t[n],i))}),{})}}function v(e,t){if(e===t)return!0;if(y(e)||y(t))return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!(n in t))return!1;if(!v(e[n],t[n]))return!1}return!0}function y(e){return e!==Object(e)}function b(e){return Array.from(e).reduce((function(e,t){var n,i=t[0],o=t[1];return(0,r.pi)((0,r.pi)({},e),((n={})[i]=o,n))}),{})}var x=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=(0,r.pi)({},e);return t.forEach((function(e){return delete i[e]})),i}},81670:(e,t,n)=>{n.d(t,{T:()=>r});var r,i=n(71249),o=n(12271),s=n(57050),a=n(40327),u=n(95195);!function(e){function t(e){return e.left.length>0?u.t$({rejected:e.left,recovered:e.right}):u.F2(e.right)}e.URI="RecoverableOperation",e.fromArray=function(n){return function(r){return(0,a.pipe)(r.map((function(e){return(0,a.pipe)(n(e),u.Vn((function(t){return(0,s.bc)(t,e)})))})),i.oh,t,e.mapLeft((function(e){return e.map(o.Yg)})))}},e.map=function(e){return function(t){return(0,a.pipe)(t,u.Pd((function(t){return{rejected:t.rejected,recovered:e(t.recovered)}}),e))}},e.mapLeft=function(e){return function(t){return(0,a.pipe)(t,u.Vn((function(t){return{rejected:e(t.rejected),recovered:t.recovered}})))}},e.flatten=function(e){return function(t){return(0,a.pipe)(t,u.g_((function(t){return(0,a.pipe)(t.recovered,u.g_((function(n){return u.t$({rejected:e.concat(t.rejected,n.rejected),recovered:n.recovered})}),(function(e){return u.t$({rejected:t.rejected,recovered:e})})))}),s.yR))}},e.flatMap=function(t,n){return function(r){return(0,a.pipe)(r,e.map(n),e.flatten(t))}},e.recover=function(e){return u.g_((function(t){return e(t.rejected),t.recovered}),s.yR)},e.tapFailure=function(e){return u.Vn((function(t){return e(t),t}))},e.foldSuccess=function(e){return u.g_((function(t){return e(t.recovered)}),e)},e.of=function(e,t){return void 0===t?u.F2(e):u.t$({recovered:e,rejected:t})},e.fromSeparatedArray=t}(r||(r={}))},3893:(e,t,n)=>{n.d(t,{kP:()=>s});var r=n(26328),i=n(57050),o=n(5114);var s=(0,i.ls)(o.fromNullable,(0,o.chain)(r.nI))},83078:(e,t,n)=>{n.d(t,{FX:()=>y,Fc:()=>c,MH:()=>a,QP:()=>u,bw:()=>g,cS:()=>l,dH:()=>p,ew:()=>v,gz:()=>b,is:()=>m,vB:()=>f,vx:()=>h,wo:()=>d,xC:()=>x});var r=n(17771),i=n(5114),o=n(57050);if(1388==n.j)var s=n(22324);var a=(0,i.fold)((function(){throw new Error("option has empty value")}),o.yR),u=(0,i.getOrElse)(o.gn),c=(0,i.getOrElse)(o.r5),l=function(){return i.none};function p(e,t){return(0,i.fold)((function(){return t}),e)}var f=function(e){return function(t,n){return(0,i.map)((function(t){var n=t[0],r=t[1];return e(n,r)}))((0,r.g)(i.option)(t,n))}};function d(e){return function(t){return(0,i.isNone)(t)||(0,i.exists)(e)(t)}}function h(e){return(0,i.fold)((function(){return e}),i.some)}function m(e){var t,n;return"None"===(null===(t=e)||void 0===t?void 0:t._tag)||"Some"===(null===(n=e)||void 0===n?void 0:n._tag)}function g(e){return(0,i.map)((function(t){return e(t),t}))}function v(e){return(0,i.fold)((0,o.ls)(e,(function(){return i.none})),i.some)}function y(e){return(0,o.ls)((0,i.filter)((function(t){return t===e})),i.isSome)}var b=(0,r.g)(i.option);function x(e){return(0,s.d6)(e)?(0,i.some)(e.value):i.none}},22324:(e,t,n)=>{var r;function i(e){return e.type===r.InProgress}function o(e){return e.type===r.Success}function s(e){return e.type===r.Error}function a(e){return e.type===r.Fatal}n.d(t,{Dy:()=>r,IR:()=>a,VZ:()=>s,d6:()=>o,n2:()=>i}),function(e){e.InProgress="InProgress",e.Success="Success",e.Error="Error",e.Fatal="Fatal"}(r||(r={}))},25681:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(53817);function i(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(0,r.Zq)(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}},31778:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(53817),i=n(53295),o=n(62475),s=n(8269);function a(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),u=1,c=1;t&&(0,r.Re)(e)&&(u=e.offsetWidth>0&&(0,i.NM)(a.width)/e.offsetWidth||1,c=e.offsetHeight>0&&(0,i.NM)(a.height)/e.offsetHeight||1);var l=((0,r.kK)(e)?(0,o.Z)(e):self).visualViewport,p=!(0,s.Z)()&&n,f=(a.left+(p&&l?l.offsetLeft:0))/u,d=(a.top+(p&&l?l.offsetTop:0))/c,h=a.width/u,m=a.height/c;return{width:h,height:m,top:d,right:f+h,bottom:d+m,left:f,x:f,y:d}}},76594:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(62475);function i(e){return(0,r.Z)(e).getComputedStyle(e)}},55565:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(53817);function i(e){return(((0,r.kK)(e)?e.ownerDocument:e.document)||self.document).documentElement}},63465:(e,t,n)=>{function r(e){return e?(e.nodeName||"").toLowerCase():null}n.d(t,{Z:()=>r})},59590:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(62475),i=n(63465),o=n(76594),s=n(53817);function a(e){return["table","td","th"].indexOf((0,i.Z)(e))>=0}var u=n(33087),c=n(11434);function l(e){return(0,s.Re)(e)&&"fixed"!==(0,o.Z)(e).position?e.offsetParent:null}function p(e){for(var t=(0,r.Z)(e),n=l(e);n&&a(n)&&"static"===(0,o.Z)(n).position;)n=l(n);return n&&("html"===(0,i.Z)(n)||"body"===(0,i.Z)(n)&&"static"===(0,o.Z)(n).position)?t:n||function(e){var t=/firefox/i.test((0,c.Z)());if(/Trident/i.test((0,c.Z)())&&(0,s.Re)(e)&&"fixed"===(0,o.Z)(e).position)return null;var n=(0,u.Z)(e);for((0,s.Zq)(n)&&(n=n.host);(0,s.Re)(n)&&["html","body"].indexOf((0,i.Z)(n))<0;){var r=(0,o.Z)(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}},33087:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(63465),i=n(55565),o=n(53817);function s(e){return"html"===(0,r.Z)(e)?e:e.assignedSlot||e.parentNode||((0,o.Zq)(e)?e.host:null)||(0,i.Z)(e)}},62475:(e,t,n)=>{function r(e){if(null==e)return self;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||self}return e}n.d(t,{Z:()=>r})},47370:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(62475);function i(e){var t=(0,r.Z)(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}},41061:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(31778),i=n(55565),o=n(47370);function s(e){return(0,r.Z)((0,i.Z)(e)).left+(0,o.Z)(e).scrollLeft}},53817:(e,t,n)=>{n.d(t,{Re:()=>o,Zq:()=>s,kK:()=>i});var r=n(62475);function i(e){return e instanceof(0,r.Z)(e).Element||e instanceof Element}function o(e){return e instanceof(0,r.Z)(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof(0,r.Z)(e).ShadowRoot||e instanceof ShadowRoot)}},8269:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(11434);function i(){return!/^((?!chrome|android).)*safari/i.test((0,r.Z)())}},62714:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(76594);function i(e){var t=(0,r.Z)(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}},54489:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(33087),i=n(62714),o=n(63465),s=n(53817);function a(e){return["html","body","#document"].indexOf((0,o.Z)(e))>=0?e.ownerDocument.body:(0,s.Re)(e)&&(0,i.Z)(e)?e:a((0,r.Z)(e))}var u=n(62475);function c(e,t){var n;void 0===t&&(t=[]);var o=a(e),s=o===(null==(n=e.ownerDocument)?void 0:n.body),l=(0,u.Z)(o),p=s?[l].concat(l.visualViewport||[],(0,i.Z)(o)?o:[]):o,f=t.concat(p);return s?f:f.concat(c((0,r.Z)(p)))}},71899:(e,t,n)=>{n.d(t,{BL:()=>c,Ct:()=>g,F2:()=>o,I:()=>i,Pj:()=>f,YP:()=>h,bw:()=>m,d7:()=>a,k5:()=>d,mv:()=>u,t$:()=>s,ut:()=>l,we:()=>r,xs:()=>v,zV:()=>p});var r="top",i="bottom",o="right",s="left",a="auto",u=[r,i,o,s],c="start",l="end",p="clippingParents",f="viewport",d="popper",h="reference",m=u.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+l])}),[]),g=[].concat(u,[a]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+l])}),[]),v=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"]},2012:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(56066),i=n(15262),o=n(46159),s=n(71899);function a(e){var t,n=e.reference,a=e.element,u=e.placement,c=u?(0,r.Z)(u):null,l=u?(0,i.Z)(u):null,p=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2;switch(c){case s.we:t={x:p,y:n.y-a.height};break;case s.I:t={x:p,y:n.y+n.height};break;case s.F2:t={x:n.x+n.width,y:f};break;case s.t$:t={x:n.x-a.width,y:f};break;default:t={x:n.x,y:n.y}}var d=c?(0,o.Z)(c):null;if(null!=d){var h="y"===d?"height":"width";switch(l){case s.BL:t[d]=t[d]-(n[h]/2-a[h]/2);break;case s.ut:t[d]=t[d]+(n[h]/2-a[h]/2)}}return t}},34530:(e,t,n)=>{n.d(t,{Z:()=>C});var r=n(71899),i=n(62475),o=n(55565),s=n(41061),a=n(8269);var u=n(76594),c=n(47370),l=n(53295);var p=n(54489),f=n(59590),d=n(53817),h=n(31778),m=n(33087),g=n(25681),v=n(63465);function y(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function b(e,t,n){return t===r.Pj?y(function(e,t){var n=(0,i.Z)(e),r=(0,o.Z)(e),u=n.visualViewport,c=r.clientWidth,l=r.clientHeight,p=0,f=0;if(u){c=u.width,l=u.height;var d=(0,a.Z)();(d||!d&&"fixed"===t)&&(p=u.offsetLeft,f=u.offsetTop)}return{width:c,height:l,x:p+(0,s.Z)(e),y:f}}(e,n)):(0,d.kK)(t)?function(e,t){var n=(0,h.Z)(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):y(function(e){var t,n=(0,o.Z)(e),r=(0,c.Z)(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=(0,l.Fp)(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),p=(0,l.Fp)(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),f=-r.scrollLeft+(0,s.Z)(e),d=-r.scrollTop;return"rtl"===(0,u.Z)(i||n).direction&&(f+=(0,l.Fp)(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:p,x:f,y:d}}((0,o.Z)(e)))}function x(e,t,n,r){var i="clippingParents"===t?function(e){var t=(0,p.Z)((0,m.Z)(e)),n=["absolute","fixed"].indexOf((0,u.Z)(e).position)>=0&&(0,d.Re)(e)?(0,f.Z)(e):e;return(0,d.kK)(n)?t.filter((function(e){return(0,d.kK)(e)&&(0,g.Z)(e,n)&&"body"!==(0,v.Z)(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=b(e,n,r);return t.top=(0,l.Fp)(i.top,t.top),t.right=(0,l.VV)(i.right,t.right),t.bottom=(0,l.VV)(i.bottom,t.bottom),t.left=(0,l.Fp)(i.left,t.left),t}),b(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}var w=n(2012),_=n(62631),S=n(8104);function C(e,t){void 0===t&&(t={});var n=t,i=n.placement,s=void 0===i?e.placement:i,a=n.strategy,u=void 0===a?e.strategy:a,c=n.boundary,l=void 0===c?r.zV:c,p=n.rootBoundary,f=void 0===p?r.Pj:p,m=n.elementContext,g=void 0===m?r.k5:m,v=n.altBoundary,b=void 0!==v&&v,C=n.padding,k=void 0===C?0:C,E=(0,_.Z)("number"!=typeof k?k:(0,S.Z)(k,r.mv)),O=g===r.k5?r.YP:r.k5,I=e.rects.popper,T=e.elements[b?O:g],A=x((0,d.kK)(T)?T:T.contextElement||(0,o.Z)(e.elements.popper),l,f,u),P=(0,h.Z)(e.elements.reference),R=(0,w.Z)({reference:P,element:I,strategy:"absolute",placement:s}),N=y(Object.assign({},I,R)),D=g===r.k5?N:P,B={top:A.top-D.top+E.top,bottom:D.bottom-A.bottom+E.bottom,left:A.left-D.left+E.left,right:D.right-A.right+E.right},U=e.modifiersData.offset;if(g===r.k5&&U){var j=U[s];Object.keys(B).forEach((function(e){var t=[r.F2,r.I].indexOf(e)>=0?1:-1,n=[r.we,r.I].indexOf(e)>=0?"y":"x";B[e]+=j[n]*t}))}return B}},8104:(e,t,n)=>{function r(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}n.d(t,{Z:()=>r})},56066:(e,t,n)=>{function r(e){return e.split("-")[0]}n.d(t,{Z:()=>r})},89371:(e,t,n)=>{function r(){return{top:0,right:0,bottom:0,left:0}}n.d(t,{Z:()=>r})},46159:(e,t,n)=>{function r(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}n.d(t,{Z:()=>r})},15262:(e,t,n)=>{function r(e){return e.split("-")[1]}n.d(t,{Z:()=>r})},53295:(e,t,n)=>{n.d(t,{Fp:()=>r,NM:()=>o,VV:()=>i});var r=Math.max,i=Math.min,o=Math.round},62631:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(89371);function i(e){return Object.assign({},(0,r.Z)(),e)}},11434:(e,t,n)=>{function r(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}n.d(t,{Z:()=>r})},85892:(e,t,n)=>{n.d(t,{P:()=>s});var r=n(76974),i=n(2844),o=n(77176);const s={URI:"Observable",map:(e,t)=>e.pipe((0,o.U)(t)),ap:(e,t)=>(0,i.aj)([e,t]).pipe((0,o.U)((([e,t])=>e(t)))),of:e=>(0,r.of)(e)}},19744:e=>{var t=-1,n=10,r=0;function i(e,n,c,l){if(e===n)return e?[[0,e]]:[];if(null!=c){var p=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,o=e.length,s=t.length;if(0===r.length&&(null===i||0===i.length)){var a=r.index,u=e.slice(0,a),c=e.slice(a),l=i?i.index:null,p=a+s-o;if((null===l||l===p)&&!(p<0||p>s)){var f=t.slice(0,p);if((g=t.slice(p))===c){var h=Math.min(a,p);if((y=u.slice(0,h))===(x=f.slice(0,h)))return d(y,u.slice(h),f.slice(h),c)}}if(null===l||l===a){var m=a,g=(f=t.slice(0,m),t.slice(m));if(f===u){var v=Math.min(o-m,s-m);if((b=c.slice(c.length-v))===(w=g.slice(g.length-v)))return d(u,c.slice(0,c.length-v),g.slice(0,g.length-v),b)}}}if(r.length>0&&i&&0===i.length){var y=e.slice(0,r.index),b=e.slice(r.index+r.length);if(!(s<(h=y.length)+(v=b.length))){var x=t.slice(0,h),w=t.slice(s-v);if(y===x&&b===w)return d(y,e.slice(h,o-v),t.slice(h,s-v),b)}}return null}(e,n,c);if(p)return p}var f=s(e,n),h=e.substring(0,f);f=a(e=e.substring(f),n=n.substring(f));var m=e.substring(e.length-f),g=function(e,n){var u;if(!e)return[[1,n]];if(!n)return[[t,e]];var c=e.length>n.length?e:n,l=e.length>n.length?n:e,p=c.indexOf(l);if(-1!==p)return u=[[1,c.substring(0,p)],[0,l],[1,c.substring(p+l.length)]],e.length>n.length&&(u[0][0]=u[2][0]=t),u;if(1===l.length)return[[t,e],[1,n]];var f=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,o,u,c=e.substring(n,n+Math.floor(e.length/4)),l=-1,p="";-1!==(l=t.indexOf(c,l+1));){var f=s(e.substring(n),t.substring(l)),d=a(e.substring(0,n),t.substring(0,l));p.length<d+f&&(p=t.substring(l-d,l)+t.substring(l,l+f),r=e.substring(0,n-d),i=e.substring(n+f),o=t.substring(0,l-d),u=t.substring(l+f))}return 2*p.length>=e.length?[r,i,o,u,p]:null}var o,u,c,l,p,f=i(n,r,Math.ceil(n.length/4)),d=i(n,r,Math.ceil(n.length/2));if(!f&&!d)return null;o=d?f&&f[4].length>d[4].length?f:d:f;e.length>t.length?(u=o[0],c=o[1],l=o[2],p=o[3]):(l=o[0],p=o[1],u=o[2],c=o[3]);var h=o[4];return[u,c,l,p,h]}(e,n);if(f){var d=f[0],h=f[1],m=f[2],g=f[3],v=f[4],y=i(d,m),b=i(h,g);return y.concat([[0,v]],b)}return function(e,n){for(var i=e.length,s=n.length,a=Math.ceil((i+s)/2),u=a,c=2*a,l=new Array(c),p=new Array(c),f=0;f<c;f++)l[f]=-1,p[f]=-1;l[u+1]=0,p[u+1]=0;for(var d=i-s,h=d%2!=0,m=0,g=0,v=0,y=0,b=0;b<a&&!(r>0&&performance.now()>r);b++){for(var x=-b+m;x<=b-g;x+=2){for(var w=u+x,_=(O=x===-b||x!==b&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-x;O<i&&_<s&&e.charAt(O)===n.charAt(_);)O++,_++;if(l[w]=O,O>i)g+=2;else if(_>s)m+=2;else if(h){if((k=u+d-x)>=0&&k<c&&-1!==p[k])if(O>=(C=i-p[k]))return o(e,n,O,_)}}for(var S=-b+v;S<=b-y;S+=2){for(var C,k=u+S,E=(C=S===-b||S!==b&&p[k-1]<p[k+1]?p[k+1]:p[k-1]+1)-S;C<i&&E<s&&e.charAt(i-C-1)===n.charAt(s-E-1);)C++,E++;if(p[k]=C,C>i)y+=2;else if(E>s)v+=2;else if(!h){if((w=u+d-S)>=0&&w<c&&-1!==l[w]){var O;_=u+(O=l[w])-w;if(O>=(C=i-C))return o(e,n,O,_)}}}}return[[t,e],[1,n]]}(e,n)}(e=e.substring(0,e.length-f),n=n.substring(0,n.length-f));return h&&g.unshift([0,h]),m&&g.push([0,m]),u(g,l),g}function o(e,t,n,r){var o=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),u=t.substring(r),c=i(o,s),l=i(a,u);return c.concat(l)}function s(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return c(e.charCodeAt(i-1))&&i--,i}function a(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return l(e.charCodeAt(e.length-i))&&i--,i}function u(e,n){e.push([0,""]);for(var r,i=0,o=0,c=0,l="",d="";i<e.length;)if(i<e.length-1&&!e[i][1])e.splice(i,1);else switch(e[i][0]){case 1:c++,d+=e[i][1],i++;break;case t:o++,l+=e[i][1],i++;break;case 0:var h=i-c-o-1;if(n){if(h>=0&&f(e[h][1])){var m=e[h][1].slice(-1);if(e[h][1]=e[h][1].slice(0,-1),l=m+l,d=m+d,!e[h][1]){e.splice(h,1),i--;var g=h-1;e[g]&&1===e[g][0]&&(c++,d=e[g][1]+d,g--),e[g]&&e[g][0]===t&&(o++,l=e[g][1]+l,g--),h=g}}if(p(e[i][1])){m=e[i][1].charAt(0);e[i][1]=e[i][1].slice(1),l+=m,d+=m}}if(i<e.length-1&&!e[i][1]){e.splice(i,1);break}if(l.length>0||d.length>0){l.length>0&&d.length>0&&(0!==(r=s(d,l))&&(h>=0?e[h][1]+=d.substring(0,r):(e.splice(0,0,[0,d.substring(0,r)]),i++),d=d.substring(r),l=l.substring(r)),0!==(r=a(d,l))&&(e[i][1]=d.substring(d.length-r)+e[i][1],d=d.substring(0,d.length-r),l=l.substring(0,l.length-r)));var v=c+o;0===l.length&&0===d.length?(e.splice(i-v,v),i-=v):0===l.length?(e.splice(i-v,v,[1,d]),i=i-v+1):0===d.length?(e.splice(i-v,v,[t,l]),i=i-v+1):(e.splice(i-v,v,[t,l],[1,d]),i=i-v+2)}0!==i&&0===e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,c=0,o=0,l="",d=""}""===e[e.length-1][1]&&e.pop();var y=!1;for(i=1;i<e.length-1;)0===e[i-1][0]&&0===e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)===e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),y=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),y=!0)),i++;y&&u(e,n)}function c(e){return e>=55296&&e<=56319}function l(e){return e>=56320&&e<=57343}function p(e){return l(e.charCodeAt(0))}function f(e){return c(e.charCodeAt(e.length-1))}function d(e,n,r,i){return f(e)||p(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,r],[0,i]])}function h(e,t,o){return r=n>0?performance.now()+n:0,i(e,t,o,!0)}h.INSERT=1,h.DELETE=t,h.EQUAL=0,h.getTimeoutMs=function(){return n},h.setTimeoutMs=function(e){n=e},e.exports=h},17771:(e,t,n)=>{n.d(t,{Y:()=>u,g:()=>a});var r=n(57050);function i(e,t,n){return function(r){for(var o=Array(n.length+1),s=0;s<n.length;s++)o[s]=n[s];return o[n.length]=r,0===t?e.apply(null,o):i(e,t-1,o)}}var o={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(n){return[e,t,n]}}},4:function(e){return function(t){return function(n){return function(r){return[e,t,n,r]}}}},5:function(e){return function(t){return function(n){return function(r){return function(i){return[e,t,n,r,i]}}}}}};function s(e){return o.hasOwnProperty(e)||(o[e]=i(r.bc,e-1,[])),o[e]}function a(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=t.length,i=s(r),o=e.map(t[0],i),a=1;a<r;a++)o=e.ap(o,t[a]);return o}}function u(e){return function(t){for(var n=Object.keys(t),r=n.length,o=function(e){var t=e.length;switch(t){case 1:return function(t){var n;return(n={})[e[0]]=t,n};case 2:return function(t){return function(n){var r;return(r={})[e[0]]=t,r[e[1]]=n,r}};case 3:return function(t){return function(n){return function(r){var i;return(i={})[e[0]]=t,i[e[1]]=n,i[e[2]]=r,i}}};case 4:return function(t){return function(n){return function(r){return function(i){var o;return(o={})[e[0]]=t,o[e[1]]=n,o[e[2]]=r,o[e[3]]=i,o}}}};case 5:return function(t){return function(n){return function(r){return function(i){return function(o){var s;return(s={})[e[0]]=t,s[e[1]]=n,s[e[2]]=r,s[e[3]]=i,s[e[4]]=o,s}}}}};default:return i((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i={},o=0;o<t;o++)i[e[o]]=n[o];return i}),t-1,[])}}(n),s=e.map(t[n[0]],o),a=1;a<r;a++)s=e.ap(s,t[n[a]]);return s}}},19429:(e,t,n)=>{n.d(t,{I_:()=>s,UI:()=>g,VF:()=>o,r1:()=>E});var r=n(95195),i=n(57050),o=i.yR,s=function(e){return function(t){return function(n){return t(e(n))}}},a=function(e,t){return(0,i.zG)(e,g(t))},u=function(e,t){return(0,i.zG)(e,y(t))},c=function(e,t){return(0,i.zG)(e,w(t))},l=function(e,t){return(0,i.zG)(e,_(t))},p=function(e,t,n){return(0,i.zG)(e,S(t,n))},f=function(e){return function(t){var n=t[0],r=t[1];return[e(n),r]}},d=function(e){return function(t){var n=t[0],r=t[1];return[n,e(r)]}},h=function(e){return r.g_((function(t){return r.t$(e(t))}),r.F2)},m=function(e){return r.g_(r.t$,(function(t){return r.F2(e(t))}))},g=function(e){return function(t){return function(n){return e(t(n))}}},v=function(e){return function(t){return function(n){return t(n)(e(n))}}},y=v,b=i.a9,x=function(e){return function(t){return function(n){return e(t(n))(n)}}},w=x,_=function(e){return function(t){return(0,i.ls)(e,t)}},S=function(e,t){return function(n){return function(r){return t(n(e(r)))}}},C=function(){return i.yR},k="Reader";var E={URI:k,map:a,of:b,ap:u,chain:c,promap:p,compose:l,id:C,first:f,second:d,left:h,right:m}},48044:(e,t,n)=>{n.d(t,{AO:()=>m,DZ:()=>G,EG:()=>v,Eh:()=>k,FP:()=>w,KM:()=>h,P5:()=>_,Su:()=>F,Sw:()=>x,UI:()=>z,VO:()=>d,Wl:()=>y,XP:()=>f,YH:()=>K,ZN:()=>a,ZQ:()=>g,cS:()=>C,cq:()=>b,dO:()=>q,dp:()=>u,fP:()=>l,hX:()=>L,kr:()=>S,oA:()=>M,oh:()=>Z,qO:()=>W,ri:()=>O,t9:()=>p,tV:()=>$,uK:()=>V,uZ:()=>E,xb:()=>c,xu:()=>Y});var r=n(95195),i=n(73975);if(1307!=n.j)var o=n(57050);var s=n(5114);function a(e,t){return{show:function(n){var r="";return n.forEach((function(n,i){r+="["+e.show(i)+", "+t.show(n)+"], "})),""!==r&&(r=r.substring(0,r.length-2)),"new Map(["+r+"])"}}}function u(e){return e.size}function c(e){return 0===e.size}function l(e){var t=_(e);return function(n,r){if(void 0===r){var i=l(e);return function(e){return i(n,e)}}return s.isSome(t(n,r))}}function p(e){return function(t,n){if(void 0===n){var r=p(e);return function(e){return r(t,e)}}for(var i,o=n.values();!(i=o.next()).done;){var s=i.value;if(e.equals(t,s))return!0}return!1}}function f(e){return function(t){return Array.from(t.keys()).sort(e.compare)}}function d(e){return function(t){return Array.from(t.values()).sort(e.compare)}}function h(e){var t=f(e);return function(e){return function(n){for(var r=[],i=0,o=t(n);i<o.length;i++){var s=o[i];r.push(e(s,n.get(s)))}return r}}}function m(e){return h(e)((function(e,t){return[e,t]}))}function g(e){var t=w(e);return function(e,n){return function(r){var i,o=t(e,r);return s.isNone(o)?((i=new Map(r)).set(e,n),i):o.value[1]!==n?((i=new Map(r)).set(o.value[0],n),i):r}}}function v(e){var t=w(e);return function(e){return function(n){var r=t(e,n);if(s.isSome(r)){var i=new Map(n);return i.delete(r.value[0]),i}return n}}}function y(e){var t=w(e);return function(e,n){return function(r){var i=t(e,r);if(s.isNone(i))return s.none;var o=new Map(r);return o.set(i.value[0],n),s.some(o)}}}function b(e){var t=w(e);return function(e,n){return function(r){var i=t(e,r);if(s.isNone(i))return s.none;var o=new Map(r);return o.set(i.value[0],n(i.value[1])),s.some(o)}}}function x(e){var t=_(e),n=v(e);return function(e){var r=n(e);return function(n){return(0,o.zG)(t(e,n),s.map((function(e){return[e,r(n)]})))}}}function w(e){return function(t,n){if(void 0===n){var r=w(e);return function(e){return r(t,e)}}for(var i,o=n.entries();!(i=o.next()).done;){var a=i.value,u=a[0],c=a[1];if(e.equals(u,t))return s.some([u,c])}return s.none}}function _(e){var t=w(e);return function(n,r){if(void 0===r){var i=_(e);return function(e){return i(n,e)}}return(0,o.zG)(t(n,r),s.map((function(e){e[0];return e[1]})))}}function S(e,t){var n=w(e);return function(r,i){if(void 0===i){var o=S(e,t);return function(e){return o(e,r)}}for(var a,u=r.entries();!(a=u.next()).done;){var c=a.value,l=c[0],p=c[1],f=n(l,i);if(s.isNone(f)||!e.equals(l,f.value[0])||!t.equals(p,f.value[1]))return!1}return!0}}var C=new Map;function k(e,t){var n=S(e,t);return(0,i.f7)((function(e,t){return n(e,t)&&n(t,e)}))}function E(e,t){var n=w(e);return{concat:function(e,r){if(e===C)return r;if(r===C)return e;for(var i,o=new Map(e),a=r.entries();!(i=a.next()).done;){var u=i.value,c=u[0],l=u[1],p=n(c,e);s.isSome(p)?o.set(p.value[0],t.concat(p.value[1],l)):o.set(c,l)}return o},empty:C}}function O(e,t){return new Map([[e,t]])}var I=function(e,t){for(var n,r=new Map,i=e.entries();!(n=i.next()).done;){var o=n.value,s=o[0],a=o[1];r.set(s,t(s,a))}return r},T=function(e,t){for(var n,i=new Map,o=new Map,s=e.entries();!(n=s.next()).done;){var a=n.value,u=a[0],c=t(u,a[1]);(0,r.nM)(c)?i.set(u,c.left):o.set(u,c.right)}return{left:i,right:o}},A=function(e,t){for(var n,r=new Map,i=new Map,o=e.entries();!(n=o.next()).done;){var s=n.value,a=s[0],u=s[1];t(a,u)?i.set(a,u):r.set(a,u)}return{left:r,right:i}},P=function(e,t){for(var n,r=new Map,i=e.entries();!(n=i.next()).done;){var o=n.value,a=o[0],u=t(a,o[1]);s.isSome(u)&&r.set(a,u.value)}return r},R=function(e,t){for(var n,r=new Map,i=e.entries();!(n=i.next()).done;){var o=n.value,s=o[0],a=o[1];t(s,a)&&r.set(s,a)}return r},N=function(e,t){return I(e,(function(e,n){return t(n)}))},D=function(e,t){return R(e,(function(e,n){return t(n)}))},B=function(e,t){return P(e,(function(e,n){return t(n)}))},U=function(e,t){return A(e,(function(e,n){return t(n)}))},j=function(e,t){return T(e,(function(e,n){return t(n)}))},M=function(e){for(var t,n=new Map,r=e.entries();!(t=r.next()).done;){var i=t.value,o=i[0],a=i[1];s.isSome(a)&&n.set(o,a.value)}return n},L=function(e){return function(t){return D(t,e)}},G=function(e){return function(t){return B(t,e)}},z=function(e){return function(t){return N(t,e)}},F=function(e){return function(t){return I(t,e)}},V=function(e){return function(t){return U(t,e)}},$=function(e){return function(t){return j(t,e)}},Z=function(e){for(var t,n=new Map,i=new Map,o=e.entries();!(t=o.next()).done;){var s=t.value,a=s[0],u=s[1];(0,r.nM)(u)?n.set(a,u.left):i.set(a,u.right)}return{left:n,right:i}},H="ReadonlyMap";function W(){return{URI:H,_E:void 0,map:N,mapWithIndex:I,compact:M,separate:Z,filter:D,filterMap:B,partition:U,partitionMap:j,partitionMapWithIndex:T,partitionWithIndex:A,filterMapWithIndex:P,filterWithIndex:R}}function K(e){var t=f(e),n=function(e,n,r){for(var i=n,o=t(e),s=o.length,a=0;a<s;a++){var u=o[a];i=r(u,i,e.get(u))}return i},r=function(e){return function(n,r){for(var i=e.empty,o=t(n),s=o.length,a=0;a<s;a++){var u=o[a];i=e.concat(i,r(u,n.get(u)))}return i}},i=function(e,n,r){for(var i=n,o=t(e),s=o.length-1;s>=0;s--){var a=o[s];i=r(a,e.get(a),i)}return i},o=function(e){return function(n,r){for(var i=e.of(C),o=t(n),s=o.length,a=function(t){var s=o[t],a=n.get(s);i=e.ap(e.map(i,(function(e){return function(t){return new Map(e).set(s,t)}})),r(s,a))},u=0;u<s;u++)a(u);return i}},s=function(e){var t=o(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}};return{URI:H,_E:void 0,map:N,compact:M,separate:Z,filter:D,filterMap:B,partition:U,partitionMap:j,reduce:function(e,t,r){return n(e,t,(function(e,t,n){return r(t,n)}))},foldMap:function(e){var t=r(e);return function(e,n){return t(e,(function(e,t){return n(t)}))}},reduceRight:function(e,t,n){return i(e,t,(function(e,t,r){return n(t,r)}))},traverse:s,sequence:function(e){var t=o(e);return function(e){return t(e,(function(e,t){return t}))}},mapWithIndex:I,reduceWithIndex:n,foldMapWithIndex:r,reduceRightWithIndex:i,traverseWithIndex:o,wilt:function(e){var t=s(e);return function(n,r){return e.map(t(n,r),Z)}},wither:function(e){var t=s(e);return function(n,r){return e.map(t(n,r),M)}}}}var q={URI:H,map:N},Y={URI:H,map:N,compact:M,separate:Z,filter:D,filterMap:B,partition:U,partitionMap:j}},13853:(e,t,n)=>{n.d(t,{$T:()=>k,AO:()=>a,DZ:()=>A,Eh:()=>u,G:()=>c,G0:()=>g,KX:()=>d,Lf:()=>x,Lx:()=>S,Od:()=>E,UI:()=>l,ZN:()=>o,e5:()=>b,hX:()=>h,jV:()=>v,nI:()=>O,oA:()=>I,oP:()=>w,ri:()=>C,t9:()=>m,tS:()=>f,tV:()=>y,u4:()=>_,xu:()=>T,yW:()=>p});var r=n(73975),i=n(57050);function o(e){return{show:function(t){var n="";return t.forEach((function(t){n+=e.show(t)+", "})),""!==n&&(n=n.substring(0,n.length-2)),"new Set(["+n+"])"}}}var s=new Set;function a(e){return function(t){var n=[];return t.forEach((function(e){return n.push(e)})),n.sort(e.compare)}}function u(e){var t=d(e);return(0,r.f7)((function(e,n){return t(e,n)&&t(n,e)}))}function c(e){return function(t){for(var n,r=t.values(),i=!1;!i&&!(n=r.next()).done;)i=e(n.value);return i}}function l(e){var t=m(e);return function(e){return function(n){var r=new Set;return n.forEach((function(n){var i=e(n);t(i,r)||r.add(i)})),r}}}function p(e){return(0,i.ff)(c((0,i.ff)(e)))}function f(e){var t=m(e);return function(e){return function(n){var r=new Set;return n.forEach((function(n){e(n).forEach((function(e){t(e,r)||r.add(e)}))})),r}}}function d(e){var t=m(e);return function(n,r){if(void 0===r){var i=d(e);return function(e){return i(e,n)}}return p((function(e){return t(e,r)}))(n)}}function h(e){return function(t){for(var n,r=t.values(),i=new Set;!(n=r.next()).done;){var o=n.value;e(o)&&i.add(o)}return i}}function m(e){return function(t,n){if(void 0===n){var r=m(e);return function(e){return r(t,e)}}for(var i,o=n.values(),s=!1;!s&&!(i=o.next()).done;)s=e.equals(t,i.value);return s}}function g(e){var t=m(e);return function(n,r){if(void 0===r){var i=g(e);return function(e){return i(n,e)}}if(n===s)return r;if(r===s)return n;var o=new Set(n);return r.forEach((function(e){t(e,o)||o.add(e)})),o}}function v(e){var t=m(e);return function(n,r){if(void 0===r){var i=v(e);return function(e){return i(e,n)}}if(n===s||r===s)return s;var o=new Set;return n.forEach((function(e){t(e,r)&&o.add(e)})),o}}function y(e,t){return function(n){return function(r){for(var i,o=r.values(),s=new Set,a=new Set,u=m(e),c=m(t);!(i=o.next()).done;){var l=n(i.value);switch(l._tag){case"Left":u(l.left,s)||s.add(l.left);break;case"Right":c(l.right,a)||a.add(l.right)}}return{left:s,right:a}}}}function b(e){var t=m(e);return function(n,r){if(void 0===r){var i=b(e);return function(e){return i(e,n)}}return h((function(e){return!t(e,r)}))(n)}}function x(e){return{concat:g(e),empty:s}}function w(e){return{concat:v(e)}}function _(e){var t=a(e);return function(e,n){return function(r){return t(r).reduce(n,e)}}}function S(e,t){var n=a(e);return function(e){return function(r){return n(r).reduce((function(n,r){return t.concat(n,e(r))}),t.empty)}}}function C(e){return new Set([e])}function k(e){var t=m(e);return function(e){return function(n){if(t(e)(n))return n;var r=new Set(n);return r.add(e),r}}}function E(e){return function(t){return function(n){return h((function(n){return!e.equals(t,n)}))(n)}}}function O(e){return function(t){for(var n=t.length,r=new Set,i=m(e),o=0;o<n;o++){var s=t[o];i(s,r)||r.add(s)}return r}}function I(e){return A(e)(i.yR)}function T(e,t){return function(n){var r=m(e),i=m(t),o=new Set,s=new Set;return n.forEach((function(e){switch(e._tag){case"Left":r(e.left,o)||o.add(e.left);break;case"Right":i(e.right,s)||s.add(e.right)}})),{left:o,right:s}}}function A(e){var t=m(e);return function(e){return function(n){var r=new Set;return n.forEach((function(n){var i=e(n);"Some"!==i._tag||t(i.value,r)||r.add(i.value)})),r}}}},99950:(e,t,n)=>{n.d(t,{ap:()=>l,chain:()=>f,delay:()=>o,fromIO:()=>i,map:()=>c,of:()=>p,task:()=>m});var r=n(57050),i=function(e){return function(){return Promise.resolve(e())}};function o(e){return function(t){return function(){return new Promise((function(n){setTimeout((function(){t().then(n)}),e)}))}}}var s=function(e,t){return(0,r.zG)(e,c(t))},a=function(e,t){return(0,r.zG)(e,l(t))},u=function(e,t){return(0,r.zG)(e,f(t))},c=function(e){return function(t){return function(){return t().then(e)}}},l=function(e){return function(t){return function(){return Promise.all([t(),e()]).then((function(e){return(0,e[0])(e[1])}))}}},p=function(e){return function(){return Promise.resolve(e)}},f=function(e){return function(t){return function(){return t().then((function(t){return e(t)()}))}}},d=r.yR,h="Task";var m={URI:h,map:s,of:p,ap:a,chain:u,fromIO:i,fromTask:d}},62965:(e,t,n)=>{n.d(t,{F2:()=>a,Pd:()=>m,UI:()=>h,Uo:()=>f,Vn:()=>g,a1:()=>b,dk:()=>l,fj:()=>p,g_:()=>d,t$:()=>s,tS:()=>w});var r=n(95195),i=n(57050),o=n(99950),s=(0,i.ls)(r.t$,o.of),a=(0,i.ls)(r.F2,o.of),u=o.map(r.F2),c=o.map(r.t$),l=(0,i.ls)(o.fromIO,u),p=(o.fromIO,o.fromIO),f=1307!=n.j?r.g_(s,(function(e){return a(e)})):null;var d=(0,i.ls)(r.g_,o.chain);r.LF;var h=function(e){return o.map(r.UI(e))},m=(0,i.ls)(r.Pd,o.map),g=function(e){return o.map(r.Vn(e))},v=function(e){return(0,i.ls)(o.map((function(e){return function(t){return r.sL(t)(e)}})),o.ap(e))},y=v,b=function(e){return(0,i.ls)(h((function(){return function(e){return e}})),y(e))},x=function(e){return function(t){return(0,i.zG)(t,o.chain(r.g_(s,e)))}},w=x},93756:(e,t,n)=>{if(n.d(t,{EK:()=>f,Eh:()=>l,F2:()=>s,Hk:()=>a,IS:()=>p,Pd:()=>v,Qp:()=>g,Vn:()=>y,WP:()=>m,ZN:()=>c,g_:()=>u,nM:()=>d,t$:()=>o,tO:()=>h}),1307!=n.j)var r=n(73975);var i=n(5114);n(57050);function o(e){return{_tag:"Left",left:e}}function s(e){return{_tag:"Right",right:e}}function a(e,t){return{_tag:"Both",left:e,right:t}}function u(e,t,n){return function(r){switch(r._tag){case"Left":return e(r.left);case"Right":return t(r.right);case"Both":return n(r.left,r.right)}}}u(s,o,(function(e,t){return a(t,e)}));function c(e,t){return{show:u((function(t){return"left("+e.show(t)+")"}),(function(e){return"right("+t.show(e)+")"}),(function(n,r){return"both("+e.show(n)+", "+t.show(r)+")"}))}}function l(e,t){return(0,r.f7)((function(n,r){return d(n)?d(r)&&e.equals(n.left,r.left):h(n)?h(r)&&t.equals(n.right,r.right):m(r)&&e.equals(n.left,r.left)&&t.equals(n.right,r.right)}))}function p(e){return d(e)?(0,i.some)(e.left):h(e)?i.none:(0,i.some)(e.left)}function f(e){return d(e)?i.none:(h(e),(0,i.some)(e.right))}function d(e){return"Left"===e._tag}function h(e){return"Right"===e._tag}function m(e){return"Both"===e._tag}function g(e,t){return(0,i.isNone)(e)?(0,i.isNone)(t)?i.none:(0,i.some)(s(t.value)):(0,i.isNone)(t)?(0,i.some)(o(e.value)):(0,i.some)(a(e.value,t.value))}var v=function(e,t){return function(n){return d(n)?o(e(n.left)):h(n)?s(t(n.right)):a(e(n.left),t(n.right))}},y=function(e){return function(t){return d(t)?o(e(t.left)):m(t)?a(e(t.left),t.right):t}}},12271:(e,t,n)=>{n.d(t,{Pd:()=>p,li:()=>c,UI:()=>f,Yg:()=>l});var r=n(57050);function i(e){return e[0]}function o(e){return e[1]}var s=function(e,t){return function(n){return[t(i(n)),e(o(n))]}},a=function(e){return function(t){return[e(t),o(t)]}},u=(r.yR,function(e){return function(t){return[e(i(t)),o(t)]}}),c=i,l=o,p=s,f=u},32687:(e,t,n)=>{n.d(t,{Rn:()=>o});var r=n(69243);function i(e){return void 0!==e.message?e.message:"Invalid value ".concat((t=e.value,"function"==typeof t?(0,r.$P)(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")," supplied to ").concat(e.context.map((function(e){var t=e.key,n=e.type;return"".concat(t,": ").concat(n.name)})).join("/"));var t}function o(e){return e.map(i)}(0,n(95195).g_)(o,(function(){return["No errors!"]}))},69243:(e,t,n)=>{n.d(t,{$P:()=>f,Bk:()=>ie,Dy:()=>l,G0:()=>Y,IX:()=>$,Ii:()=>X,JS:()=>d,O7:()=>R,OT:()=>ne,Rn:()=>u,UQ:()=>G,Vp:()=>c,X1:()=>Z,Z_:()=>A,bc:()=>ee,dt:()=>H,i0:()=>U,jV:()=>Q,mM:()=>M,mq:()=>a,pk:()=>P,r$:()=>K,sH:()=>F,w3:()=>H,yR:()=>p});var r,i=n(95195),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},a=i.t$,u=function(e,t,n){return a([{value:e,context:t,message:n}])},c=i.F2,l=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var r=this;return void 0===n&&(n="pipe(".concat(this.name,", ").concat(t.name,")")),new e(n,t.is,(function(e,n){var o=r.validate(e,n);return(0,i.nM)(o)?o:t.validate(o.right,n)}),this.encode===p&&t.encode===p?p:function(e){return r.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),p=function(e){return e};function f(e){return e.displayName||e.name||"<function".concat(e.length,">")}function d(e,t,n,r){for(var i=e.length,o=Array(i+1),s=0;s<i;s++)o[s]=e[s];return o[i]={key:t,type:n,actual:r},o}function h(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])}var m=Object.prototype.hasOwnProperty;function g(e){return Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t].name)})).join(", ")}function v(e){for(var t=0;t<e.length;t++)if(e[t].encode!==p)return!1;return!0}function y(e){return"{ ".concat(g(e)," }")}function b(e){return"Partial<".concat(e,">")}function x(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"}function w(e,t){for(var n=!0,r=!0,i=!D.is(e),o=0,s=t;o<s.length;o++){(l=s[o])!==e&&(n=!1),D.is(l)&&(r=!1)}if(n)return e;if(r)return t[t.length-1];for(var a={},u=0,c=t;u<c.length;u++){var l=c[u];for(var p in l)m.call(a,p)&&!i&&l[p]===e[p]||(a[p]=l[p])}return a}var _={};function S(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];-1!==t.indexOf(o)&&n.push(o)}return n}function C(e){return"LiteralType"===e._tag}function k(e){return"InterfaceType"===e._tag}function E(e){return"UnionType"===e._tag}var O=[];function I(e){if(-1!==O.indexOf(e))return _;if(k(e)||function(e){return"StrictType"===e._tag}(e)){var t=_;for(var n in e.props){var r=e.props[n];C(r)&&(t===_&&(t={}),t[n]=[r.value])}return t}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return I(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,t){return function(e,t){if(e===_)return t;if(t===_)return e;var n=Object.assign({},e);for(var r in t)if(m.call(e,r)){var i=S(e[r],t[r]);if(!(i.length>0)){n=_;break}n[r]=i}else n[r]=t[r];return n}(e,I(t))}),_);if(E(e))return e.types.slice(1).reduce((function(e,t){return function(e,t){if(e===_||t===_)return _;var n=_;for(var r in e)m.call(t,r)&&0===S(e[r],t[r]).length&&(n===_&&(n={}),n[r]=e[r].concat(t[r]));return n}(e,I(t))}),I(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){O.push(e);var i=I(e.type);return O.pop(),i}return _}new(function(e){function t(){var t=e.call(this,"null",(function(e){return null===e}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="NullType",t}return o(t,e),t}(l));var T=new(function(e){function t(){var t=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="UndefinedType",t}return o(t,e),t}(l)),A=(new(function(e){function t(){var t=e.call(this,"void",T.is,T.validate,p)||this;return t._tag="VoidType",t}return o(t,e),t}(l)),new(function(e){function t(){var t=e.call(this,"unknown",(function(e){return!0}),c,p)||this;return t._tag="UnknownType",t}return o(t,e),t}(l)),new(function(e){function t(){var t=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="StringType",t}return o(t,e),t}(l))),P=new(function(e){function t(){var t=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="NumberType",t}return o(t,e),t}(l)),R=(new(function(e){function t(){var t=e.call(this,"bigint",(function(e){return"bigint"==typeof e}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="BigIntType",t}return o(t,e),t}(l)),new(function(e){function t(){var t=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="BooleanType",t}return o(t,e),t}(l))),N=new(function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="AnyArrayType",t}return o(t,e),t}(l)),D=new(function(e){function t(){var t=e.call(this,"UnknownRecord",(function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="AnyDictionaryType",t}return o(t,e),t}(l)),B=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.value=o,s._tag="LiteralType",s}return o(t,e),t}(l);function U(e,t){void 0===t&&(t=JSON.stringify(e));var n=function(t){return t===e};return new B(t,n,(function(t,r){return n(t)?c(e):u(t,r)}),p,e)}var j=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.keys=o,s._tag="KeyofType",s}return o(t,e),t}(l);function M(e,t){void 0===t&&(t=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var n=function(t){return A.is(t)&&m.call(e,t)};return new j(t,n,(function(e,t){return n(e)?c(e):u(e,t)}),p,e)}var L=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t,n,r,i)||this;return a.type=o,a.predicate=s,a._tag="RefinementType",a}return o(t,e),t}(l);function G(e,t,n){return se(e,t,n)}G(P,(function(e){return Number.isInteger(e)}),"Int");var z=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.runDefinition=o,s._tag="RecursiveType",s}return o(t,e),t}(l);function F(e,t){var n,r=function(){return n||((n=t(i)).name=e),n},i=new z(e,(function(e){return r().is(e)}),(function(e,t){return r().validate(e,t)}),(function(e){return r().encode(e)}),r);return i}Object.defineProperty(z.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var V=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.type=o,s._tag="ArrayType",s}return o(t,e),t}(l);function $(e,t){return void 0===t&&(t="Array<".concat(e.name,">")),new V(t,(function(t){return N.is(t)&&t.every(e.is)}),(function(t,n){var r=N.validate(t,n);if((0,i.nM)(r))return r;for(var o=r.right,s=o.length,u=o,l=[],p=0;p<s;p++){var f=o[p],m=e.validate(f,d(n,String(p),e,f));if((0,i.nM)(m))h(l,m.left);else{var g=m.right;g!==f&&(u===o&&(u=o.slice()),u[p]=g)}}return l.length>0?a(l):c(u)}),e.encode===p?p:function(t){return t.map(e.encode)},e)}var Z=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.props=o,s._tag="InterfaceType",s}return o(t,e),t}(l);function H(e,t){void 0===t&&(t=y(e));var n=Object.keys(e),r=n.map((function(t){return e[t]})),o=n.length;return new Z(t,(function(e){if(D.is(e)){for(var t=0;t<o;t++){var i=n[t],s=e[i];if(void 0===s&&!m.call(e,i)||!r[t].is(s))return!1}return!0}return!1}),(function(e,t){var u=D.validate(e,t);if((0,i.nM)(u))return u;for(var l=u.right,p=l,f=[],g=0;g<o;g++){var v=n[g],y=p[v],b=r[g],x=b.validate(y,d(t,v,b,y));if((0,i.nM)(x))h(f,x.left);else{var w=x.right;(w!==y||void 0===w&&!m.call(p,v))&&(p===l&&(p=s({},l)),p[v]=w)}}return f.length>0?a(f):c(p)}),v(r)?p:function(e){for(var t=s({},e),i=0;i<o;i++){var a=n[i],u=r[i].encode;u!==p&&(t[a]=u(e[a]))}return t},e)}var W=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.props=o,s._tag="PartialType",s}return o(t,e),t}(l);function K(e,t){void 0===t&&(t=b(y(e)));var n=Object.keys(e),r=n.map((function(t){return e[t]})),o=n.length;return new W(t,(function(t){if(D.is(t)){for(var r=0;r<o;r++){var i=n[r],s=t[i];if(void 0!==s&&!e[i].is(s))return!1}return!0}return!1}),(function(t,r){var u=D.validate(t,r);if((0,i.nM)(u))return u;for(var l=u.right,p=l,f=[],m=0;m<o;m++){var g=n[m],v=p[g],y=e[g],b=y.validate(v,d(r,g,y,v));if((0,i.nM)(b))void 0!==v&&h(f,b.left);else{var x=b.right;x!==v&&(p===l&&(p=s({},l)),p[g]=x)}}return f.length>0?a(f):c(p)}),v(r)?p:function(e){for(var t=s({},e),i=0;i<o;i++){var a=n[i],u=e[a];void 0!==u&&(t[a]=r[i].encode(u))}return t},e)}!function(e){function t(t,n,r,i,o,s){var a=e.call(this,t,n,r,i)||this;return a.domain=o,a.codomain=s,a._tag="DictionaryType",a}o(t,e)}(l);var q=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.types=o,s._tag="UnionType",s}return o(t,e),t}(l);function Y(e,t){void 0===t&&(t=x(e));var n=function(e){for(var t=I(e[0]),n=Object.keys(t),r=e.length,i=function(n){for(var i=t[n].slice(),o=[t[n]],s=1;s<r;s++){var a=I(e[s])[n];if(void 0===a)return"continue-keys";if(a.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,a),o.push(a)}return{value:[n,o]}},o=0,s=n;o<s.length;o++){var a=i(s[o]);if("object"==typeof a)return a.value}}(e);if(void 0!==n&&e.length>0){var r=n[0],o=n[1],s=o.length,l=function(e){for(var t=0;t<s;t++)if(-1!==o[t].indexOf(e))return t};return new oe(t,(function(t){if(D.is(t)){var n=l(t[r]);return void 0!==n&&e[n].is(t)}return!1}),(function(t,n){var o=D.validate(t,n);if((0,i.nM)(o))return o;var s=o.right,a=l(s[r]);if(void 0===a)return u(t,n);var c=e[a];return c.validate(s,d(n,String(a),c,s))}),v(e)?p:function(n){var i=l(n[r]);if(void 0===i)throw new Error("no codec found to encode value in union codec ".concat(t));return e[i].encode(n)},e,r)}return new q(t,(function(t){return e.some((function(e){return e.is(t)}))}),(function(t,n){for(var r=[],o=0;o<e.length;o++){var s=e[o],u=s.validate(t,d(n,String(o),s,t));if(!(0,i.nM)(u))return c(u.right);h(r,u.left)}return a(r)}),v(e)?p:function(n){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.is(n))return o.encode(n)}throw new Error("no codec found to encode value in union type ".concat(t))},e)}var X=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.types=o,s._tag="IntersectionType",s}return o(t,e),t}(l);function Q(e,t){void 0===t&&(t="(".concat(e.map((function(e){return e.name})).join(" & "),")"));var n=e.length;return new X(t,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?c:function(t,r){for(var o=[],s=[],u=0;u<n;u++){var l=e[u],p=l.validate(t,d(r,String(u),l,t));(0,i.nM)(p)?h(s,p.left):o.push(p.right)}return s.length>0?a(s):c(w(t,o))},0===e.length?p:function(t){return w(t,e.map((function(e){return e.encode(t)})))},e)}var J=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.types=o,s._tag="TupleType",s}return o(t,e),t}(l);function ee(e,t){void 0===t&&(t="[".concat(e.map((function(e){return e.name})).join(", "),"]"));var n=e.length;return new J(t,(function(t){return N.is(t)&&t.length===n&&e.every((function(e,n){return e.is(t[n])}))}),(function(t,r){var o=N.validate(t,r);if((0,i.nM)(o))return o;for(var s=o.right,u=s.length>n?s.slice(0,n):s,l=[],p=0;p<n;p++){var f=s[p],m=e[p],g=m.validate(f,d(r,String(p),m,f));if((0,i.nM)(g))h(l,g.left);else{var v=g.right;v!==f&&(u===s&&(u=s.slice()),u[p]=v)}}return l.length>0?a(l):c(u)}),v(e)?p:function(t){return e.map((function(e,n){return e.encode(t[n])}))},e)}var te=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.type=o,s._tag="ReadonlyType",s}return o(t,e),t}(l);function ne(e,t){return void 0===t&&(t="Readonly<".concat(e.name,">")),new te(t,e.is,e.validate,e.encode,e)}var re=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.type=o,s._tag="ReadonlyArrayType",s}return o(t,e),t}(l);function ie(e,t){void 0===t&&(t="ReadonlyArray<".concat(e.name,">"));var n=$(e);return new re(t,n.is,n.validate,n.encode,e)}!function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.type=o,s._tag="ExactType",s}o(t,e)}(l);new(function(e){function t(){var t=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="FunctionType",t}return o(t,e),t}(l));var oe=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t,n,r,i,o)||this;return a.tag=s,a}return o(t,e),t}(q);new(function(e){function t(){var t=e.call(this,"never",(function(e){return!1}),(function(e,t){return u(e,t)}),(function(){throw new Error("cannot encode never")}))||this;return t._tag="NeverType",t}return o(t,e),t}(l)),new(function(e){function t(){var t=e.call(this,"any",(function(e){return!0}),c,p)||this;return t._tag="AnyType",t}return o(t,e),t}(l)),new(function(e){function t(){var t=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,n){return t.is(e)?c(e):u(e,n)}),p)||this;return t._tag="ObjectType",t}return o(t,e),t}(l));function se(e,t,n){return void 0===n&&(n="(".concat(e.name," | ").concat(f(t),")")),new L(n,(function(n){return e.is(n)&&t(n)}),(function(n,r){var o=e.validate(n,r);if((0,i.nM)(o))return o;var s=o.right;return t(s)?c(s):u(s,r)}),e.encode,e,t)}se(P,Number.isInteger,"Integer"),function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.props=o,s._tag="StrictType",s}o(t,e)}(l)},99129:e=>{e.exports=self.FormData},54335:e=>{var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var a,u,c,l;if(Array.isArray(e)){if((a=e.length)!=s.length)return!1;for(u=a;0!=u--;)if(!o(e[u],s[u]))return!1;return!0}if(n&&e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!s.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!o(u.value[1],s.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!s.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((a=e.length)!=s.length)return!1;for(u=a;0!=u--;)if(e[u]!==s[u])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((a=(c=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(u=a;0!=u--;)if(!Object.prototype.hasOwnProperty.call(s,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=a;0!=u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!o(e[c[u]],s[c[u]]))return!1;return!0}return e!=e&&s!=s}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},74204:(e,t,n)=>{n.d(t,{D:()=>re});var r=n(27378),i=n(31542),o=n(31778),s=n(47370),a=n(62475),u=n(53817);var c=n(63465),l=n(41061),p=n(55565),f=n(62714),d=n(53295);function h(e,t,n){void 0===n&&(n=!1);var r,i,h=(0,u.Re)(t),m=(0,u.Re)(t)&&function(e){var t=e.getBoundingClientRect(),n=(0,d.NM)(t.width)/e.offsetWidth||1,r=(0,d.NM)(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),g=(0,p.Z)(t),v=(0,o.Z)(e,m,n),y={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(h||!h&&!n)&&(("body"!==(0,c.Z)(t)||(0,f.Z)(g))&&(y=(r=t)!==(0,a.Z)(r)&&(0,u.Re)(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:(0,s.Z)(r)),(0,u.Re)(t)?((b=(0,o.Z)(t,!0)).x+=t.clientLeft,b.y+=t.clientTop):g&&(b.x=(0,l.Z)(g))),{x:v.left+y.scrollLeft-b.x,y:v.top+y.scrollTop-b.y,width:v.width,height:v.height}}function m(e){var t=(0,o.Z)(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}var g=n(54489),v=n(59590),y=n(71899);function b(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}var x={placement:"bottom",modifiers:[],strategy:"absolute"};function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function _(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?x:i;return function(e,t,n){void 0===n&&(n=o);var i,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},x,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,p={state:a,setOptions:function(n){var i="function"==typeof n?n(a.options):n;f(),a.options=Object.assign({},o,a.options,i),a.scrollParents={reference:(0,u.kK)(e)?(0,g.Z)(e):e.contextElement?(0,g.Z)(e.contextElement):[],popper:(0,g.Z)(t)};var s=function(e){var t=b(e);return y.xs.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=s.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:a,name:t,instance:p,options:r}),s=function(){};c.push(o||s)}})),p.update()},forceUpdate:function(){if(!l){var e=a.elements,t=e.reference,n=e.popper;if(w(t,n)){a.rects={reference:h(t,(0,v.Z)(n),"fixed"===a.options.strategy),popper:m(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,s=i.options,u=void 0===s?{}:s,c=i.name;"function"==typeof o&&(a=o({state:a,options:u,name:c,instance:p})||a)}else a.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){p.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(i())}))}))),s}),destroy:function(){f(),l=!0}};if(!w(e,t))return p;function f(){c.forEach((function(e){return e()})),c=[]}return p.setOptions(n).then((function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)})),p}}var S={passive:!0};const C={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,u=void 0===s||s,c=(0,a.Z)(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&l.forEach((function(e){e.addEventListener("scroll",n.update,S)})),u&&c.addEventListener("resize",n.update,S),function(){o&&l.forEach((function(e){e.removeEventListener("scroll",n.update,S)})),u&&c.removeEventListener("resize",n.update,S)}},data:{}};var k=n(2012);const E={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=(0,k.Z)({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var O=n(76594),I=n(56066),T=n(15262),A={top:"auto",right:"auto",bottom:"auto",left:"auto"};function P(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,u=e.position,c=e.gpuAcceleration,l=e.adaptive,f=e.roundOffsets,h=e.isFixed,m=s.x,g=void 0===m?0:m,b=s.y,x=void 0===b?0:b,w="function"==typeof f?f({x:g,y:x}):{x:g,y:x};g=w.x,x=w.y;var _=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),C=y.t$,k=y.we,E=self;if(l){var I=(0,v.Z)(n),T="clientHeight",P="clientWidth";if(I===(0,a.Z)(n)&&(I=(0,p.Z)(n),"static"!==(0,O.Z)(I).position&&"absolute"===u&&(T="scrollHeight",P="scrollWidth")),i===y.we||(i===y.t$||i===y.F2)&&o===y.ut)k=y.I,x-=(h&&I===E&&E.visualViewport?E.visualViewport.height:I[T])-r.height,x*=c?1:-1;if(i===y.t$||(i===y.we||i===y.I)&&o===y.ut)C=y.F2,g-=(h&&I===E&&E.visualViewport?E.visualViewport.width:I[P])-r.width,g*=c?1:-1}var R,N=Object.assign({position:u},l&&A),D=!0===f?function(e){var t=e.x,n=e.y,r=self.devicePixelRatio||1;return{x:(0,d.NM)(t*r)/r||0,y:(0,d.NM)(n*r)/r||0}}({x:g,y:x}):{x:g,y:x};return g=D.x,x=D.y,c?Object.assign({},N,((R={})[k]=S?"0":"",R[C]=_?"0":"",R.transform=(E.devicePixelRatio||1)<=1?"translate("+g+"px, "+x+"px)":"translate3d("+g+"px, "+x+"px, 0)",R)):Object.assign({},N,((t={})[k]=S?x+"px":"",t[C]=_?g+"px":"",t.transform="",t))}const R={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,u=void 0===a||a,c={placement:(0,I.Z)(t.placement),variation:(0,T.Z)(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,P(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,P(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const N={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];(0,u.Re)(i)&&(0,c.Z)(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,u.Re)(r)&&(0,c.Z)(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const D={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=y.Ct.reduce((function(e,n){return e[n]=function(e,t,n){var r=(0,I.Z)(e),i=[y.t$,y.we].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[y.t$,y.F2].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],u=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};var B={left:"right",right:"left",bottom:"top",top:"bottom"};function U(e){return e.replace(/left|right|bottom|top/g,(function(e){return B[e]}))}var j={start:"end",end:"start"};function M(e){return e.replace(/start|end/g,(function(e){return j[e]}))}var L=n(34530);const G={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,u=n.fallbackPlacements,c=n.padding,l=n.boundary,p=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,h=void 0===d||d,m=n.allowedAutoPlacements,g=t.options.placement,v=(0,I.Z)(g),b=u||(v===g||!h?[U(g)]:function(e){if((0,I.Z)(e)===y.d7)return[];var t=U(e);return[M(e),t,M(t)]}(g)),x=[g].concat(b).reduce((function(e,n){return e.concat((0,I.Z)(n)===y.d7?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?y.Ct:u,l=(0,T.Z)(r),p=l?a?y.bw:y.bw.filter((function(e){return(0,T.Z)(e)===l})):y.mv,f=p.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=p);var d=f.reduce((function(t,n){return t[n]=(0,L.Z)(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[(0,I.Z)(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:p,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,S=new Map,C=!0,k=x[0],E=0;E<x.length;E++){var O=x[E],A=(0,I.Z)(O),P=(0,T.Z)(O)===y.BL,R=[y.we,y.I].indexOf(A)>=0,N=R?"width":"height",D=(0,L.Z)(t,{placement:O,boundary:l,rootBoundary:p,altBoundary:f,padding:c}),B=R?P?y.F2:y.t$:P?y.I:y.we;w[N]>_[N]&&(B=U(B));var j=U(B),G=[];if(o&&G.push(D[A]<=0),a&&G.push(D[B]<=0,D[j]<=0),G.every((function(e){return e}))){k=O,C=!1;break}S.set(O,G)}if(C)for(var z=function(e){var t=x.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},F=h?3:1;F>0;F--){if("break"===z(F))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};var z=n(46159);function F(e,t,n){return(0,d.Fp)(e,(0,d.VV)(t,n))}var V=n(89371);const $={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,p=n.padding,f=n.tether,h=void 0===f||f,g=n.tetherOffset,b=void 0===g?0:g,x=(0,L.Z)(t,{boundary:u,rootBoundary:c,padding:p,altBoundary:l}),w=(0,I.Z)(t.placement),_=(0,T.Z)(t.placement),S=!_,C=(0,z.Z)(w),k="x"===C?"y":"x",E=t.modifiersData.popperOffsets,O=t.rects.reference,A=t.rects.popper,P="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,R="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,D={x:0,y:0};if(E){if(o){var B,U="y"===C?y.we:y.t$,j="y"===C?y.I:y.F2,M="y"===C?"height":"width",G=E[C],$=G+x[U],Z=G-x[j],H=h?-A[M]/2:0,W=_===y.BL?O[M]:A[M],K=_===y.BL?-A[M]:-O[M],q=t.elements.arrow,Y=h&&q?m(q):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:(0,V.Z)(),Q=X[U],J=X[j],ee=F(0,O[M],Y[M]),te=S?O[M]/2-H-ee-Q-R.mainAxis:W-ee-Q-R.mainAxis,ne=S?-O[M]/2+H+ee+J+R.mainAxis:K+ee+J+R.mainAxis,re=t.elements.arrow&&(0,v.Z)(t.elements.arrow),ie=re?"y"===C?re.clientTop||0:re.clientLeft||0:0,oe=null!=(B=null==N?void 0:N[C])?B:0,se=G+te-oe-ie,ae=G+ne-oe,ue=F(h?(0,d.VV)($,se):$,G,h?(0,d.Fp)(Z,ae):Z);E[C]=ue,D[C]=ue-G}if(a){var ce,le="x"===C?y.we:y.t$,pe="x"===C?y.I:y.F2,fe=E[k],de="y"===k?"height":"width",he=fe+x[le],me=fe-x[pe],ge=-1!==[y.we,y.t$].indexOf(w),ve=null!=(ce=null==N?void 0:N[k])?ce:0,ye=ge?he:fe-O[de]-A[de]-ve+R.altAxis,be=ge?fe+O[de]+A[de]-ve-R.altAxis:me,xe=h&&ge?function(e,t,n){var r=F(e,t,n);return r>n?n:r}(ye,fe,be):F(h?ye:he,fe,h?be:me);E[k]=xe,D[k]=xe-fe}t.modifiersData[r]=D}},requiresIfExists:["offset"]};var Z=n(25681),H=n(62631),W=n(8104);const K={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=(0,I.Z)(n.placement),u=(0,z.Z)(a),c=[y.t$,y.F2].indexOf(a)>=0?"height":"width";if(o&&s){var l=function(e,t){return e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,(0,H.Z)("number"!=typeof e?e:(0,W.Z)(e,y.mv))}(i.padding,n),p=m(o),f="y"===u?y.we:y.t$,d="y"===u?y.I:y.F2,h=n.rects.reference[c]+n.rects.reference[u]-s[u]-n.rects.popper[c],g=s[u]-n.rects.reference[u],b=(0,v.Z)(o),x=b?"y"===u?b.clientHeight||0:b.clientWidth||0:0,w=h/2-g/2,_=l[f],S=x-p[c]-l[d],C=x/2-p[c]/2+w,k=F(_,C,S),E=u;n.modifiersData[r]=((t={})[E]=k,t.centerOffset=k-C,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&(0,Z.Z)(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function q(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Y(e){return[y.we,y.F2,y.I,y.t$].some((function(t){return e[t]>=0}))}var X=_({defaultModifiers:[C,E,R,N,D,G,$,K,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=(0,L.Z)(t,{elementContext:"reference"}),a=(0,L.Z)(t,{altBoundary:!0}),u=q(s,r),c=q(a,i,o),l=Y(u),p=Y(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":p})}}]}),Q=n(54335),J=n.n(Q),ee=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},te="undefined"!=typeof self&&self.document&&self.document.createElement?r.useLayoutEffect:r.useEffect,ne=[],re=function(e,t,n){void 0===n&&(n={});var o=r.useRef(null),s={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||ne},a=r.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=a[0],c=a[1],l=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);i.flushSync((function(){c({styles:ee(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:ee(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),p=r.useMemo((function(){var e={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[l,{name:"applyStyles",enabled:!1}])};return J()(o.current,e)?o.current||e:(o.current=e,e)}),[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,l]),f=r.useRef();return te((function(){f.current&&f.current.setOptions(p)}),[p]),te((function(){if(null!=e&&null!=t){var r=(n.createPopper||X)(e,t,p);return f.current=r,function(){r.destroy(),f.current=null}}}),[e,t,n.createPopper]),{state:f.current?f.current.state:null,styles:u.styles,attributes:u.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}}},40770:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(59312),i=n(32952),o=n(14601),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.ZT(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.xQ)},38062:(e,t,n)=>{n.d(t,{S3:()=>u});var r=n(59312),i=n(17733),o=n(81967),s=n(57655),a=n(72500);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,i.k)(e[0]))return e[0];e=e[0]}return(0,o.n)(e,void 0).lift(new c)}var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.ZT(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=(0,a.D)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(s.L)},2746:(e,t,n)=>{n.d(t,{$R:()=>c,mx:()=>l});var r=n(59312),i=n(81967),o=n(17733),s=n(98036),a=n(85451),u=n(46601);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,i.n)(e,void 0).lift(new l(n))}var l=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return r.ZT(t,e),t.prototype._next=function(e){var t=this.iterators;(0,o.k)(e)?t.push(new d(e)):"function"==typeof e[a.hZ]?t.push(new f(e[a.hZ]())):t.push(new h(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L),f=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),d=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[a.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),h=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.ZT(t,e),t.prototype[a.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,u.ft)(this.observable,new u.IY(this))},t}(u.Ds)},50133:(e,t,n)=>{n.d(t,{U:()=>o});var r=n(59312),i=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.ZT(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=(0,i.ft)(t,new i.IY(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.Ds)},66081:(e,t,n)=>{n.d(t,{e:()=>s});var r=n(82506),i=n(50133),o=n(80900);function s(e,t){return void 0===t&&(t=r.P),(0,i.U)((function(){return(0,o.H)(e,t)}))}},36919:(e,t,n)=>{n.d(t,{f:()=>o});var r=n(59312),i=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.closingNotifier))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add((0,i.ft)(n,new i.IY(r))),r}return r.ZT(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(i.Ds)},76257:(e,t,n)=>{n.d(t,{j:()=>o});var r=n(59312),i=n(98036);function o(e,t){return void 0===t&&(t=null),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?u:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.ZT(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.L),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.ZT(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r==0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(e),a.length===n&&(i.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(i.L)},17160:(e,t,n)=>{n.d(t,{e:()=>a});var r=n(59312),i=n(82506),o=n(98036),s=n(67827);function a(e){var t=arguments.length,n=i.P;(0,s.K)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new u(e,r,o,n))}}var u=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),c=function(){return function(){this.buffer=[]}}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var u={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(p,n,u))}else{var c={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(d,n,c)),s.add(o.schedule(f,r,l))}return s}return r.ZT(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(p,n,r))}},t.prototype.openContext=function(){var e=new c;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.L);function p(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function f(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(d,n,{subscriber:r,context:o})),this.schedule(e,t))}function d(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},41608:(e,t,n)=>{n.d(t,{P:()=>a});var r=n(59312),i=n(14601),o=n(72500),s=n(57655);function a(e,t){return function(n){return n.lift(new u(e,t))}}var u=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.closingSelector=r,i.contexts=[],i.add((0,o.D)(i,n)),i}return r.ZT(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new i.w,r={buffer:[],subscription:n};t.push(r);var s=(0,o.D)(this,e,r);!s||s.closed?this.closeBuffer(r):(s.context=r,this.add(s),n.add(s))},t}(s.L)},77150:(e,t,n)=>{n.d(t,{R:()=>s});var r=n(59312),i=n(14601),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.ZT(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new i.w,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,o.ft)(t,new o.IY(this))),this.subscribing=!1},t}(o.Ds)},91224:(e,t,n)=>{n.d(t,{K:()=>o});var r=n(59312),i=n(46601);function o(e){return function(t){var n=new s(e),r=t.lift(n);return n.caught=r}}var s=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.selector,this.caught))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new i.IY(this);this.add(r);var o=(0,i.ft)(n,r);o!==r&&this.add(o)}},t}(i.Ds)},91023:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(2844);function i(e){return function(t){return t.lift(new r.Ms(e))}}},57091:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(17733),i=n(2844),o=n(12126);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,r.k)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call((0,o.D)([t].concat(e)),new i.Ms(n))}}},94123:(e,t,n)=>{n.d(t,{z:()=>i});var r=n(95399);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.z.apply(void 0,[t].concat(e)))}}},58:(e,t,n)=>{n.d(t,{w:()=>i});var r=n(71032);function i(e,t){return(0,r.b)((function(){return e}),t)}},22815:(e,t,n)=>{n.d(t,{Q:()=>o});var r=n(59312),i=n(98036);function o(e){return function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i.L)},87847:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(59312),i=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.ZT(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=(0,i.ft)(t,new i.IY(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.Ds)},87938:(e,t,n)=>{n.d(t,{j:()=>u});var r=n(59312),i=n(98036),o=n(44586),s=n(57655),a=n(72500);function u(e,t){return t?function(n){return new p(n,t).lift(new c(e))}:function(t){return t.lift(new c(e))}}var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=(0,a.D)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.L),p=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.ZT(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new f(e,this.source))},t}(o.y),f=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.ZT(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i.L)},15789:(e,t,n)=>{n.d(t,{D:()=>o});var r=n(59312),i=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r.ZT(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i.L)},94607:(e,t,n)=>{n.d(t,{E:()=>o});var r=n(59312),i=n(46601);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.keySelector,this.flushes))},e}(),a=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,r&&o.add((0,i.ft)(r,new i.IY(o))),o}return r.ZT(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.Ds)},40649:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(28043);function i(e,t){return(0,r.x)((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}},87830:(e,t,n)=>{n.d(t,{T:()=>u});var r=n(2270),i=n(85985),o=n(4750),s=n(31524),a=n(23063);function u(e,t){if(e<0)throw new r.W;var n=arguments.length>=2;return function(u){return u.pipe((0,i.h)((function(t,n){return n===e})),(0,a.q)(1),n?(0,s.d)(t):(0,o.T)((function(){return new r.W})))}}},39719:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(95399),i=n(76974);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return(0,r.z)(t,i.of.apply(void 0,e))}}},50481:(e,t,n)=>{n.d(t,{y:()=>o});var r=n(59312),i=n(98036);function o(e,t){return function(n){return n.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.ZT(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.L)},87451:(e,t,n)=>{n.d(t,{b:()=>o});var r=n(59312),i=n(46601);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.ZT(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,i.ft)(e,new i.IY(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.Ds)},58524:(e,t,n)=>{n.d(t,{jn:()=>o});var r=n(59312),i=n(46601);function o(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.concurrent,this.scheduler))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.ZT(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add((0,i.ft)(e,new i.IY(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.Ds)},22447:(e,t,n)=>{n.d(t,{eo:()=>s,sE:()=>o});var r=n(59312),i=n(98036);function o(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new s(e,n,!1,t))}}var s=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),a=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.ZT(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i.L)},43918:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(22447);function i(e,t){return function(n){return n.lift(new r.eo(e,n,!0,t))}}},78146:(e,t,n)=>{n.d(t,{T:()=>f,v:()=>u});var r=n(59312),i=n(98036),o=n(14601),s=n(44586),a=n(32952);function u(e,t,n,r){return function(i){return i.lift(new c(e,t,n,r))}}var c=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.xQ,n.set(t,i);var o=new f(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new f(t,i))}catch(e){return void this.error(e)}this.add(s.subscribe(new p(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.L),p=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.ZT(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.L),f=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.ZT(t,e),t.prototype._subscribe=function(e){var t=new o.w,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new d(n)),t.add(r.subscribe(e)),t},t}(s.y),d=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.ZT(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.w)},49143:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(59312),i=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype._next=function(e){},t}(i.L)},98606:(e,t,n)=>{n.d(t,{x:()=>o});var r=n(59312),i=n(98036);function o(){return function(e){return e.lift(new s)}}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r.ZT(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.L)},68706:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(33346),i=n(85985),o=n(51639),s=n(4750),a=n(31524),u=n(49524);function c(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?(0,i.h)((function(t,n){return e(t,n,c)})):u.y,(0,o.h)(1),n?(0,a.d)(t):(0,s.T)((function(){return new r.K})))}}},83840:(e,t,n)=>{n.d(t,{i:()=>s});var r=n(59312),i=n(98036),o=n(12834);function s(){return function(e){return e.lift(new a)}}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){return e.call(this,t)||this}return r.ZT(t,e),t.prototype._next=function(e){this.destination.next(o.P.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.P.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.P.createComplete()),e.complete()},t}(i.L)},80018:(e,t,n)=>{n.d(t,{F:()=>i});var r=n(38934);function i(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return(0,r.u)(t)}},93781:(e,t,n)=>{n.d(t,{j:()=>i});var r=n(85321);function i(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?(0,r.zg)((function(){return e}),t,n):("number"==typeof t&&(n=t),(0,r.zg)((function(){return e}),n))}},40184:(e,t,n)=>{n.d(t,{fU:()=>o});var r=n(59312),i=n(46601);function o(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.concurrent))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.ZT(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(r)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new i.IY(this),n=this.destination;n.add(t);var r=(0,i.ft)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(i.Ds)},24371:(e,t,n)=>{n.d(t,{V:()=>i});var r=n(38934);function i(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return(0,r.u)(t)}},80334:(e,t,n)=>{n.d(t,{h:()=>s});var r=n(59312),i=n(17733),o=n(46601);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&(0,i.k)(e[0])&&(e=e[0]),function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextSources))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.ZT(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new o.IY(this),n=this.destination;n.add(t);var r=(0,o.ft)(e,t);r!==t&&n.add(r)}else this.destination.complete()},t}(o.Ds)},53804:(e,t,n)=>{n.d(t,{u:()=>o});var r=n(96451),i=n(85985);function o(e,t){return function(n){return[(0,i.h)(e,t)(n),(0,i.h)((0,r.f)(e,t))(n)]}}},62962:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(32952),i=n(24755);function o(e){return e?(0,i.O)((function(){return new r.xQ}),e):(0,i.O)(new r.xQ)}},71193:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(95300),i=n(24755);function o(e){return function(t){return(0,i.O)(new r.X(e))(t)}}},92449:(e,t,n)=>{n.d(t,{C:()=>o});var r=n(40770),i=n(24755);function o(){return function(e){return(0,i.O)(new r.c)(e)}}},48403:(e,t,n)=>{n.d(t,{_:()=>o});var r=n(16782),i=n(24755);function o(e,t,n,o){n&&"function"!=typeof n&&(o=n);var s="function"==typeof n?n:void 0,a=new r.t(e,t,o);return function(e){return(0,i.O)((function(){return a}),s)(e)}}},55875:(e,t,n)=>{n.d(t,{S:()=>o});var r=n(17733),i=n(38062);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&(0,r.k)(e[0])&&(e=e[0]),t.lift.call(i.S3.apply(void 0,[t].concat(e)))}}},38934:(e,t,n)=>{n.d(t,{u:()=>a});var r=n(67434),i=n(51639),o=n(31524),s=n(87072);function a(e,t){return arguments.length>=2?function(n){return(0,s.z)((0,r.R)(e,t),(0,i.h)(1),(0,o.d)(t))(n)}:function(t){return(0,s.z)((0,r.R)((function(t,n,r){return e(t,n,r+1)})),(0,i.h)(1))(t)}}},36303:(e,t,n)=>{n.d(t,{r:()=>s});var r=n(59312),i=n(98036),o=n(40151);function s(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,o.c)():e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}}var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.count,this.source))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.ZT(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(i.L)},11838:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(59312),i=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,t))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.ZT(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new i.xQ;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=(0,o.ft)(t,new o.IY(this))},t}(o.Ds)},75458:(e,t,n)=>{n.d(t,{X:()=>o});var r=n(59312),i=n(98036);function o(e){return void 0===e&&(e=-1),function(t){return t.lift(new s(e,t))}}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(i.L)},62365:(e,t,n)=>{n.d(t,{a:()=>s});var r=n(59312),i=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.notifier,this.source))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.ZT(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,s=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new i.xQ;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}s=(0,o.ft)(r,new o.IY(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=s,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(o.Ds)},13718:(e,t,n)=>{n.d(t,{U:()=>o});var r=n(59312),i=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),r=t.subscribe(n);return r.add((0,i.ft)(this.notifier,new i.IY(n))),r},e}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.ZT(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.Ds)},13685:(e,t,n)=>{n.d(t,{b:()=>s});var r=n(59312),i=n(98036),o=n(82506);function s(e,t){return void 0===t&&(t=o.P),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.period,this.scheduler))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(c,n,{subscriber:i,period:n})),i}return r.ZT(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i.L);function c(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},67434:(e,t,n)=>{n.d(t,{R:()=>o});var r=n(59312),i=n(98036);function o(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.ZT(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(i.L)},33241:(e,t,n)=>{n.d(t,{NF:()=>o});var r=n(59312),i=n(98036);function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compareTo,this.comparator))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new u(t,i))),i}return r.ZT(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,r=e.comparator;t.length>0&&n.length>0;){var i=t.shift(),o=n.shift(),s=!1;try{s=r?r(i,o):i===o}catch(e){this.destination.error(e)}s||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(i.L),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.ZT(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(i.L)},17174:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(59312),i=n(98036),o=n(33346);function s(e){return function(t){return t.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.source))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.ZT(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.K)},t}(i.L)},55935:(e,t,n)=>{n.d(t,{T:()=>o});var r=n(59312),i=n(98036);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.ZT(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i.L)},65943:(e,t,n)=>{n.d(t,{W:()=>s});var r=n(59312),i=n(98036),o=n(2270);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.W}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i.L(e)):t.subscribe(new u(e,this._skipCount))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.ZT(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(i.L)},65304:(e,t,n)=>{n.d(t,{R:()=>u});var r=n(59312),i=n(44586),o=n(79692),s=n(44362),a=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=o.e);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!(0,s.k)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=o.e),i}return r.ZT(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.e),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(i.y);function u(e,t){return void 0===t&&(t=0),function(n){return n.lift(new c(e,t))}}var c=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new a(t,this.delay,this.scheduler).subscribe(e)},e}()},69935:(e,t,n)=>{n.d(t,{B:()=>o});var r=n(66310),i=n(49524);function o(){return(0,r.w)(i.y)}},51639:(e,t,n)=>{n.d(t,{h:()=>a});var r=n(59312),i=n(98036),o=n(2270),s=n(40151);function a(e){return function(t){return 0===e?(0,s.c)():t.lift(new u(e))}}var u=function(){function e(e){if(this.total=e,this.total<0)throw new o.W}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.ZT(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(i.L)},2768:(e,t,n)=>{n.d(t,{R:()=>o});var r=n(59312),i=n(46601);function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new a(e),r=(0,i.ft)(this.notifier,new i.IY(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.ZT(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.Ds)},8473:(e,t,n)=>{n.d(t,{o:()=>o});var r=n(59312),i=n(98036);function o(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(i.L)},25031:(e,t,n)=>{n.d(t,{P:()=>s,d:()=>o});var r=n(59312),i=n(46601),o={leading:!0,trailing:!1};function s(e,t){return void 0===t&&(t=o),function(n){return n.lift(new a(e,!!t.leading,!!t.trailing))}}var a=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector,this.leading,this.trailing))},e}(),u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.ZT(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,i.ft)(t,new i.IY(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.Ds)},55721:(e,t,n)=>{n.d(t,{p:()=>a});var r=n(59312),i=n(98036),o=n(82506),s=n(25031);function a(e,t,n){return void 0===t&&(t=o.P),void 0===n&&(n=s.d),function(r){return r.lift(new u(e,t,n.leading,n.trailing))}}var u=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),c=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.ZT(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i.L);function l(e){e.subscriber.clearThrottle()}},23095:(e,t,n)=>{n.d(t,{J:()=>a});var r=n(82506),i=n(67434),o=n(18625),s=n(77176);function a(e){return void 0===e&&(e=r.P),function(t){return(0,o.P)((function(){return t.pipe((0,i.R)((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),(0,s.U)((function(e){var t=e.current,n=e.last,r=e.value;return new u(r,t-n)})))}))}}var u=function(){return function(e,t){this.value=e,this.interval=t}}()},89068:(e,t,n)=>{n.d(t,{V:()=>a});var r=n(82506),i=n(49549),o=n(97425),s=n(91402);function a(e,t){return void 0===t&&(t=r.P),(0,o.L)(e,(0,s._)(new i.W),t)}},97425:(e,t,n)=>{n.d(t,{L:()=>a});var r=n(59312),i=n(82506),o=n(88992),s=n(46601);function a(e,t,n){return void 0===n&&(n=i.P),function(r){var i=(0,o.J)(e),s=i?+e-n.now():Math.abs(e);return r.lift(new u(s,i,t,n))}}var u=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),c=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return r.ZT(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,s.ft)(t,new s.IY(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(s.Ds)},91969:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(82506),i=n(77176);function o(e){return void 0===e&&(e=r.P),(0,i.U)((function(t){return new s(t,e.now())}))}var s=function(){return function(e,t){this.value=e,this.timestamp=t}}()},35052:(e,t,n)=>{n.d(t,{q:()=>o});var r=n(38934);function i(e,t,n){return 0===n?[t]:(e.push(t),e)}function o(){return(0,r.u)(i,[])}},50337:(e,t,n)=>{n.d(t,{u:()=>s});var r=n(59312),i=n(32952),o=n(46601);function s(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new u(e),r=t.subscribe(n);return r.closed||n.add((0,o.ft)(this.windowBoundaries,new o.IY(n))),r},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new i.xQ,t.next(n.window),n}return r.ZT(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new i.xQ;t.next(n)},t}(o.Ds)},6643:(e,t,n)=>{n.d(t,{r:()=>s});var r=n(59312),i=n(98036),o=n(32952);function s(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.windowSize,this.startWindowEvery))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new o.xQ],i.count=0,t.next(i.windows[0]),i}return r.ZT(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(e);var u=this.count-r+1;if(u>=0&&u%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var c=new o.xQ;i.push(c),n.next(c)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i.L)},83782:(e,t,n)=>{n.d(t,{I:()=>c});var r=n(59312),i=n(32952),o=n(82506),s=n(98036),a=n(44362),u=n(67827);function c(e){var t=o.P,n=null,r=Number.POSITIVE_INFINITY;return(0,u.K)(arguments[3])&&(t=arguments[3]),(0,u.K)(arguments[2])?t=arguments[2]:(0,a.k)(arguments[2])&&(r=Number(arguments[2])),(0,u.K)(arguments[1])?t=arguments[1]:(0,a.k)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new l(e,n,r,t))}}var l=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.ZT(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i.xQ),f=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==r&&r>=0){var u={subscriber:s,window:a,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(m,n,u)),s.add(o.schedule(h,r,c))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(d,n,l))}return s}return r.ZT(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new p;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.L);function d(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function h(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},u={subscriber:n,window:o,context:a};a.subscription=r.schedule(m,t,u),s.add(a.subscription),s.schedule(e,i)}function m(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}},99597:(e,t,n)=>{n.d(t,{j:()=>u});var r=n(59312),i=n(32952),o=n(14601),s=n(57655),a=n(72500);function u(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=(0,a.D)(i,n,n)),i}return r.ZT(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,s){if(e===this.openings){var u=void 0;try{u=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var c=new i.xQ,l=new o.w,p={window:c,subscription:l};this.contexts.push(p);var f=(0,a.D)(this,u,p);f.closed?this.closeWindow(this.contexts.length-1):(f.context=p,l.add(f)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(s.L)},45586:(e,t,n)=>{n.d(t,{Q:()=>a});var r=n(59312),i=n(32952),o=n(57655),s=n(72500);function a(e){return function(t){return t.lift(new u(e))}}var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new i.xQ;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=(0,s.D)(this,n))},t}(o.L)},53441:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(2746);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.$R.apply(void 0,[t].concat(e)))}}},9229:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(2746);function i(e){return function(t){return t.lift(new r.mx(e))}}},49549:(e,t,n)=>{n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},96451:(e,t,n)=>{function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{f:()=>r})}}]);