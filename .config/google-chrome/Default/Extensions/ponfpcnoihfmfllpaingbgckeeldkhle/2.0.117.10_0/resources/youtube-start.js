/*
##
##  Enhancer for YouTube™
##  =====================
##
##  Author: Maxime RF <https://www.mrfdev.com>
##
##  This file is protected by copyright laws and international copyright
##  treaties, as well as other intellectual property laws and treaties.
##
##  All rights not expressly granted to you are retained by the author.
##  Read the license.txt file for more details.
##
##  © MRFDEV.com - All Rights Reserved
##
*/
(function(v,a){if(!v.efyt){var h=new URLSearchParams(a.currentScript.src.split("?")[1]),H=h.get("version"),E=h.get("resources");h="true"===h.get("incognito");function F(){var c=Date.now(),f=c+2592E6;try{b.defaultvolume&&(localStorage["yt-player-volume"]=sessionStorage["yt-player-volume"]=JSON.stringify({data:JSON.stringify({volume:b.volume,muted:!1}),creation:c,expiration:f})),b.selectquality&&(localStorage["yt-player-quality"]=JSON.stringify({data:b[0<location.href.indexOf("list=")?
"qualityplaylists":"qualityvideos"],creation:c,expiration:f})),b.disableautoplay&&(localStorage["yt.autonav::autonav_disabled"]=JSON.stringify({data:!0,creation:c,expiration:f}))}catch(d){}}function A(){B++;var c=a.querySelector("#c4-player");if(c)try{b.stopvideos?c.stopVideo():(c.playVideo(),c.pauseVideo(),c.querySelector(".ytp-spinner").style.display="none")}catch(f){}else 20>B&&(G=setTimeout(A,500))}function I(c){!p&&b.stopvideos&&1<=c&&3>=c&&(m.stopVideo(),m.checkTimestamp=!0)}function w(c){p=
!0;a.removeEventListener("keydown",w,!0);a.removeEventListener("mousedown",x,!0)}function x(c){p=!0;a.removeEventListener("keydown",w,!0);a.removeEventListener("mousedown",x,!0)}a.addEventListener("efyt-update-preferences",function(c){b=c.detail.prefs;F()});var p,G,B,m,y;try{var b=JSON.parse(localStorage.getItem("enhancer-for-youtube"))||{}}catch(c){b={},h||a.dispatchEvent(new Event("efyt-get-preferences"))}h&&a.dispatchEvent(new Event("efyt-get-preferences"));"undefined"===typeof b.blockads&&(b.blockads=
!0);"undefined"===typeof b.blockautoplay&&(b.blockautoplay=!0);"undefined"===typeof b.pausevideos&&(b.pausevideos=!0);"undefined"===typeof b.ignoreplaylists&&(b.ignoreplaylists=!0);b.customcolors||(b.customcolors={"--main-color":"#00adee","--main-background":"#111111","--second-background":"#181818","--hover-background":"#232323","--main-text":"#eff0f1","--dimmer-text":"#cccccc","--shadow":"#000000"});b.customcssrules||(b.customcssrules="");b.theme||(b.theme="default-dark");b.themevariant||(b.themevariant=
"youtube-deep-dark.css");b.qualityvideos||(b.qualityvideos="hd720");b.qualityplaylists||(b.qualityplaylists="hd720");b.volume||(b.volume=50);b.whitelist||(b.whitelist="");F();if("loading"===a.readyState&&(b.blockads||h)&&("/watch"===location.pathname||/\/(v\/|clip\/|live$)/.test(location.pathname))){function c(f,d){if(d=f.args){var n=""!==b.whitelist?b.whitelist.split(","):[],l=!1,z="";if(d.raw_player_response&&"object"===typeof d.raw_player_response){var e=d.raw_player_response;try{-1!==n.indexOf(e.videoDetails.author)&&
(l=!0),z=e.playbackTracking.videostatsPlaybackUrl.baseUrl}catch(C){}l||b.blockadsexceptforsubs&&/subscribed=1/.test(z)||(delete e.playerAds,delete e.adPlacements)}else if(d.player_response&&"string"===typeof d.player_response){e=JSON.parse(d.player_response);try{-1!==n.indexOf(e.videoDetails.author)&&(l=!0)}catch(C){}!e||l||b.blockadsexceptforsubs&&/subscribed=1/.test(d.player_response)||(delete e.playerAds,delete e.adPlacements,d.player_response=JSON.stringify(e))}}return f}a.documentElement.addEventListener("load",
function n(d){v.yt&&yt.player&&yt.player.Application&&0<Object.keys(yt.player.Application).length&&(a.documentElement.removeEventListener("load",n,!0),yt.player.Application.create&&(yt.player.Application.create=function(l){return function(z,e,C){"object"===typeof e&&(e=c(e));return l.apply(this,arguments)}}(yt.player.Application.create)),yt.player.Application.createAlternate&&(yt.player.Application.createAlternate=function(l){return function(z,e,C){"object"===typeof e&&(e=c(e));return l.apply(this,
arguments)}}(yt.player.Application.createAlternate)))},!0)}if(b.darktheme&&"default-dark"!==b.theme){if("youtube-deep-dark"===b.theme){var k=a.createElement("link");k.id="efyt-theme-variables";k.rel="stylesheet";k.href=E+"/vendor/themes/"+b.themevariant}else if("youtube-deep-dark-custom"===b.theme){k=a.createElement("style");k.type="text/css";k.id="efyt-theme-variables";h=[];var D;for([D,q]of Object.entries(b.customcolors)){if("--shadow"===D){var r=q.replace("#","");var q=parseInt(r.substring(0,2),
16);var J=parseInt(r.substring(2,4),16);r=parseInt(r.substring(4,6),16);q=`0 1px .5px rgba(${q}, ${J}, ${r}, .2)`}h.push(D+":"+q)}k.textContent=":root{"+h.join(";")+"}"}var t=a.createElement("link");t.id="efyt-theme";t.rel="stylesheet";t.href=E+"/vendor/themes/youtube-deep-dark.material.css?v="+H;a.head?(a.head.appendChild(k),a.head.appendChild(t)):a.documentElement.addEventListener("load",function d(f){a.head&&(a.documentElement.removeEventListener("load",d,!0),a.head.appendChild(k),a.head.appendChild(t))},
!0)}if("Google Inc."===navigator.vendor){var g=a.createElement("style");g.type="text/css";g.textContent="#movie_player div.ytp-chrome-controls button.ytp-pip-button.ytp-button{display: inline-block !important; transform: scaleY(-1)}";a.head?a.head.appendChild(g):a.documentElement.addEventListener("load",function d(f){a.head&&(a.documentElement.removeEventListener("load",d,!0),a.head.appendChild(g))},!0)}b.customtheme&&(g=a.createElement("style"),g.type="text/css",g.id="efyt-custom-theme",g.textContent=
b.customcssrules,a.head?a.head.appendChild(g):a.documentElement.addEventListener("load",function d(f){a.head&&(a.documentElement.removeEventListener("load",d,!0),a.head.appendChild(g))},!0));if(b.hidechat||b.hidecomments||b.hiderelated||b.convertshorts||b.hideshorts)g=a.createElement("style"),g.type="text/css",g.id="test",g.textContent='html.efyt-hide-chat ytd-live-chat-frame, html.efyt-hide-comments ytd-item-section-renderer.ytd-comments, html.efyt-hide-comments #comment-teaser.ytd-watch-metadata, html.efyt-hide-comments ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-comments-section"], html.efyt-hide-related ytd-watch-next-secondary-results-renderer, html.efyt-hide-related #related-skeleton.ytd-watch-flexy, html.efyt-hide-related .html5-video-player .html5-endscreen {display: none !important; } html.efyt-convert-shorts ytd-guide-renderer.ytd-app ytd-guide-entry-renderer a[title="Shorts"], html.efyt-convert-shorts ytd-mini-guide-renderer.ytd-app ytd-mini-guide-entry-renderer a[title="Shorts"], html.efyt-hide-shorts ytd-guide-renderer.ytd-app ytd-guide-entry-renderer a[title="Shorts"], html.efyt-hide-shorts ytd-mini-guide-renderer.ytd-app ytd-mini-guide-entry-renderer a[title="Shorts"], html.efyt-hide-shorts .efyt-is-short {display: none !important; } html.efyt-hide-shorts ytd-grid-video-renderer:has(a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-watch-next-secondary-results-renderer.ytd-watch-flexy ytd-item-section-renderer.ytd-watch-next-secondary-results-renderer ytd-shelf-renderer.ytd-item-section-renderer:has(a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-browse[page-subtype="home"] ytd-rich-section-renderer.ytd-rich-grid-renderer:has(ytd-rich-shelf-renderer[is-shorts]), html.efyt-hide-shorts ytd-section-list-renderer[page-subtype="subscriptions"] ytd-item-section-renderer.ytd-section-list-renderer:first-of-type ytd-shelf-renderer.ytd-item-section-renderer:has(ytd-expanded-shelf-contents-renderer ytd-video-renderer ytd-thumbnail a.yt-simple-endpoint[href^="/shorts/"]) h2.ytd-shelf-renderer, html.efyt-hide-shorts ytd-section-list-renderer[page-subtype="subscriptions"] ytd-item-section-renderer.ytd-section-list-renderer:first-of-type ytd-shelf-renderer.ytd-item-section-renderer ytd-expanded-shelf-contents-renderer:has(ytd-video-renderer ytd-thumbnail a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-section-list-renderer[page-subtype="subscriptions"] ytd-item-section-renderer.ytd-section-list-renderer:not(:first-of-type) ytd-shelf-renderer.ytd-item-section-renderer:has(ytd-expanded-shelf-contents-renderer ytd-video-renderer ytd-thumbnail a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-section-list-renderer[page-subtype="trending"] ytd-video-renderer.ytd-expanded-shelf-contents-renderer:has(ytd-thumbnail a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-section-list-renderer[page-subtype="trending"] ytd-item-section-renderer.ytd-section-list-renderer yt-horizontal-list-renderer ytd-grid-video-renderer:has(a.yt-simple-endpoint[href^="/shorts/"]), html.efyt-hide-shorts ytd-section-list-renderer[page-subtype="trending"] ytd-item-section-renderer.ytd-section-list-renderer yt-horizontal-list-renderer:has(ytd-grid-video-renderer):has(a.yt-simple-endpoint[href^="/shorts/"]) div#left-arrow.yt-horizontal-list-renderer, html.efyt-hide-shorts ytd-section-list-renderer[page-subtype="trending"] ytd-item-section-renderer.ytd-section-list-renderer yt-horizontal-list-renderer:has(ytd-grid-video-renderer):has(a.yt-simple-endpoint[href^="/shorts/"]) div#right-arrow.yt-horizontal-list-renderer {display: none !important; }',
a.head?a.head.appendChild(g):a.documentElement.addEventListener("load",function d(f){a.head&&(a.documentElement.removeEventListener("load",d,!0),a.head.appendChild(g))},!0),b.hidechat&&a.documentElement.classList.add("efyt-hide-chat"),b.hidecomments&&a.documentElement.classList.add("efyt-hide-comments"),b.hiderelated&&a.documentElement.classList.add("efyt-hide-related"),b.convertshorts&&a.documentElement.classList.add("efyt-convert-shorts"),b.hideshorts&&a.documentElement.classList.add("efyt-hide-shorts");
var u="/watch"===location.pathname||/\/(v\/|clip\/|live$)/.test(location.pathname)?"watch":/^\/(user|channel|c\/)/.test(location.pathname)?"channel":"browse";a.addEventListener("yt-navigate-start",function(c){"channel"===c.detail.pageType||"watch"===c.detail.pageType?(a.addEventListener("keydown",w,!0),a.addEventListener("mousedown",x,!0),u=c.detail.pageType,p=!1):u=c.detail.pageType;clearTimeout(G)});a.addEventListener("yt-navigate-finish",function(c){"channel"===u&&(B=0,a.hidden?a.addEventListener("visibilitychange",
function d(){a.removeEventListener("visibilitychange",d);setTimeout(A,1E3)}):setTimeout(A,1E3))});HTMLVideoElement.prototype.play=function(c){return function(){y||(y=a.querySelector("yt-playlist-manager"));if(!p&&b.blockautoplay&&("watch"===u||"channel"===u||a.querySelector("ytd-app > ytd-miniplayer[active]"))&&(a.hidden||b.pauseforegroundtab)&&(y&&y.currentPlaylistData_&&!b.ignoreplaylists||0>location.href.indexOf("list=")||!b.ignoreplaylists)&&this.classList.contains("html5-main-video"))m=this.parentNode.parentNode,
b.pausevideos&&this.setAttribute("pausevideos",""),m.pauseVideo(),m.hasAttribute("onstatechange")||(m.setAttribute("onstatechange",""),m.addEventListener("onStateChange",I));else return c.apply(this,arguments)}}(HTMLVideoElement.prototype.play);v.MediaSource&&(MediaSource.isTypeSupported=function(c){return function(f){return b.blockhfrformats&&/framerate=([4-6]\d|\d{3,})/.test(f)||b.blockwebmformats&&/video\/webm/.test(f)?!1:c(f)}}(MediaSource.isTypeSupported));a.addEventListener("keydown",w,!0);
a.addEventListener("mousedown",x,!0);a.hidden||a.addEventListener("visibilitychange",function(){a.hidden&&(p=!0)},!0);a.addEventListener("DOMContentLoaded",function f(){a.removeEventListener("DOMContentLoaded",f);if(!v.Polymer&&"default-dark"!==b.theme){var d=a.head.querySelector("#efyt-theme-variables"),n=a.head.querySelector("#efyt-theme");n&&a.head.removeChild(n);d&&a.head.removeChild(d)}})}})(window,document);