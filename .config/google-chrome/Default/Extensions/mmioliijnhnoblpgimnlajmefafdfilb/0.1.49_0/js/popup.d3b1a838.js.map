{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///src/components/buttons/ConnectButton.vue","webpack:///src/components/NoMatchCard.vue","webpack:///src/components/buttons/PlayFullSongButton.vue","webpack:///./src/popup/App.vue?cd43","webpack:///./src/components/PopupContent.vue?9783","webpack:///./src/components/PopupContent.vue?7096","webpack:///./src/components/PopupContent.vue","webpack:///src/popup/App.vue","webpack:///./src/popup/App.vue?32a2","webpack:///./src/popup/App.vue?bc0f","webpack:///./src/popup/main.js","webpack:///./src/components/DisconnectCard.vue?f671","webpack:///src/components/MatchCard.vue","webpack:///./src/components/CoverArtPlayback.vue?b0cb","webpack:///./src/components/DeleteCard.vue?75db","webpack:///./src/components/DeleteCard.vue?a9e0","webpack:///./src/components/DeleteCard.vue","webpack:///src/components/buttons/AppleMusicButton.vue","webpack:///src/components/RateShazamCard.vue","webpack:///./src/components/ShazamButton.vue?83b9","webpack:///./src/components/ShazamButton.vue?a645","webpack:///./src/components/ShazamButton.vue","webpack:///./src/components/DisconnectCard.vue?852c","webpack:///./src/components/DisconnectCard.vue?242e","webpack:///./src/components/DisconnectCard.vue","webpack:///src/components/DeleteCard.vue","webpack:///./src/components/buttons/AppleMusicButton.vue?1f3c","webpack:///./src/components/buttons/AppleMusicButton.vue?9df4","webpack:///./src/components/buttons/AppleMusicButton.vue","webpack:///./src/components/Beacon.vue?4122","webpack:///src/components/Beacon.vue","webpack:///./src/components/Beacon.vue?4b03","webpack:///./src/components/Beacon.vue","webpack:///./src/components/LibraryTrack.vue?83a6","webpack:///./src/components/LibraryTrack.vue?62f2","webpack:///./src/components/LibraryTrack.vue","webpack:///./src/components/NoMatchCard.vue?bf89","webpack:///src/components/PopupContent.vue","webpack:///./src/components/buttons/PlayFullSongButton.vue?58a1","webpack:///./src/components/buttons/PlayFullSongButton.vue?d73e","webpack:///./src/components/buttons/PlayFullSongButton.vue","webpack:///./src/components/MatchCard.vue?2bb7","webpack:///./src/components/MatchCard.vue?7566","webpack:///./src/components/MatchCard.vue","webpack:///./src/components/LibraryTrack.vue?c056","webpack:///./src/components/MatchCard.vue?781d","webpack:///./src/components/CoverArtPlayback.vue?ff08","webpack:///src/components/CoverArtPlayback.vue","webpack:///./src/components/CoverArtPlayback.vue?6e7f","webpack:///./src/components/CoverArtPlayback.vue","webpack:///src/components/LibraryTrack.vue","webpack:///./src/popup/App.vue?17d3","webpack:///./src/components/ShazamButton.vue?0554","webpack:///./src/features/musickit/index.js","webpack:///src/components/ShazamButton.vue","webpack:///./src/components/LibraryPlaceholder.vue?b742","webpack:///src/components/LibraryPlaceholder.vue","webpack:///./src/components/LibraryPlaceholder.vue?5302","webpack:///./src/components/LibraryPlaceholder.vue","webpack:///./src/components/buttons/AppleMusicButton.vue?5ca9","webpack:///src/components/DisconnectCard.vue","webpack:///./src/components/buttons/ConnectButton.vue?7c7a","webpack:///./src/components/buttons/ConnectButton.vue?14e6","webpack:///./src/components/buttons/ConnectButton.vue","webpack:///src/components/Library.vue","webpack:///./src/components/LibraryPlaceholder.vue?13d2","webpack:///./src/components/Library.vue?c79e","webpack:///./src/features/upsell/beacons.js","webpack:///./src/features/config.js","webpack:///./src/features/upsell/index.js","webpack:///./src/components/RateShazamCard.vue?232d","webpack:///./src/components/RateShazamCard.vue?5cec","webpack:///./src/components/RateShazamCard.vue","webpack:///./src/components/buttons/PlayFullSongButton.vue?5f1a","webpack:///./src/components/DeleteCard.vue?ddaf","webpack:///./src/components/Library.vue?1c97","webpack:///./src/components/Library.vue?b874","webpack:///./src/components/Library.vue","webpack:///./src/components/PopupContent.vue?b81f","webpack:///./src/components/NoMatchCard.vue?13a3","webpack:///./src/components/NoMatchCard.vue?0129","webpack:///./src/components/NoMatchCard.vue","webpack:///./src/components/RateShazamCard.vue?ee1d","webpack:///./src/components/buttons/ConnectButton.vue?8f35"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticClass","directives","rawName","expression","cardContent","attrs","matchContent","_e","noMatchSilence","libraryExpanded","hideLibrary","musicKit","component","Vue","el","render","h","App","ref","_v","_s","DELETE_MAIN","DELETE_SUB","on","cancel","CANCEL","confirm","DELETE_ALL","$event","beginRecording","MAIN_TEXT","SUBTEXT","cancelListening","DISCONNECT_MAIN","DISCONNECT_SUB","DISCONNECT","amurl","handleClick","OPEN_IN","content","weburl","sendTrackBeacon","handleHoverIn","handleHoverOut","metadata","title","artist","amConnected","localIsPlaying","getDateTime","matchTime","UPSELL_TEXT","sendAppleMusicBeacon","openin","trackId","deleteEntry","dismissedNew","isNew","PLAY_FULL","style","backgroundColor","bgColor","tagCount","toLocaleString","SHAZAMS","handleAMTrackBeacon","trackkey","AM_OFFER","close","DONE","coverart","playbackURL","size","playAudio","mk","currentTrack","currTrackInfo","setupMusicKit","tokenURL","fetch","musickitTokenFetch","headers","musickitDevToken","MusicKit","configure","developerToken","app","build","getInstance","chrome","storage","sync","accessToken","amconnect","musicUserToken","setQueueAndPlay","trackid","authorize","then","setQueue","song","player","play","itemInfo","queue","items","playbackState","catch","err","console","error","pause","stop","getPlaybackStatus","getCurrentPlaying","getMK","getCurrentTrackInfo","_m","actionText","beaconType","action","type","providername","section","screenname","_dynamic","loginorigin","providerdesc","itsct","itscg","clientbeaconuuid","__desc","code","errordesc","store","amc","state","member","country","env","origin","getFeatureFlags","cb","featureflags","local","inid","inidDetails","log","getConfig","addCustomModules","applemusic","memberState","config","keys","every","prop","FeatureFlags","url","controlConfigs","environments","getLoginState","controlStates","environment","platformProps","getPlatformInfo","navigator","userAgent","urlparams","guid","s4","Math","floor","random","toString","substring","onChanged","addListener","changes","namespace","newValue","MOCKACTIVATE","Config","Upsell","client","platform","sendBeacon","deviceplatform","ct","assign","activateUrl","callback","activateParams","client_id","at","mttnagencyid","mttnsiteid","mttnsub1","mttnsub2","mttn3pid","_beacon","beaconId","params","manifestData","beaconsManifest","beaconData","appname","forEach","init","addEventListener","event","_onSigninComplete","activate","_verifyParams","_getCodeChallenge","statusCode","message","_signin","active","_signinContext","remove","tabs","query","shzTabs","filter","it","search","tab","sendMessage","id","eventType","getFlag","enabled","flagData","campaignURL","getActivationState","isActive","gotoAppleMusic","getUpsellUrl","setTimeout","open","queryParams","_formQueryParams","strparams","map","replace","join","codedata","codeVerifier","codeChallenge","activateurl","_getActivateUrl","handle","windows","setSelfAsOpener","left","screenX","top","screenY","height","width","_signupContext","_activationComplete","_exhangeCodeForToken","mvargs","access_token","isAccessAllowed","_setConnectedState","args","set","deactivate","response_type","scope","redirect_uri","code_challenge_method","code_challenge","queryString","entries","val","encodeURIComponent","method","body","JSON","stringify","code_verifier","Accept","response","json","fetchParams","grant_type","postParams","match","obj","split","reduce","item","parts","RATE_SHAZAM_MAIN","RATE_SHAZAM_SUB","RATE","toggleLibraryContent","newMatches","isListening","isAMConnected","expanded","_l","track","includes","libraryContents","clearLibrary","NO_SHAZAMS_MAIN","NO_SHAZAMS_SUB","staticStyle","NO_AUDIO_MAIN","NO_RESULT_MAIN","NO_AUDIO_SUB","NO_RESULT_SUB","back","tryCaptureAgain","TRY_AGAIN"],"mappings":"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","file":"js/popup.d3b1a838.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"popup\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n    <div class=\"connect-pill\" ref=\"pillBackground\" @click=\"handleClick\">\n        <p class=\"connect-text\" ref=\"connectText\">{{ actionText }}</p>\n        <svg class=\"icon-applemusic\" viewBox=\"0 0 337.42001 80.64\" ref=\"pillText\">\n            <g>\n                <path\n                    d=\"M43.8732,12.6988C46.60624,9.28037,48.46086,4.69039,47.97172,0c-4.00079,0.19894-8.88298,2.63946-11.70954,6.06057\n                    c-2.53794,2.92966-4.78422,7.7118-4.19863,12.20557C36.55464,18.65572,41.04158,16.02133,43.8732,12.6988\"\n                />\n                <path\n                    d=\"M47.92068,19.14357c-6.52215-0.3885-12.06756,3.70163-15.18223,3.70163c-3.11637,0-7.88593-3.50585-13.0446-3.41137\n                    c-6.71433,0.09862-12.94446,3.89497-16.3517,9.93291c-7.00811,12.07887-1.84944,29.99609,4.96557,39.83367\n                    c3.30953,4.86696,7.29806,10.22584,12.55359,10.03336c4.96557-0.19486,6.91187-3.2153,12.94775-3.2153\n                    c6.03144,0,7.78463,3.2153,13.04101,3.1179c5.45099-0.09746,8.85883-4.86939,12.1683-9.74109\n                    c3.79665-5.54809,5.35085-10.90521,5.44862-11.1993c-0.09777-0.0974-10.51105-4.0922-10.6076-16.07069\n                    c-0.09831-10.02977,8.17558-14.80048,8.56499-15.09633C57.75206,20.11855,50.45163,19.33935,47.92068,19.14357\"\n                />\n            </g>\n            <g>\n                <path\n                    d=\"M140.85696,78.62715V24.85957h-0.35449l-22.02344,53.76758h-8.4043L88.00052,24.85957h-0.35449v53.76758H77.3179V5.56953\n                    h13.11328l23.64355,58.22363h0.40527l23.59277-58.22363h13.16309v73.05762H140.85696z\"\n                />\n                <path\n                    d=\"M208.33841,78.62715h-10.47949v-9.01172h-0.25391c-2.93555,6.37891-8.35352,9.97363-16.50488,9.97363\n                    c-11.59375,0-18.68166-7.54395-18.68166-19.74512V25.36543h10.93556v32.35254c0,8.10059,3.84766,12.45411,11.3916,12.45411\n                    c7.89844,0,12.65723-5.46777,12.65723-13.77051V25.36543h10.93555V78.62715z\"\n                />\n                <path\n                    d=\"M238.30814,24.40351c12.4043,0,20.4541,6.88574,20.80859,16.70801h-10.27832\n                    c-0.60744-5.16406-4.4043-8.4043-10.53027-8.4043c-5.92383,0-9.87305,2.88574-9.87305,7.13867\n                    c0,3.34082,2.43066,5.61914,8.20215,6.93555l8.65723,1.97461c10.88574,2.53125,15.03711,6.78418,15.03711,14.47949\n                    c0,9.72071-9.0625,16.4043-21.61816,16.4043c-13.31543,0-21.31543-6.53125-22.32812-16.65723h10.83496\n                    c1.0127,5.56934,4.80957,8.30371,11.49316,8.30371c6.58105,0,10.63184-2.73438,10.63184-7.08789\n                    c0-3.44336-1.97461-5.46875-7.79688-6.78516l-8.65723-2.02441c-10.12598-2.3291-15.13867-7.18945-15.13867-14.93555\n                    C217.75247,30.93476,226.05618,24.40351,238.30814,24.40351z\"\n                />\n                <path\n                    d=\"M267.92239,11.2917c0-3.49316,2.83496-6.27734,6.32812-6.27734c3.49414,0,6.27832,2.78418,6.27832,6.27734\n                    c0,3.44336-2.78418,6.27832-6.27832,6.27832C270.75735,17.57002,267.92239,14.73506,267.92239,11.2917z M268.78275,25.36543\n                    h10.93555v53.26172h-10.93555V25.36543z\"\n                />\n                <path\n                    d=\"M325.88626,43.69355c-1.11328-5.6709-5.36621-10.17676-12.50488-10.17676c-8.45508,0-14.02441,7.03711-14.02441,18.47949\n                    c0,11.69531,5.62012,18.4795,14.12598,18.4795c6.7334,0,11.1377-3.69531,12.40332-9.87207h10.53125\n                    c-1.16504,11.34082-10.22754,19.03614-23.03613,19.03614c-15.23926,0-25.16211-10.42969-25.16211-27.64356\n                    c0-16.91016,9.92285-27.59277,25.06055-27.59277c13.7207,0,22.07422,8.80957,23.03613,19.29004H325.88626z\"\n                />\n            </g>\n        </svg>\n    </div>\n</template>\n\n<script>\nimport Upsell from '../../features/upsell';\nimport Beacon from '../Beacon.vue';\nexport default {\n    name: 'ConnectButton',\n    props: {\n        connected: Boolean,\n        expandedState: Boolean,\n    },\n    mounted() {\n        this.fetchStrings();\n        this.setupUpsell();\n        this.determineInitialState();\n        //determine is an am connect token is present\n\n        this.actionText = this.CONNECT;\n\n        this.$root.$on('disconnect_apple_music', () => {\n            // we make a bold assumption the deactivate always works\n            this.upsell.deactivate(() => {\n                this.$root.$emit('toggle_disconnect_card', {\n                    toggle: false,\n                    expandedState: false,\n                });\n                this.$root.$emit('send_beacon', {\n                    beaconType: 'userevent',\n                    type: 'streamingmusicflow',\n                    action: 'disconnect',\n                    screenname: 'webextension',\n                    providername: 'applemusic',\n                });\n\n                // and to match the behaviour of connect, we close the popup\n                // storage.onChanged event should handle this (with timeout to allow beacons to succeed)\n                //window.close();\n            });\n        });\n        // connect/disconnect called from a different process (shazam.com) - update state\n        chrome.storage.onChanged.addListener((changes, namespace) => {\n            if (namespace == 'sync' && changes.amconnect) {\n                // sufficient to close window, reopen will refresh state\n                // wait for beacons to fire ...\n                this.$root.$emit('close_popup');\n            }\n        });\n    },\n    data: function () {\n        return {\n            actionText: '',\n            isAMConnected: false,\n            CONNECT: '',\n            DISCONNECT: '',\n        };\n    },\n    methods: {\n        handleClick: function () {\n            if (this.isAMConnected) {\n                this.deactivate();\n            } else {\n                this.openUpsell();\n            }\n        },\n        determineInitialState: function () {\n            //chrome.storage.local.get('amconnect', (result) => {\n            this.upsell.getActivationState((state) => {\n                const amToken = state && state.access_token;\n                this.isAMConnected = amToken ? true : false;\n\n                if (this.isAMConnected) {\n                    // this.$refs.pillBackground.classList.add('white-button');\n                    // this.$refs.pillText.classList.add('black-text');\n                    // this.$refs.connectText.classList.add('connect-text-inverted');\n                    this.actionText = this.DISCONNECT;\n                }\n            });\n        },\n        openUpsell: function () {\n            this.upsell.getActivationState((isActive) => {\n                if (isActive) {\n                    alert('already active');\n                } else {\n                    this.upsell.activate({\n                        loginorigin: 'connect',\n                        screenname: 'webextension',\n                    });\n                    const upsellStartUserEvent = {\n                        beaconType: 'userevent',\n                        type: 'open',\n                        providerdesc: 'gotowebflow',\n                        providername: 'applemusic',\n                        screename: 'connect',\n                        section: 'connect',\n                        clientbeaconuuid: this.upsell.getClientBeaconUuid()\n                    }\n                    this.sendBeacon(upsellStartUserEvent);\n                }\n            });\n        },\n        deactivate: function () {\n            this.upsell.getActivationState((isActive) => {\n                if (!isActive) {\n                    alert('already inactive');\n                } else {\n                    this.$root.$emit('toggle_disconnect_card', {\n                        toggle: true,\n                        expandedState: true,\n                    });\n                }\n            });\n        },\n        setupUpsell: function () {\n            this.upsell = new Upsell({\n                client: 'browserextension',\n                platform: Beacon.platform,\n                sendBeacon: this.sendBeacon.bind(this),\n            });\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        fetchStrings: function () {\n            this.CONNECT = browser.i18n.getMessage('am_button_connect');\n            this.DISCONNECT = browser.i18n.getMessage('am_button_disconnect');\n        },\n    },\n};\n</script>\n\n<style scoped>\n.icon-applemusic {\n    width: 45px;\n    height: 15px;\n    fill: black;\n    margin: 0px 0px 2px 5px;\n}\n.connect-pill {\n    background-color: white;\n    width: fit-content;\n    border-radius: 15px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: -5px;\n    height: 20px;\n    padding: 2px 10px;\n    cursor: pointer;\n    fill: black;\n}\n.connect-text {\n    color: black;\n    text-transform: uppercase;\n    width: max-content;\n}\nbutton {\n    border: none;\n    width: 50px;\n}\n</style>\n","<template>\n    <div class=\"no-match-card\">\n        <transition appear name=\"main-fadein\">\n            <svg id=\"icon-exclamation\" viewBox=\"0 0 120 120\">\n                <title>Path</title>\n                <path\n                    id=\"prefix__a\"\n                    d=\"M60 0c33.137 0 60 26.863 60 60s-26.863 60-60 60S0 93.137 0 60 26.863 0 60 0zm0 83.077c-4.076 0-7.385 3.306-7.385 7.385 0 4.076 3.309 7.384 7.386 7.384s7.384-3.308 7.384-7.384c0-4.079-3.307-7.385-7.384-7.385zm-5.32-59.638c-4.342 2.24-7.315 7.163-7.585 12.585-.152 3.03.699 5.885 1.497 8.73.612 2.374 1.227 4.761 1.9 7.117 1.217 4.734 2.421 9.509 3.78 14.19.612 2.409 1.019 5.316 2.96 6.83 2.089 1.623 5.001 1.128 6.594-1.106.429-.6.715-1.278.92-2.006l.076-.287.007-.027.004-.016.002-.007.001-.003-.006.026c1.366-4.68 2.54-9.458 3.776-14.184 1.343-4.743 2.612-9.539 3.823-14.33 1.42-5.627-.286-11.809-4.263-15.505-3.754-3.489-9.066-4.283-13.486-2.007z\"\n                />\n            </svg>\n        </transition>\n\n        <transition appear name=\"main-fadein\">\n            <div class=\"no-match-text\">\n                <p class=\"title-text\" v-if=\"wasSilent\"> {{ NO_AUDIO_MAIN }}</p>\n                <p class=\"title-text\" v-else>{{ NO_RESULT_MAIN }}</p>\n                \n                <p class=\"sub-text\" v-if=\"wasSilent\">{{ NO_AUDIO_SUB }}</p>\n                <p class=\"sub-text\" v-else>{{ NO_RESULT_SUB }}</p>\n            </div>\n        </transition>\n        <transition appear name=\"main-fadein\">\n            <div class=\"button-container\" ref='buttonContainer'>\n                <button @click=\"back\" class=\"back-button\">\n                    {{ CANCEL }}\n                </button>\n                <button @click=\"tryCaptureAgain\" class=\"try-again-button\">\n                    {{ TRY_AGAIN }}\n                </button>\n            </div>\n        </transition>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'NoMatchCard',\n    data: function () {\n        return {\n            NO_RESULT_MAIN: '',\n            NO_RESULT_SUB: '',\n            NO_AUDIO_MAIN: '',\n            NO_AUDIO_SUB: '',\n            TRY_AGAIN: '',\n            CANCEL: '',\n        };\n    },\n    props: {\n        wasSilent: Boolean,\n    },\n    mounted() {\n        this.fetchStrings();\n\n        const noMatchBeaconObject = {\n            beaconType: 'pageview',\n            screenname: !this.wasSilent ? 'nomatch' : 'nomatch_noaudio',\n        };\n        this.sendBeacon(noMatchBeaconObject);\n\n        this.$root.$on('library_toggled', () => {\n            // this.$refs.buttonContainer.classList.toggle();\n        });\n    },\n    methods: {\n        tryCaptureAgain: function () {\n            this.$parent.$emit('close_match_restart');\n\n            const tryAgainUserevent = {\n                beaconType: 'userevent',\n                type: 'taggingstarted',\n                screnname: !this.wasSilent ? 'nomatch' : 'nomatch_audio',\n            };\n\n            this.sendBeacon(tryAgainUserevent);\n        },\n        back: function () {\n            this.$parent.$emit('close_match');\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        fetchStrings: function () {\n            this.NO_RESULT_MAIN = browser.i18n.getMessage('nomatch_couldnt_catch');\n            this.NO_RESULT_SUB = browser.i18n.getMessage('nomatch_please_try_again');\n            this.NO_AUDIO_MAIN = browser.i18n.getMessage('nomatch_no_audio_main');\n            this.NO_AUDIO_SUB = browser.i18n.getMessage('nomatch_no_audio_sub');\n            this.TRY_AGAIN = browser.i18n.getMessage('nomatch_try_again');\n            this.CANCEL = browser.i18n.getMessage('button_cancel');\n        },\n    },\n};\n</script>\n\n<style scoped>\np {\n    margin: 0px;\n}\n.no-match-text {\n    width: 95%;\n    text-align: center;\n    margin: 5px 0px 50px 0px;\n}\n.title-text {\n    font-size: 18px;\n    font-weight: bold;\n    margin-bottom: 5px;\n}\n.sub-text {\n    font-size: 15px;\n    opacity: 0.7;\n    color: black;\n}\n.no-match-card {\n    width: 100%;\n    height: 200px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n}\n.text-icon-container {\n    display: flex;\n    align-items: center;\n    margin-top: 15px;\n}\n#icon-exclamation {\n    height: 40px;\n    width: 40px;\n    fill: #d4d4d4;\n    margin: 0px 15px;\n}\n#icon-cross {\n    height: 15px;\n    width: 15px;\n    align-self: flex-end;\n    margin: 0px 10px 10px 0px;\n    cursor: pointer;\n}\n.try-again-button {\n    background-color: #08f;\n    color: white;\n}\n.back-button {\n    background-color: #f4f4f4;\n    color: #0088ff;\n}\n\n.button-container {\n    position: absolute;\n    top: 150px;\n}\n\nbutton {\n    width: 180px;\n    margin: 0px 5px;\n    height: 34px;\n    border: none;\n    border-radius: 6px;\n    font-size: 14px;\n    font-weight: bold;\n    text-transform: uppercase;\n    cursor: pointer;\n}\n\n/* transitions */\n.main-fadein-enter {\n    opacity: 0;\n}\n\n.main-fadein-enter-active {\n    transition: all 1s ease-out;\n}\n\n.button-slide-enter {\n    transform: translateY(20px);\n    opacity: 0;\n}\n\n.button-slide-enter-active {\n    transition: all 0.5s ease-out;\n    transition-delay: 0.5s;\n}\n</style>\n","<template>\n    <div class=\"pill-body\" @click=\"handleClick\">\n        <svg id=\"apple-music-note\" width=\"35\" height=\"35\" viewBox=\"0 0 35 35\">\n            <defs>\n                <linearGradient id=\"bmhy9m7zca\" x1=\"50%\" x2=\"50%\" y1=\"0%\" y2=\"100%\">\n                    <stop offset=\"0%\" stop-color=\"#FB5C74\" />\n                    <stop offset=\"100%\" stop-color=\"#FA233B\" />\n                </linearGradient>\n            </defs>\n            <g fill=\"none\" fill-rule=\"evenodd\">\n                <g>\n                    <g>\n                        <g transform=\"translate(-90 -461) translate(85 456) translate(5 5)\">\n                            <circle\n                                cx=\"17.5\"\n                                cy=\"17.5\"\n                                r=\"17.25\"\n                                fill=\"url(#bmhy9m7zca)\"\n                                stroke=\"#FFF\"\n                                stroke-opacity=\".3\"\n                                stroke-width=\".5\"\n                            />\n                            <path\n                                fill=\"#FFF\"\n                                d=\"M22.343 8.003c-.064.006-.626.107-.694.12L13.862 9.71h-.003c-.203.045-.362.117-.485.221-.149.126-.231.304-.262.51-.007.045-.018.134-.018.267v9.843c0 .23-.018.453-.172.644-.154.19-.345.247-.568.293l-.509.103c-.643.131-1.061.22-1.44.369-.363.142-.635.323-.85.551-.429.454-.604 1.069-.544 1.645.052.492.27.962.647 1.31.253.235.57.414.945.49.388.079.801.05 1.405-.072.321-.066.623-.168.91-.34.283-.168.527-.394.717-.669.19-.276.314-.582.381-.907.07-.336.087-.64.087-.975v-8.537c0-.458.129-.578.494-.667 0 0 6.473-1.319 6.774-1.378.422-.082.62.04.62.486v5.827c0 .231-.003.464-.158.656-.154.19-.345.248-.568.293l-.509.104c-.643.13-1.062.22-1.44.368-.363.142-.635.323-.85.552-.429.453-.619 1.068-.559 1.644.051.492.286.962.662 1.31.253.235.57.41.945.485.388.08.801.051 1.405-.072.321-.065.623-.163.91-.334.283-.169.527-.394.717-.67.19-.275.313-.581.381-.907.07-.336.073-.64.073-.975V8.698c0-.452-.236-.731-.657-.695\"\n                            />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>\n        <p class=\"play-full-text\">{{ PLAY_FULL }}</p>\n    </div>\n</template>\n\n<script>\nimport Upsell from '../../features/upsell';\nimport Beacon from '../Beacon.vue';\nexport default {\n    name: 'PlayFullSongButton',\n    props: {\n        amurl: Object,\n        inverseColors: Boolean,\n        trackId: String,\n    },\n    mounted() {\n        this.fetchStrings();\n        this.setupUpsell();\n        if (this.inverseColors) {\n            this.$refs.pillBackground.classList.add('whiteButton');\n            this.$refs.pillText.classList.add('blackText');\n        }\n    },\n    data: function () {\n        return {\n            PLAY_FULL: '',\n        };\n    },\n    methods: {\n        handleClick: function (e) {\n            e.preventDefault();\n            this.upsell.gotoAppleMusicUpsell(this.amurl.applemusic, {\n                screenname: 'main',\n                loginorigin: 'webextension',\n                beaconId: 'ue-btn-open-in-am',\n                trackkey: this.trackId,\n            });\n        },\n        setupUpsell: function () {\n            this.upsell = new Upsell({\n                client: 'browserextension',\n                platform: Beacon.platform,\n                sendBeacon: this.sendBeacon.bind(this),\n            });\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        fetchStrings: function () {\n            this.PLAY_FULL = browser.i18n.getMessage('am_button_playfull');\n        },\n    },\n};\n</script>\n\n<style scoped>\n.icon-applemusic {\n    width: 45px;\n    height: 15px;\n    fill: white;\n    padding: 2px 10px 0px 10px;\n}\n#apple-music-note {\n    height: 18px;\n    width: 18px;\n    margin-right: 2px;\n}\n.am-pill {\n    background-color: white;\n    min-width: 124px;\n    border-radius: 15px;\n    align-self: flex-end;\n    margin-right: 10px;\n    height: 24px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n}\n.pill-body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(255, 255, 255, 0.2);\n    width: fit-content;\n    min-width: max-content;\n    border-radius: 15px;\n    height: 24px;\n    padding: 0px 5px;\n}\n.play-full-text {\n    text-transform: uppercase;\n    color: white;\n    font-size: 11px;\n    font-weight: 600;\n    margin: 0px 5px 0px 1px;\n}\nbutton {\n    border: none;\n    width: 50px;\n}\n.whiteButton {\n    background-color: white;\n}\n.blackText {\n    fill: black;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('popup-content')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"popup-container\"},[_c('shazam-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showButton),expression:\"showButton\"}]}),(_vm.cardContent === 'match')?_c('match-card',{attrs:{\"content\":_vm.matchContent}}):_vm._e(),(_vm.cardContent === 'nomatch')?_c('no-match-card',{attrs:{\"wasSilent\":_vm.noMatchSilence}}):_vm._e(),(_vm.cardContent === 'delete')?_c('delete-card',{attrs:{\"expanded\":_vm.libraryExpanded}}):_vm._e(),(_vm.cardContent === 'disconnect')?_c('disconnect-card',{attrs:{\"expanded\":_vm.libraryExpanded}}):_vm._e(),(_vm.cardContent === 'rateshazam')?_c('rate-shazam-card'):_vm._e()],1),(!_vm.hideLibrary)?_c('library',{attrs:{\"musicKit\":_vm.musicKit}}):_vm._e(),(_vm.hasInid)?_c('beacon'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PopupContent.vue?vue&type=template&id=7e3eeb24&scoped=true&\"\nimport script from \"./PopupContent.vue?vue&type=script&lang=js&\"\nexport * from \"./PopupContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PopupContent.vue?vue&type=style&index=0&id=7e3eeb24&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e3eeb24\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <popup-content />\n</template>\n\n<script>\nimport PopupContent from '@/components/PopupContent.vue';\n\nexport default {\n    name: 'App',\n    components: { PopupContent },\n};\n</script>\n\n<style>\nhtml {\n    width: 420px;\n    height: fit-content;\n}\nbody {\n    margin: 0px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=30934f9a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport App from './App.vue';\n\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    render: (h) => h(App),\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisconnectCard.vue?vue&type=style&index=0&id=fd82366c&scoped=true&lang=css&\"","<template>\n    <div>\n        <!-- intersitial -->\n        <a v-show=\"showIntersitial\" v-bind:href=\"content.weburl\" target=\"content.weburl\" @click=\"sendTrackBeacon\">\n            <div class=\"match-card\" :style=\"{ backgroundColor: content.bgColor }\">\n                <div ref=\"interstitialText\" class=\"intersitial-text-container\">\n                    <div>\n                        <div class=\"line-clamp\">\n                            <p class=\"match-title\" v-if=\"content.metadata\">\n                                {{ content.metadata.title }}\n                            </p>\n                        </div>\n                        <div class=\"line-clamp\">\n                            <p class=\"intersitial-match-artists\" v-if=\"content.metadata\">\n                                {{ content.metadata.artist }}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </a>\n        <!-- full match content -->\n        <a v-show=\"showCover\" v-bind:href=\"content.weburl\" target=\"content.weburl\" @click=\"sendTrackBeacon\">\n            <div class=\"match-card\" :style=\"{ backgroundColor: content.bgColor }\">\n                <div class=\"cover-and-metadata\">\n                    <cover-art-playback :content=\"content\" size=\"large\" ref=\"cover\" />\n                    <div class=\"text-container\">\n                        <div ref=\"matchMainText\">\n                            <div class=\"line-clamp\">\n                                <p class=\"match-title\" v-if=\"content.metadata\">\n                                    {{ content.metadata.title }}\n                                </p>\n                            </div>\n                            <div class=\"line-clamp\">\n                                <p class=\"match-artists\" v-if=\"content.metadata\">\n                                    {{ content.metadata.artist }}\n                                </p>\n                            </div>\n                            <div class='count-icon-container'>\n                                <svg id=\"icon-shazam_logo\" viewBox=\"0 595.3 400 400\">\n                                    <path d=\"M200 595.3c-110 0-200 90-200 200s90 200 200 200 200-90 200-200-90-200-200-200zm-32.5 280c-20 0-42.5-7.5-57.5-20-20-17.5-32.5-40-32.5-65-2.5-25 5-47.5 22.5-65 17.5-22.5 50-52.5 52.5-55 10-7.5 22.5-7.5 32.5 0 7.5 10 7.5 22.5 0 32.5l-50 50c-7.5 10-12.5 20-12.5 32.5s7.5 25 17.5 32.5c12.5 12.5 40 15 57.5 0l22.5-22.5c7.5-10 22.5-10 32.5-2.5s10 22.5 2.5 32.5l-25 25c-20 17.5-42.5 25-62.5 25zm135-2.5c-17.5 22.5-52.5 52.5-52.5 55-5 5-10 5-15 5s-12.5-2.5-17.5-7.5c-7.5-10-7.5-22.5 0-32.5l50-50c7.5-10 12.5-20 12.5-32.5s-7.5-25-17.5-32.5c-12.5-12.5-40-15-57.5 0l-22.5 22.5c-7.5 10-22.5 10-32.5 2.5-7.5-10-7.5-25 0-32.5l25-25c32.5-27.5 85-30 117.5 0 20 17.5 32.5 40 32.5 65 2.5 22.5-5 45-22.5 62.5z\"/>\n                                </svg>\n                                <p class=\"shazam-count\" v-if=\"content.tagCount\">\n                                    {{ content.tagCount.toLocaleString() }}\n                                    {{ SHAZAMS }}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"count-and-button\" ref=\"amButtonTagCount\">\n                    <!-- <div class='count-icon-container'>\n                        <svg id=\"icon-shazam_logo\" viewBox=\"0 595.3 400 400\">\n                            <path d=\"M200 595.3c-110 0-200 90-200 200s90 200 200 200 200-90 200-200-90-200-200-200zm-32.5 280c-20 0-42.5-7.5-57.5-20-20-17.5-32.5-40-32.5-65-2.5-25 5-47.5 22.5-65 17.5-22.5 50-52.5 52.5-55 10-7.5 22.5-7.5 32.5 0 7.5 10 7.5 22.5 0 32.5l-50 50c-7.5 10-12.5 20-12.5 32.5s7.5 25 17.5 32.5c12.5 12.5 40 15 57.5 0l22.5-22.5c7.5-10 22.5-10 32.5-2.5s10 22.5 2.5 32.5l-25 25c-20 17.5-42.5 25-62.5 25zm135-2.5c-17.5 22.5-52.5 52.5-52.5 55-5 5-10 5-15 5s-12.5-2.5-17.5-7.5c-7.5-10-7.5-22.5 0-32.5l50-50c7.5-10 12.5-20 12.5-32.5s-7.5-25-17.5-32.5c-12.5-12.5-40-15-57.5 0l-22.5 22.5c-7.5 10-22.5 10-32.5 2.5-7.5-10-7.5-25 0-32.5l25-25c32.5-27.5 85-30 117.5 0 20 17.5 32.5 40 32.5 65 2.5 22.5-5 45-22.5 62.5z\"/>\n                        </svg>\n                        <p class=\"shazam-count\" v-if=\"content.tagCount\">\n                            {{ content.tagCount.toLocaleString() }}\n                            {{ SHAZAMS }}\n                        </p>\n                    </div> -->\n                    <div v-if=\"isAMConnected\" @click='handleAMTrackBeacon' class='am-button-container'>\n                        <apple-music-button\n                            v-if=\"content.metadata\"\n                            :amurl=\"content.metadata.openin\"\n                            class=\"am-button\"\n                            inverseColors=\"true\"\n                            openIn=\"true\"\n                            :trackId=\"content.trackkey\"\n                        />\n                    </div>\n                    <div v-else class='button-and-offer'>\n                        <p class=\"am-offer-text\"> {{AM_OFFER}} </p>\n                        <div @click='handleAMTrackBeacon'>\n                            <play-full-song-button\n                                v-if=\"content.metadata\"\n                                :amurl=\"content.metadata.openin\"\n                                :trackId=\"content.trackId\"\n                                class=\"am-button\"\n                            />\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <button @click=\"close\" class=\"back-button\">{{ DONE }}</button>\n                </div>\n            </div>\n        </a>\n    </div>\n</template>\n\n<script>\nimport PlayFullSongButton from './buttons/PlayFullSongButton.vue';\nimport CoverArtPlayback from './CoverArtPlayback.vue';\nimport AppleMusicButton from './buttons/AppleMusicButton.vue';\nimport Upsell from '../features/upsell';\nimport Beacon from './Beacon.vue';\nexport default {\n    name: 'MatchCard',\n    components: { PlayFullSongButton, AppleMusicButton, CoverArtPlayback },\n    props: {\n        content: Object,\n    },\n    data: function () {\n        return {\n            SHAZAMS: '',\n            DONE: '',\n            AM_OFFER: '',\n            showIntersitial: true,\n            showCover: false,\n            isAMConnected: false,\n            blockTrackBeacon: false,\n        };\n    },\n    mounted() {\n        const _this = this;\n        this.setupUpsell();\n        this.fetchStrings();\n        this.determineInitialState();\n\n        const resultpagePageview = {\n            beaconType: 'pageview',\n            screenname: 'track',\n            trackkey: this.content.trackId\n        }\n        this.sendBeacon(resultpagePageview);\n\n        this.$refs.interstitialText.classList.add('interstitial-enter-anim');\n\n        setTimeout(() => {\n            _this.showIntersitial = false;\n            _this.showCover = true;\n            const { cover, matchMainText, amButtonTagCount } = _this.$refs;\n\n            const coverArt = cover.$refs.coverContainer;\n\n            coverArt.classList.add('match-cover-enter-anim');\n            matchMainText.classList.add('match-text-enter-anim');\n            amButtonTagCount.classList.add('match-fade-enter-anim');\n        }, 1900);\n\n        // need to shift the button to the right if connected\n        if (this.isAMConnected) {\n            this.$refs.amButtonTagCount.classList.add('slide-to-the-right');\n        }\n    },\n    methods: {\n        close: function (e) {\n            e.preventDefault();\n            this.lastSentBeacon = 'close'\n            this.$parent.$emit('close_match', false);\n            this.$root.$emit('update_new_count');\n\n            const matchBackUserevent = {\n                beaconType: 'userevent',\n                type: 'nav',\n                providerdesc: 'home',\n            };\n            this.blockTrackBeacon = true;\n            this.sendBeacon(matchBackUserevent);\n        },\n        sendTrackBeacon: function () {\n            const matchTrackResultUserevent = {\n                beaconType: 'userevent',\n                type: 'nav',\n                providerdesc: 'track-click',\n                section: 'main',\n                trackkey: this.content.trackId,\n            };\n            if (!this.blockTrackBeacon) {\n                this.sendBeacon(matchTrackResultUserevent);\n            } else {\n                this.blockTrackBeacon = false;\n            }\n        },\n        sendAppleMusicBeacon: function () {\n            const matchTrackAMUserevent = {\n                beaconType: 'userevent',\n                type: 'open',\n                providername: 'applemusic',\n                store: 'applemusic',\n                section: 'main',\n                trackkey: this.content.trackId,\n            };\n            this.sendBeacon(matchTrackAMUserevent);\n        },\n        handleAMTrackBeacon: function () {\n            if (!this.isAMConnected) {\n                const amTrackBeacon = {\n                    beaconType: 'userevent',\n                    type: 'open',\n                    providername: 'applemusic',\n                    providerdesc: 'gotowebflow',\n                    section: 'trackupsell',\n                    trackkey: this.content.trackId,\n                }\n                this.sendBeacon(amTrackBeacon);\n            }\n            this.blockTrackBeacon = true;\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        fetchStrings: function () {\n            this.SHAZAMS = browser.i18n.getMessage('general_shazams');\n            this.DONE = browser.i18n.getMessage('button_done');\n            this.AM_OFFER = browser.i18n.getMessage('am_offer_3');\n        },\n        setupUpsell: function () {\n            this.upsell = new Upsell({\n                client: 'browserextension',\n                platform: Beacon.platform,\n                sendBeacon: this.sendBeacon.bind(this),\n            });\n        },\n        determineInitialState: function () {\n            //chrome.storage.local.get('amconnect', (result) => {\n            this.upsell.getActivationState((state) => {\n                const amToken = state && state.access_token;\n                this.isAMConnected = amToken ? true : false;\n\n                if (this.isAMConnected) {\n                    this.$refs.pillBackground.classList.add('white-button');\n                    this.$refs.pillText.classList.add('black-text');\n                    this.$refs.connectText.classList.add('connect-text-inverted');\n                }\n            });\n            // this.isAMConnected = true;\n        },\n    },\n};\n</script>\n\n<style scoped>\np {\n    margin: 0px;\n}\na {\n    text-decoration: none;\n    color: black;\n}\n.match-title {\n    margin-bottom: 5px;\n    font-size: 18px;\n    font-weight: bold;\n}\n.match-artists {\n    font-size: 15px;\n    color: white;\n    opacity: 0.7;\n}\n.match-card {\n    width: 100%;\n    height: 200px;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n    transition: all 0.5s ease-out;\n}\n.cover-and-metadata {\n    display: flex;\n    margin-bottom: 45px;\n}\n.back-button {\n    border: none;\n    background-color: transparent;\n    font-size: 12px;\n    font-weight: bold;\n    text-transform: uppercase;\n    color: white;\n    position: absolute;\n    cursor: pointer;\n    top: 15px;\n    right: 15px;\n    z-index: 1000;\n}\n.shazam-count {\n    color: white;\n    font-size: 12px;\n    opacity: 0.5;\n}\n.count-icon-container {\n    display: flex;\n    justify-content: left;\n    margin-top: 10px;\n}\n.count-and-button {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    width: 420px;\n    position: fixed;\n    left: 0px;\n    bottom: 65px;\n}\n.slide-to-the-right {\n    justify-content: flex-end;\n}\n.am-button {\n    margin-right: 15px;\n}\n.am-offer-text {\n    font-size: 12px;\n    color: white;\n    margin-left: 15px;\n    /* padding: 0px 10px; */\n}\n.button-and-offer {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n    position: fixed;\n    top: 165px;\n    width: 420px;\n}\n.am-button-container {\n    display: flex;\n    justify-content: flex-end;\n    width: 420px;\n}\nimg {\n    width: 120px;\n    height: 120px;\n    border-radius: 6px;\n    margin: 0px 15px;\n}\n.text-container {\n    width: 200px;\n    height: 120px;\n    color: white;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n}\n#icon-shazam_logo {\n    fill: rgba(255, 255, 255, 0.7);\n    height: 14px;\n    width: 13px;\n    margin-right: 5px;\n}\n.line-clamp {\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n}\n\n/* interstitial specific */\n.intersitial-text-container {\n    color: white;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n}\n.intersitial-match-artists {\n    opacity: 0.7;\n    font-size: 15px;\n    color: white;\n}\n\n/* Animations */\n.interstitial-enter-anim {\n    animation: slideInSlideOut 2s ease-out;\n}\n\n.match-cover-enter-anim {\n    animation: scaleIn 0.3s ease-out;\n}\n\n.match-text-enter-anim {\n    animation: slideIn 0.3s ease-out;\n}\n\n.match-fade-enter-anim {\n    animation: fadeIn 0.5s ease-out;\n}\n\n@keyframes slideInSlideOut {\n    0% {\n        opacity: 0;\n        transform: translateY(30px);\n    }\n    20%,\n    80% {\n        opacity: 1;\n        transform: scale(1, 1) translateY(0px);\n    }\n    100% {\n        opacity: 0;\n        transform: translateY(-30px);\n    }\n}\n\n@keyframes scaleIn {\n    0% {\n        opacity: 0.2;\n        transform: scale(0.7, 0.7);\n    }\n    100% {\n        opacity: 1;\n        transform: scale(1, 1);\n    }\n}\n\n@keyframes slideIn {\n    0% {\n        opacity: 0;\n        transform: translateY(30px);\n    }\n    100% {\n        opacity: 1;\n        transform: translateY(0px);\n    }\n}\n\n@keyframes fadeIn {\n    0% {\n        opacity: 0;\n    }\n    100% {\n        opacity: 1;\n    }\n}\n</style>\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoverArtPlayback.vue?vue&type=style&index=0&id=32140e14&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"appear\":\"\",\"name\":\"main-fadein\"}},[_c('div',{ref:\"card\",staticClass:\"delete-card\"},[_c('div',{staticClass:\"text-container\"},[_c('h2',{staticClass:\"delete-headline\"},[_vm._v(_vm._s(_vm.DELETE_MAIN))]),_c('p',{staticClass:\"delete-subtext\"},[_vm._v(_vm._s(_vm.DELETE_SUB))])]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"cancel-button\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.CANCEL))]),_c('button',{staticClass:\"delete-button\",on:{\"click\":_vm.confirm}},[_vm._v(\" \"+_vm._s(_vm.DELETE_ALL)+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeleteCard.vue?vue&type=template&id=522b4a30&scoped=true&\"\nimport script from \"./DeleteCard.vue?vue&type=script&lang=js&\"\nexport * from \"./DeleteCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DeleteCard.vue?vue&type=style&index=0&id=522b4a30&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"522b4a30\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <!-- <a v-bind:href=\"amurl.applemusic\" target=\"_blank\"> -->\n    <div v-if=\"amurl.applemusic\" class=\"am-pill\" ref=\"pillBackground\" @click=\"handleClick\">\n        <p v-if=\"openIn\" class=\"open-in-text\">{{ OPEN_IN }}</p>\n        <svg class=\"icon-applemusic\" ref=\"pillText\" viewBox=\"0 0 337.42001 80.64\">\n            <g>\n                <path\n                    d=\"M43.8732,12.6988C46.60624,9.28037,48.46086,4.69039,47.97172,0c-4.00079,0.19894-8.88298,2.63946-11.70954,6.06057\n                      c-2.53794,2.92966-4.78422,7.7118-4.19863,12.20557C36.55464,18.65572,41.04158,16.02133,43.8732,12.6988\"\n                />\n                <path\n                    d=\"M47.92068,19.14357c-6.52215-0.3885-12.06756,3.70163-15.18223,3.70163c-3.11637,0-7.88593-3.50585-13.0446-3.41137\n                      c-6.71433,0.09862-12.94446,3.89497-16.3517,9.93291c-7.00811,12.07887-1.84944,29.99609,4.96557,39.83367\n                      c3.30953,4.86696,7.29806,10.22584,12.55359,10.03336c4.96557-0.19486,6.91187-3.2153,12.94775-3.2153\n                      c6.03144,0,7.78463,3.2153,13.04101,3.1179c5.45099-0.09746,8.85883-4.86939,12.1683-9.74109\n                      c3.79665-5.54809,5.35085-10.90521,5.44862-11.1993c-0.09777-0.0974-10.51105-4.0922-10.6076-16.07069\n                      c-0.09831-10.02977,8.17558-14.80048,8.56499-15.09633C57.75206,20.11855,50.45163,19.33935,47.92068,19.14357\"\n                />\n            </g>\n            <g>\n                <path\n                    d=\"M140.85696,78.62715V24.85957h-0.35449l-22.02344,53.76758h-8.4043L88.00052,24.85957h-0.35449v53.76758H77.3179V5.56953\n                      h13.11328l23.64355,58.22363h0.40527l23.59277-58.22363h13.16309v73.05762H140.85696z\"\n                />\n                <path\n                    d=\"M208.33841,78.62715h-10.47949v-9.01172h-0.25391c-2.93555,6.37891-8.35352,9.97363-16.50488,9.97363\n                      c-11.59375,0-18.68166-7.54395-18.68166-19.74512V25.36543h10.93556v32.35254c0,8.10059,3.84766,12.45411,11.3916,12.45411\n                      c7.89844,0,12.65723-5.46777,12.65723-13.77051V25.36543h10.93555V78.62715z\"\n                />\n                <path\n                    d=\"M238.30814,24.40351c12.4043,0,20.4541,6.88574,20.80859,16.70801h-10.27832\n                      c-0.60744-5.16406-4.4043-8.4043-10.53027-8.4043c-5.92383,0-9.87305,2.88574-9.87305,7.13867\n                      c0,3.34082,2.43066,5.61914,8.20215,6.93555l8.65723,1.97461c10.88574,2.53125,15.03711,6.78418,15.03711,14.47949\n                      c0,9.72071-9.0625,16.4043-21.61816,16.4043c-13.31543,0-21.31543-6.53125-22.32812-16.65723h10.83496\n                      c1.0127,5.56934,4.80957,8.30371,11.49316,8.30371c6.58105,0,10.63184-2.73438,10.63184-7.08789\n                      c0-3.44336-1.97461-5.46875-7.79688-6.78516l-8.65723-2.02441c-10.12598-2.3291-15.13867-7.18945-15.13867-14.93555\n                      C217.75247,30.93476,226.05618,24.40351,238.30814,24.40351z\"\n                />\n                <path\n                    d=\"M267.92239,11.2917c0-3.49316,2.83496-6.27734,6.32812-6.27734c3.49414,0,6.27832,2.78418,6.27832,6.27734\n                      c0,3.44336-2.78418,6.27832-6.27832,6.27832C270.75735,17.57002,267.92239,14.73506,267.92239,11.2917z M268.78275,25.36543\n                      h10.93555v53.26172h-10.93555V25.36543z\"\n                />\n                <path\n                    d=\"M325.88626,43.69355c-1.11328-5.6709-5.36621-10.17676-12.50488-10.17676c-8.45508,0-14.02441,7.03711-14.02441,18.47949\n                      c0,11.69531,5.62012,18.4795,14.12598,18.4795c6.7334,0,11.1377-3.69531,12.40332-9.87207h10.53125\n                      c-1.16504,11.34082-10.22754,19.03614-23.03613,19.03614c-15.23926,0-25.16211-10.42969-25.16211-27.64356\n                      c0-16.91016,9.92285-27.59277,25.06055-27.59277c13.7207,0,22.07422,8.80957,23.03613,19.29004H325.88626z\"\n                />\n            </g>\n        </svg>\n    </div>\n    <!-- </a> -->\n</template>\n\n<script>\nimport Upsell from '../../features/upsell';\nimport Beacon from '../Beacon.vue';\nexport default {\n    name: 'AppleMusicButton',\n    props: {\n        amurl: Object,\n        inverseColors: String,\n        openIn: String,\n        trackId: String,\n    },\n    data: function () {\n        return {\n            OPEN_IN: '',\n        };\n    },\n    mounted() {\n        this.setupUpsell();\n        this.fetchStrings();\n        if (this.inverseColors) {\n            this.$refs.pillBackground.classList.add('whiteButton');\n            this.$refs.pillText.classList.add('blackText');\n        }\n\n        if (this.openIn) {\n            this.$refs.pillBackground.classList.add('flex-area');\n        }\n    },\n    methods: {\n        handleClick: function (e) {\n            e.preventDefault();\n            this.upsell.gotoAppleMusicUpsell(this.amurl.applemusic, {\n                screenname: (this.openIn === 'true') ? 'main' : 'history',\n                loginorigin: 'webextension',\n                beaconId: 'ue-btn-open-in-am',\n                trackkey: this.trackId,\n            });\n        },\n        setupUpsell: function () {\n            this.upsell = new Upsell({\n                client: 'browserextension',\n                platform: Beacon.platform,\n                sendBeacon: this.sendBeacon.bind(this),\n            });\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        fetchStrings: function () {\n            this.OPEN_IN = browser.i18n.getMessage('am_button_openin');\n        },\n    },\n};\n</script>\n\n<style scoped>\n.icon-applemusic {\n    width: 45px;\n    height: 15px;\n    fill: white;\n    padding: 2px 10px 0px 10px;\n}\n.am-pill {\n    background-color: black;\n    width: fit-content;\n    border-radius: 15px;\n    align-self: flex-end;\n    margin-right: 10px;\n    cursor: pointer;\n}\nbutton {\n    border: none;\n    width: 50px;\n}\n.whiteButton {\n    background-color: rgba(244, 244, 244, 0.2);\n}\n.blackText {\n    fill: white;\n}\n.open-in-text {\n    text-transform: uppercase;\n    margin: 4px -4px 1px 6px;\n    padding-left: 4px;\n    font-weight: bold;\n    color: white;\n}\n.flex-area {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-decoration: none;\n    height: 18px;\n    padding-bottom: 2px;\n}\n</style>\n","<template>\n    <div class=\"rate-shazam-card\" ref=\"card\">\n        <div class=\"text-container\">\n            <h2 class=\"rate-shazam-headline\">{{ RATE_SHAZAM_MAIN }}</h2>\n            <p class=\"rate-shazam-subtext\">{{ RATE_SHAZAM_SUB }}</p>\n        </div>\n        <div class=\"button-container\">\n            <button class=\"cancel-button\" @click=\"cancel\">{{ CANCEL }}</button>\n            <button class=\"rate-shazam-button\" @click=\"confirm\">{{ RATE }}</button>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'RateShazamCard',\n    data: function () {\n        return {\n            RATE_SHAZAM_MAIN: '',\n            RATE_SHAZAM_SUB: '',\n            RATE: '',\n            CANCEL: '',\n            REVIEW_URL: 'https://chrome.google.com/webstore/detail/shazam-identify-songs-fro/mmioliijnhnoblpgimnlajmefafdfilb/reviews'\n        };\n    },\n    mounted() {\n        const ratingpagePageView = {\n            beaconType: 'pageview',\n            screenname: 'rating',\n        }\n        this.sendBeacon(ratingpagePageView);\n        this.fetchStrings();\n        this.updateRatingStatus();\n    },\n    methods: {\n        cancel: function () {\n           this.$parent.$emit('close_match', false);\n            const cancelButtonUserevent = {\n                beaconType: 'userevent',\n                type: 'nav',\n                providerdesc: 'notnow',\n            };\n            this.sendBeacon(cancelButtonUserevent);\n        },\n        confirm: function () {\n            const beaconObject = {\n                beaconType: 'userevent',\n                type: 'nav',\n                outcome: 'rate',\n            };\n            chrome.storage.local.set({ shazam_rating: {is_rated: 'yes'} });\n            this.sendBeacon(beaconObject);\n            setTimeout(() => {\n                window.open(this.REVIEW_URL, '_blank');\n                }, 200);\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        fetchStrings: function () {\n            this.RATE_SHAZAM_MAIN = browser.i18n.getMessage('rate_shazam_main');\n            this.RATE_SHAZAM_SUB = browser.i18n.getMessage('rate_shazam_sub');\n            this.RATE = browser.i18n.getMessage('button_rate');\n            this.CANCEL = browser.i18n.getMessage('button_not_now');\n        },\n        updateRatingStatus: function () {\n            // update the ratingStatus to no once rating page is shown.\n            chrome.storage.local.get('shazam_rating', function(result) {\n                const ratingStatus = result.shazam_rating && result.shazam_rating.is_rated ? result.shazam_rating.is_rated : null;\n                if(ratingStatus === 'pending')           \n                {\n                    chrome.storage.local.set({shazam_rating : {is_rated : 'no'}});         \n                }\n            });\n        }\n    }\n};\n</script>\n\n<style scoped>\n.rate-shazam-card {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(10px);\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    z-index: 3;\n}\n.text-container {\n    text-align: center;\n    color: white;\n    margin-bottom: 50px;\n}\n.rate-shazam-headline {\n    width: 90vw;\n    font-size: 20px;\n    font-weight: bold;\n    margin: 5px 0px;\n}\n.rate-shazam-subtext {\n    width: 90vw;\n    font-size: 14px;\n    opacity: 0.7;\n    margin: 0px;\n}\n.button-container {\n    position: absolute;\n    bottom: 20px;\n}\nbutton {\n    width: 190px;\n    height: 34px;\n    border-radius: 6px;\n    border: none;\n    margin: 0px 5px;\n    text-transform: uppercase;\n    font-weight: bold;\n    font-size: 14px;\n    cursor: pointer;\n}\n.cancel-button {\n    background-color: #e4e4e4;\n    color: #0088ff;\n}\n.rate-shazam-button {\n    background-color: #0088ff;\n    color: white;\n}\n/* transitions */\n.main-fadein-enter {\n    opacity: 0;\n}\n\n.main-fadein-enter-active {\n    transition: all .2s ease-out;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"main\",staticClass:\"main-container\"},[_c('div',{ref:\"buttonContainer\",staticClass:\"shz-button-container\"},[_c('svg',{ref:\"logoSVG\",attrs:{\"id\":\"logo-svg\",\"viewBox\":\"0 0 155.8 155.8\"},on:{\"click\":function($event){return _vm.beginRecording(true)}}},[_c('g',[_c('path',{attrs:{\"fill-opacity\":\".3\",\"d\":\"M77.9 15.6c-34.4 0-62.3 27.9-62.3 62.3s27.9 62.3 62.3 62.3 62.3-27.9 62.3-62.3-27.9-62.3-62.3-62.3z\"}}),_c('path',{attrs:{\"d\":\"M66.9 102.4c-6.6 0-13.3-2.2-18.4-6.6C42.3 90.3 38.6 83 38.1 75c-.5-7.7 2.2-15.2 7.4-21 5.9-6.5 16.5-16.6 16.9-17.1 2.9-2.7 7.4-2.6 10.1.2 2.7 2.9 2.6 7.4-.2 10.2-.1.1-10.6 10.2-16.2 16.3-2.6 2.9-3.9 6.6-3.7 10.5.3 4.1 2.2 7.9 5.5 10.8 4.4 3.8 13 4.6 18.3-.2 3.2-2.9 7.1-7.1 7.1-7.1 2.7-2.9 7.2-3.1 10.1-.4 2.9 2.7 3.1 7.2.4 10.2-.2.2-4.4 4.8-8.1 8.1-5 4.5-11.9 6.9-18.8 6.9z\"}}),_c('path',{attrs:{\"d\":\"M110.3 101.8c-5.9 6.5-16.5 16.6-16.9 17.1-1.4 1.3-3.2 2-5 2-1.9 0-3.8-.7-5.2-2.2-2.7-2.9-2.6-7.4.2-10.2.1-.1 10.6-10.2 16.2-16.3 2.6-2.9 3.9-6.6 3.7-10.5-.2-4.1-2.2-7.9-5.5-10.8-4.4-3.8-13-4.6-18.3.2-3.2 2.9-7.1 7.1-7.1 7.1-2.7 2.9-7.2 3.1-10.1.4-2.9-2.7-3.1-7.2-.4-10.2.2-.2 4.4-4.8 8.1-8.1 10.2-9.2 26.9-9.4 37.3-.4 6.3 5.4 10 12.8 10.5 20.8.4 7.9-2.2 15.3-7.5 21.1z\"}})])])]),(_vm.listeningActive)?_c('div',{staticClass:\"listening-circle\",attrs:{\"id\":\"c1\"}}):_vm._e(),(_vm.listeningActive)?_c('div',{staticClass:\"listening-circle\",attrs:{\"id\":\"c2\"}}):_vm._e(),(_vm.listeningActive)?_c('div',{staticClass:\"listening-circle\",attrs:{\"id\":\"c3\"}}):_vm._e(),(_vm.listeningActive)?_c('div',{staticClass:\"listening-circle\",attrs:{\"id\":\"c4\"}}):_vm._e(),_c('div',{ref:\"textContainer\",staticClass:\"text-container\"},[_c('transition',{attrs:{\"mode\":\"out-in\",\"name\":\"mainText-appear\"}},[_c('h2',{key:_vm.MAIN_TEXT,staticClass:\"click-text\"},[_vm._v(_vm._s(_vm.MAIN_TEXT))])]),_c('transition',{attrs:{\"mode\":\"out-in\",\"name\":\"subText-appear\"}},[_c('p',{key:_vm.SUBTEXT,staticClass:\"click-subtext\"},[_vm._v(_vm._s(_vm.SUBTEXT))])])],1)]),(_vm.listeningActive)?_c('p',{staticClass:\"cancel-text\",on:{\"click\":_vm.cancelListening}},[_vm._v(\" \"+_vm._s(_vm.CANCEL)+\" \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShazamButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShazamButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShazamButton.vue?vue&type=template&id=1ffded09&scoped=true&\"\nimport script from \"./ShazamButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ShazamButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShazamButton.vue?vue&type=style&index=0&id=1ffded09&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ffded09\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"appear\":\"\",\"name\":\"main-fadein\"}},[_c('div',{ref:\"card\",staticClass:\"disconnect-card\"},[_c('div',{staticClass:\"text-container\"},[_c('h2',{staticClass:\"disconnect-headline\"},[_vm._v(_vm._s(_vm.DISCONNECT_MAIN))]),_c('p',{staticClass:\"disconnect-subtext\"},[_vm._v(_vm._s(_vm.DISCONNECT_SUB))])]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"cancel-button\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.CANCEL))]),_c('button',{staticClass:\"disconnect-button\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.DISCONNECT))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisconnectCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisconnectCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DisconnectCard.vue?vue&type=template&id=fd82366c&scoped=true&\"\nimport script from \"./DisconnectCard.vue?vue&type=script&lang=js&\"\nexport * from \"./DisconnectCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DisconnectCard.vue?vue&type=style&index=0&id=fd82366c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fd82366c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <transition appear name=\"main-fadein\">\n        <div class=\"delete-card\" ref=\"card\">\n            <div class=\"text-container\">\n                <h2 class=\"delete-headline\">{{ DELETE_MAIN }}</h2>\n                <p class=\"delete-subtext\">{{ DELETE_SUB }}</p>\n            </div>\n            <div class=\"button-container\">\n                <button class=\"cancel-button\" @click=\"cancel\">{{ CANCEL }}</button>\n                <button class=\"delete-button\" @click=\"confirm\">\n                    {{ DELETE_ALL }}\n                </button>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\nexport default {\n    name: 'DeleteCard',\n    data: function () {\n        return {\n            DELETE_MAIN: '',\n            DELETE_SUB: '',\n            DELETE_ALL: '',\n            CANCEL: '',\n        };\n    },\n    props: {\n        expanded: Boolean,\n    },\n    mounted() {\n        this.fetchStrings();\n    },\n    methods: {\n        cancel: function () {\n            this.$parent.$emit('toggle_delete_card', {\n                toggle: false,\n                expandedState: false,\n            });\n        },\n        confirm: function () {\n            this.$root.$emit('clear_library');\n        },\n        fetchStrings: function () {\n            this.DELETE_MAIN = browser.i18n.getMessage('delete_main');\n            this.DELETE_SUB = browser.i18n.getMessage('delete_sub');\n            this.DELETE_ALL = browser.i18n.getMessage('delete_all');\n            this.CANCEL = browser.i18n.getMessage('button_cancel');\n        },\n    },\n};\n</script>\n\n<style scoped>\n.delete-card {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(10px);\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    z-index: 3;\n}\n.text-container {\n    text-align: center;\n    color: white;\n}\n.delete-headline {\n    width: 90vw;\n    font-size: 20px;\n    font-weight: bold;\n    margin: 5px 0px;\n}\n.delete-subtext {\n    width: 90vw;\n    font-size: 14px;\n    opacity: 0.7;\n    margin: 0px;\n}\n.button-container {\n    position: absolute;\n    bottom: 20px;\n}\nbutton {\n    width: 190px;\n    height: 34px;\n    border-radius: 6px;\n    border: none;\n    margin: 0px 5px;\n    text-transform: uppercase;\n    font-weight: bold;\n    font-size: 14px;\n    cursor: pointer;\n}\n.cancel-button {\n    background-color: #e4e4e4;\n    color: black;\n}\n.delete-button {\n    background-color: #d7374f;\n    color: white;\n}\n\n/* transitions */\n.main-fadein-enter {\n    opacity: 0;\n}\n\n.main-fadein-enter-active {\n    transition: all .2s ease-out;\n}\n\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.amurl.applemusic)?_c('div',{ref:\"pillBackground\",staticClass:\"am-pill\",on:{\"click\":_vm.handleClick}},[(_vm.openIn)?_c('p',{staticClass:\"open-in-text\"},[_vm._v(_vm._s(_vm.OPEN_IN))]):_vm._e(),_c('svg',{ref:\"pillText\",staticClass:\"icon-applemusic\",attrs:{\"viewBox\":\"0 0 337.42001 80.64\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M43.8732,12.6988C46.60624,9.28037,48.46086,4.69039,47.97172,0c-4.00079,0.19894-8.88298,2.63946-11.70954,6.06057\\n                  c-2.53794,2.92966-4.78422,7.7118-4.19863,12.20557C36.55464,18.65572,41.04158,16.02133,43.8732,12.6988\"}}),_c('path',{attrs:{\"d\":\"M47.92068,19.14357c-6.52215-0.3885-12.06756,3.70163-15.18223,3.70163c-3.11637,0-7.88593-3.50585-13.0446-3.41137\\n                  c-6.71433,0.09862-12.94446,3.89497-16.3517,9.93291c-7.00811,12.07887-1.84944,29.99609,4.96557,39.83367\\n                  c3.30953,4.86696,7.29806,10.22584,12.55359,10.03336c4.96557-0.19486,6.91187-3.2153,12.94775-3.2153\\n                  c6.03144,0,7.78463,3.2153,13.04101,3.1179c5.45099-0.09746,8.85883-4.86939,12.1683-9.74109\\n                  c3.79665-5.54809,5.35085-10.90521,5.44862-11.1993c-0.09777-0.0974-10.51105-4.0922-10.6076-16.07069\\n                  c-0.09831-10.02977,8.17558-14.80048,8.56499-15.09633C57.75206,20.11855,50.45163,19.33935,47.92068,19.14357\"}})]),_c('g',[_c('path',{attrs:{\"d\":\"M140.85696,78.62715V24.85957h-0.35449l-22.02344,53.76758h-8.4043L88.00052,24.85957h-0.35449v53.76758H77.3179V5.56953\\n                  h13.11328l23.64355,58.22363h0.40527l23.59277-58.22363h13.16309v73.05762H140.85696z\"}}),_c('path',{attrs:{\"d\":\"M208.33841,78.62715h-10.47949v-9.01172h-0.25391c-2.93555,6.37891-8.35352,9.97363-16.50488,9.97363\\n                  c-11.59375,0-18.68166-7.54395-18.68166-19.74512V25.36543h10.93556v32.35254c0,8.10059,3.84766,12.45411,11.3916,12.45411\\n                  c7.89844,0,12.65723-5.46777,12.65723-13.77051V25.36543h10.93555V78.62715z\"}}),_c('path',{attrs:{\"d\":\"M238.30814,24.40351c12.4043,0,20.4541,6.88574,20.80859,16.70801h-10.27832\\n                  c-0.60744-5.16406-4.4043-8.4043-10.53027-8.4043c-5.92383,0-9.87305,2.88574-9.87305,7.13867\\n                  c0,3.34082,2.43066,5.61914,8.20215,6.93555l8.65723,1.97461c10.88574,2.53125,15.03711,6.78418,15.03711,14.47949\\n                  c0,9.72071-9.0625,16.4043-21.61816,16.4043c-13.31543,0-21.31543-6.53125-22.32812-16.65723h10.83496\\n                  c1.0127,5.56934,4.80957,8.30371,11.49316,8.30371c6.58105,0,10.63184-2.73438,10.63184-7.08789\\n                  c0-3.44336-1.97461-5.46875-7.79688-6.78516l-8.65723-2.02441c-10.12598-2.3291-15.13867-7.18945-15.13867-14.93555\\n                  C217.75247,30.93476,226.05618,24.40351,238.30814,24.40351z\"}}),_c('path',{attrs:{\"d\":\"M267.92239,11.2917c0-3.49316,2.83496-6.27734,6.32812-6.27734c3.49414,0,6.27832,2.78418,6.27832,6.27734\\n                  c0,3.44336-2.78418,6.27832-6.27832,6.27832C270.75735,17.57002,267.92239,14.73506,267.92239,11.2917z M268.78275,25.36543\\n                  h10.93555v53.26172h-10.93555V25.36543z\"}}),_c('path',{attrs:{\"d\":\"M325.88626,43.69355c-1.11328-5.6709-5.36621-10.17676-12.50488-10.17676c-8.45508,0-14.02441,7.03711-14.02441,18.47949\\n                  c0,11.69531,5.62012,18.4795,14.12598,18.4795c6.7334,0,11.1377-3.69531,12.40332-9.87207h10.53125\\n                  c-1.16504,11.34082-10.22754,19.03614-23.03613,19.03614c-15.23926,0-25.16211-10.42969-25.16211-27.64356\\n                  c0-16.91016,9.92285-27.59277,25.06055-27.59277c13.7207,0,22.07422,8.80957,23.03613,19.29004H325.88626z\"}})])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppleMusicButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppleMusicButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppleMusicButton.vue?vue&type=template&id=53d10c42&scoped=true&\"\nimport script from \"./AppleMusicButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AppleMusicButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppleMusicButton.vue?vue&type=style&index=0&id=53d10c42&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53d10c42\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div></div>\n</template>\n\n<script>\nimport { BeaconsUrl } from '@shazam-web/stats';\nimport { getPlatformInfo } from '@shazam-web/useragent';\nexport default {\n    name: 'Beacon',\n    data: function () {\n        return {\n            inid: '',\n            country: '',\n            language: '',\n        };\n    },\n    platform: getPlatformInfo(navigator.userAgent, true),\n    mounted() {\n        // this can receive a beacon from app-wide\n        this.fetchStorageItems();\n        this.$root.$on('send_beacon', (beaconContent) => {\n            // console.log('received a beacon...', beaconContent);\n\n            // https://beacon.shazam.com/beacons/api/v1/beacon/website/1.0/en/US/web/-/beacon/303a731d-6ece-a2bf-1f90-e88fe54b2455/impression?screenname=home&providername=shazambutton&path=/webrec/homepage&ec=0&fc=0&webId=f16c1af0-1302-c078-0686-2e136ceb666e&inapp=0&bot=0&deviceplatform=desktop_mac&osver=10.15.7&buildnum=20210517-51b3dcab-149433&amc=0&aa=0&ea=0&ga=0&browsername=chrome&browserver=90.0.4430.93&ua=Mozilla/5.0_(Macintosh;_Intel_Mac_OS_X_10_15_7)_AppleWebKit/537.36_(KHTML,_like_Gecko)_Chrome/90.0.4430.93_Safari/537.36\n            // const url = new BeaconsUrl('https://beacon.shazam.com/beacons/api/v1/beacon/{appname}/{appver}/{lang}/{country}/{platform}/{devicemodel}/beacon/{inid}/{beaconType}?',\n            const useragent = navigator.userAgent;\n            const ua = getPlatformInfo(useragent, true);\n            const url = new BeaconsUrl(\n                'https://beacon.shazam.com/beacons/api/v1/beacon/{appname}/{appver}/{lang}/{country}/webextension/-/beacon/{inid}/{beaconType}?',\n                {\n                    appname: 'browserextension',\n                    appver: '0.0.1',\n                    lang: this.language,\n                    country: this.country,\n                    inid: this.inid,\n                }, // optional params for path\n                {\n                    defaultValue: '-',\n                }\n            );\n\n            const deviceSpecs = {\n                deviceplatform: ua.deviceplatform,\n                browsername: ua.browserName,\n                browserver: ua.browserVer,\n            };\n\n            const joinedBeaconContent = {\n                ...deviceSpecs,\n                ...beaconContent,\n            };\n\n            url.send(joinedBeaconContent, 'image');\n        });\n    },\n    methods: {\n        fetchStorageItems: function () {\n            const _this = this;\n            chrome.storage.local.get('country', function (result) {\n                _this.country = result.country;\n            });\n            chrome.storage.local.get('language', function (result) {\n                _this.language = result.language;\n            });\n            chrome.storage.local.get('inidDetails', function (result) {\n                _this.inid = result.inidDetails.inid;\n\n                // this only fires once on initial startup, we needed to do this due to\n                // beacon initially not firing from PopupContent for some reason\n                // it's bizzare that all \"initial state\" beacons need to be fired from here\n                _this.$root.$emit('send_beacon', { beaconType: 'pageview', screenname: 'home'});\n                _this.$root.$emit('send_beacon', { beaconType: 'pageview', screenname: 'tagging'});\n                _this.$root.$emit('send_beacon', { beaconType: 'userevent', type: 'taggingstarted', screenname: 'home'});\n            });\n        },\n    },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Beacon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Beacon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Beacon.vue?vue&type=template&id=29d6ebef&\"\nimport script from \"./Beacon.vue?vue&type=script&lang=js&\"\nexport * from \"./Beacon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"appear\":\"\",\"name\":\"library\"}},[_c('a',{attrs:{\"href\":_vm.content.weburl,\"target\":\"content.weburl\"},on:{\"click\":_vm.sendTrackBeacon}},[_c('div',{staticClass:\"library-card\",on:{\"mouseenter\":function($event){return _vm.handleHoverIn()},\"mouseleave\":function($event){return _vm.handleHoverOut()}}},[_c('cover-art-playback',{attrs:{\"content\":_vm.content,\"size\":\"small\"}}),_c('div',{staticClass:\"text-content\"},[_c('p',{attrs:{\"id\":\"title\"}},[_vm._v(_vm._s(_vm.content.metadata.title))]),_c('p',{attrs:{\"id\":\"artist\"}},[_vm._v(_vm._s(_vm.content.metadata.artist))]),((_vm.amConnected || (!_vm.localIsPlaying && !_vm.amConnected)))?_c('p',{attrs:{\"id\":\"date\"}},[_vm._v(\" \"+_vm._s(_vm.getDateTime(_vm.content.matchTime))+\" \")]):_c('div',{staticClass:\"marquee-container\"},[_c('p',{attrs:{\"id\":\"upsell-text\"}},[_vm._v(_vm._s(_vm.UPSELL_TEXT))])])]),(_vm.hover)?_c('div',{staticClass:\"am-button-container\",on:{\"click\":_vm.sendAppleMusicBeacon}},[_c('apple-music-button',{staticClass:\"am-button\",attrs:{\"amurl\":_vm.content.metadata.openin,\"trackId\":_vm.content.trackId}})],1):_vm._e(),(_vm.hover)?_c('div',{staticClass:\"rubbish-container\",on:{\"click\":_vm.deleteEntry}},[_c('svg',{attrs:{\"id\":\"rubbish-bin\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"14\",\"height\":\"16\",\"viewBox\":\"0 0 14 16\"}},[_c('g',{attrs:{\"fill\":\"none\",\"fill-rule\":\"evenodd\"}},[_c('g',{attrs:{\"fill\":\"#000\",\"fill-rule\":\"nonzero\"}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M376.394 17c.469 0 .835-.126 1.1-.377.265-.251.407-.613.427-1.085l.454-10.464h1.028c.166 0 .307-.057.423-.171.116-.114.174-.258.174-.43 0-.163-.058-.301-.174-.415-.116-.115-.257-.172-.423-.172h-3.138V2.797c0-.558-.17-.997-.51-1.317-.34-.32-.81-.48-1.41-.48h-2.713c-.595 0-1.062.16-1.403.48-.34.32-.51.759-.51 1.317v1.09h-3.13c-.16 0-.3.056-.415.17-.116.115-.174.253-.174.416 0 .172.058.316.174.43.116.114.254.171.416.171h1.035l.454 10.464c.02.472.164.834.43 1.085.268.251.633.377 1.097.377h6.788zm-1.52-13.114h-3.756v-1.02c0-.173.054-.31.162-.411.109-.102.256-.153.442-.153h2.54c.187 0 .336.051.446.153.111.101.167.238.167.41l-.001 1.021zm-4.157 10.966c-.136 0-.248-.04-.336-.121-.089-.082-.135-.193-.14-.335l-.204-7.738c-.005-.137.035-.247.12-.331.086-.084.202-.126.348-.126.131 0 .241.04.33.122.087.081.134.193.14.335l.21 7.738c.006.137-.035.247-.12.33-.086.085-.202.126-.348.126zm2.283 0c-.146 0-.263-.041-.352-.125-.088-.084-.132-.192-.132-.324V6.658c0-.137.044-.247.132-.331.089-.084.206-.126.352-.126.141 0 .257.042.348.126.09.084.136.194.136.331v7.745c0 .132-.046.24-.136.324-.091.084-.207.125-.348.125zm2.275 0c-.146 0-.262-.041-.347-.125-.086-.084-.129-.194-.129-.331l.22-7.738c.004-.142.051-.254.14-.335.087-.081.2-.122.336-.122.146 0 .262.042.347.126.086.084.126.194.121.331l-.219 7.745c0 .137-.044.246-.132.328-.088.08-.2.121-.337.121z\",\"transform\":\"translate(-404.000000, -196.000000) translate(18.000000, 30.000000) translate(20.000000, 165.000000)\"}})])])])])])]):_c('div',{staticClass:\"new-container\"},[(!_vm.dismissedNew && _vm.isNew)?_c('div',[_c('p',{staticClass:\"new-text\"},[_vm._v(\"NEW\")])]):_vm._e()])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryTrack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryTrack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LibraryTrack.vue?vue&type=template&id=2f3e2f15&scoped=true&\"\nimport script from \"./LibraryTrack.vue?vue&type=script&lang=js&\"\nexport * from \"./LibraryTrack.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LibraryTrack.vue?vue&type=style&index=0&id=2f3e2f15&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f3e2f15\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMatchCard.vue?vue&type=style&index=0&id=16128191&scoped=true&lang=css&\"","<template>\n    <div>\n        <div class='popup-container'>\n            <shazam-button v-show=\"showButton\" />\n            <!-- <shazam-button v-show=\"cardContent === 'button'\" /> -->\n            <match-card :content=\"matchContent\" v-if=\"cardContent === 'match'\" />\n            <no-match-card :wasSilent=\"noMatchSilence\" v-if=\"cardContent === 'nomatch'\" />\n            <delete-card :expanded=\"libraryExpanded\" v-if=\"cardContent === 'delete'\" />\n            <disconnect-card :expanded=\"libraryExpanded\" v-if=\"cardContent === 'disconnect'\" />\n            <rate-shazam-card v-if=\"cardContent === 'rateshazam'\" />\n        </div>\n        <library v-if=\"!hideLibrary\" :musicKit=\"musicKit\"/>\n        <!-- <library :musicKit=\"musicKit\" /> -->\n        <beacon v-if=\"hasInid\"/>\n    </div>\n</template>\n\n<script>\nimport Library from './Library.vue';\nimport ShazamButton from './ShazamButton.vue';\nimport MatchCard from './MatchCard.vue';\nimport NoMatchCard from './NoMatchCard.vue';\nimport DeleteCard from './DeleteCard.vue';\nimport Beacon from './Beacon.vue';\nimport DisconnectCard from './DisconnectCard.vue';\nimport RateShazamCard from './RateShazamCard.vue';\nimport { setupMusicKit } from '../features/musickit';\n\nconst tinycolor = require('tinycolor2');\n\nexport default {\n    components: {\n        Library,\n        ShazamButton,\n        MatchCard,\n        NoMatchCard,\n        DeleteCard,\n        Beacon,\n        DisconnectCard,\n        RateShazamCard\n    },\n    name: 'PopupContent',\n    data: function () {\n        return {\n            cardContent: 'button',\n            noMatchSilence: false,\n            matchContent: {},\n            hideLibrary: false,\n            onMainCard: true,\n            onMatchCard: false,\n            libraryExpanded: false,\n            timeoutID: '',\n            appleMusicConnected: false,\n            showButton: true,\n            musicKit: null,\n            hasInid: false,\n        };\n    },\n    mounted() {\n        const _this = this;\n        setupMusicKit();\n\n        chrome.storage.local.get(\n            ('inidDetails',\n            function (result) {\n                const existingInid = result['inidDetails'];\n                const inidExpiry = existingInid && existingInid.inidExpiry;\n                const currTimeSec = Math.round(Date.now() / 1000);\n\n                if (!existingInid || (currTimeSec > inidExpiry)) {\n                    const inid = `${rs(8)}-${rs(4)}-${rs(4)}-${rs(4)}-${rs(12)}`;\n                    \n                    const oneYearSeconds = 365 * 24 * 60 * 60;\n                    const inidExpiry = Math.round(Date.now() / 1000) + oneYearSeconds;\n                    chrome.storage.local.set({ inidDetails: {inid, inidExpiry} });\n\n                    chrome.storage.local.set({ shazam_matches: [] });\n                    chrome.storage.local.set({ new_matches: [] });\n                }\n                _this.hasInid = true;\n            })\n        );\n\n        function rs(length) {\n            var result = '';\n            const chars = '0123456789abcdef';\n            for (var i = length; i > 0; --i) result += chars[Math.round(Math.random() * (chars.length - 1))];\n            return result;\n        }\n\n        // parse the language from the browser\n        const langaugeArray = navigator.languages;\n        const currentLocale = langaugeArray[0];\n        const langPartsArray = currentLocale.split('-');\n\n        chrome.storage.local.set({ language: langPartsArray[0] });\n        chrome.storage.local.set({ locale: currentLocale });\n        \n        chrome.storage.local.get(['country'], function(result) {\n            if (!('country' in result)) {\n                fetch('https://www.shazam.com/services/webrec/country', {\n                mode: 'no-cors',\n                }) //change this to www once webservices is deployed\n                    .then((response) => response.json())\n                    .then((data) => {\n                    chrome.storage.local.set({ country: data.country });\n                    })\n                .catch(() => {\n                    // if fetching the country fails for some reason just default to the US\n                    chrome.storage.local.set({ country: 'US' });\n                });\n            }\n        });\n\n\n        // fetch and set the placeholder image when there is no cover art\n        const noCoverURL = chrome.extension.getURL('assets/nocoverart.jpeg');\n        chrome.storage.local.set({ no_cover_url: noCoverURL });\n        // setup the listeners\n        browser.runtime.onMessage.addListener(function (message) {\n            let listeningEndUserevent = {};\n\n            // diagnostic beacon which is fired when we receive minimal audio into\n            // the audio buffer for whatever reason\n            if (message.type === 'low_audio') {\n                const lowBufferError = {\n                    beaconType: 'taggingprogress',\n                    outcome: 'error',\n                    screenname: 'home'\n                };\n                \n                _this.hideLibrary = false;\n                _this.sendBeacon(lowBufferError);\n            }\n\n            if (message.type === 'trackmatch') {\n                if (_this.timeoutID) clearTimeout(_this.timeoutID);\n                _this.$root.$emit('track_match', message.library);\n                _this.onMainCard = false;\n                _this.libraryExpanded = false;\n\n                const trackId = message.match.trackId;\n                const discoverURL = `https://www.shazam.com/discovery/v5/en/US/web/-/track/${trackId}?shazamapiversion=v3`;\n                fetch(discoverURL)\n                    .then((response) => response.json())\n                    .then((data) => {\n                        const joecolor = data.images && data.images.joecolor;\n                        const colors = joecolor && joecolor.match(/^b:(\\w{6})p:(\\w{6})s:(\\w{6})t:(\\w{6})q:(\\w{6})$/);\n\n                        let colorHex = '#000000';\n                        if (joecolor) colorHex = `#${colors[1]}`;\n                        message.match.bgColor = colorHex;\n\n                        let hasLightBgColor = tinycolor(colorHex).isLight();\n                        if (hasLightBgColor) {\n                            message.match.bgColor = tinycolor(colorHex).darken(50).toString();\n                        }\n\n                        // update the matchContent prop with the newly acquired data\n                        _this.matchContent = message.match;\n\n                        // once we fetch the color we can transition over to the match card\n                        _this.cardContent = 'match';\n                        _this.showButton = false;\n                        _this.onMatchCard = true;\n                        _this.hideLibrary = false;\n                    });\n\n                listeningEndUserevent = {\n                    beaconType: 'userevent',\n                    type: 'taggingended',\n                    outcome: 'match',\n                    trackkey: message.match.trackId,\n                };\n                // match gets auto-hidden after 10s if no rating exprerience\n                // otherwise, get auto-hidden after 5s aned show rating experience page\n                let dismissTimer = message.rating ? 5000 : 10000;\n                _this.timeoutID = setTimeout(() => {\n                    if(message.rating)\n                    {\n                        _this.showRatingCard();\n                    }\n                    else {\n                        _this.closeMatch();\n                    }\n                    _this.$root.$emit('update_new_count');\n                }, dismissTimer);\n            }\n            else if (message.type === 'tracknomatch') {\n                _this.cardContent = 'nomatch';\n                _this.showButton = false;\n                _this.noMatchSilence = false;\n                _this.onMainCard = false;\n                _this.hideLibrary = false;\n\n                listeningEndUserevent = {\n                    beaconType: 'userevent',\n                    type: 'taggingended',\n                    outcome: 'nomatch',\n                };\n            } else if (message.type === 'silence') {\n                _this.cardContent = 'nomatch';\n                _this.showButton = false;\n                _this.noMatchSilence = true;\n                _this.onMainCard = false;\n                _this.hideLibrary = false;\n\n                listeningEndUserevent = {\n                    beaconType: 'userevent',\n                    type: 'taggingended',\n                    outcome: 'nomatch_noaudio',\n                };\n            } else if (message.type === 'cancelled') {\n                _this.cardContent = 'button';\n                _this.hideLibrary = false;\n\n                const homepagePageView = {\n                    beaconType: 'pageview',\n                    screenname: 'home',\n                };\n\n                _this.sendBeacon(homepagePageView);\n\n                //notify the button container to change the UI\n                _this.$root.$emit('listening_cancelled');\n            } else if (message.type === 'listeningState') {\n                // handles the hiding of the connect button when listening is in progress\n                _this.$root.$emit('listening_state_change', message.state);\n            }\n            if (listeningEndUserevent.beaconType) {\n                _this.sendBeacon(listeningEndUserevent);\n            }\n        });\n\n        this.$on('close_match', () => {\n            this.closeMatch();\n        });\n\n        this.$on('recording_active', () => {\n            _this.hideLibrary = false;\n        });\n\n        this.$on('close_match_restart', () => {\n            _this.noMatchSilence = false;\n            _this.onMainCard = true;\n            _this.hideLibrary = false;\n            _this.showButton = true;\n            _this.cardContent = 'button';\n            _this.$root.$emit('retry_capture');\n        });\n\n        this.$on('button_content', () => {\n            _this.cardContent = 'button';\n        });\n\n        this.$on('toggle_delete_card', (state) => {\n            const { toggle, expandedState } = state;\n            _this.toggleCardContent('delete', toggle, expandedState);\n        });\n\n        this.$root.$on('toggle_disconnect_card', (state) => {\n            const { toggle, expandedState } = state;\n            _this.toggleCardContent('disconnect', toggle, expandedState);\n            _this.$root.$emit('listening_cancelled');\n            _this.onMainCard = true;\n            _this.showButton = true;\n        });\n        this.$root.$on('close_popup', () => {\n            // allow for beacons to fire before closing\n            setTimeout(() => window.close(), 1000);\n        });\n    },\n    computed: {\n        defaultText() {\n            return browser.i18n.getMessage('extName');\n        },\n    },\n    methods: {\n        toggleCardContent: function (origin, toggle, expandedState) {\n            if (toggle) {\n                this.libraryExpanded = expandedState;\n                this.cardContent = origin;\n                // this.hideLibrary = true;\n            } else {\n                this.cardContent = 'button';\n                this.hideLibrary = false;\n            }\n        },\n        sendStartMessage: function () {\n            browser.runtime.sendMessage({ type: 'startRecording' });\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        showRatingCard: function()\n        {\n            this.cardContent = 'rateshazam';\n            this.onMainCard = true;\n            this.showButton = true;\n            this.hideLibrary = false;\n        },\n        closeMatch: function () {\n            this.$root.$emit('listening_cancelled');\n\n            setTimeout(() => {\n                this.cardContent = 'button';\n                this.showButton = true;\n                this.onMainCard = true;\n                this.hideLibrary = false;\n            }, 10);\n\n            const homepagePageView = {\n                beaconType: 'pageview',\n                screenname: 'home',\n            };\n\n            this.sendBeacon(homepagePageView);\n        },\n    },\n};\n</script>\n\n<style scoped>\np {\n    font-size: 20px;\n}\n.popup-container {\n    min-height: 200px;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pill-body\",on:{\"click\":_vm.handleClick}},[_c('svg',{attrs:{\"id\":\"apple-music-note\",\"width\":\"35\",\"height\":\"35\",\"viewBox\":\"0 0 35 35\"}},[_c('defs',[_c('linearGradient',{attrs:{\"id\":\"bmhy9m7zca\",\"x1\":\"50%\",\"x2\":\"50%\",\"y1\":\"0%\",\"y2\":\"100%\"}},[_c('stop',{attrs:{\"offset\":\"0%\",\"stop-color\":\"#FB5C74\"}}),_c('stop',{attrs:{\"offset\":\"100%\",\"stop-color\":\"#FA233B\"}})],1)],1),_c('g',{attrs:{\"fill\":\"none\",\"fill-rule\":\"evenodd\"}},[_c('g',[_c('g',[_c('g',{attrs:{\"transform\":\"translate(-90 -461) translate(85 456) translate(5 5)\"}},[_c('circle',{attrs:{\"cx\":\"17.5\",\"cy\":\"17.5\",\"r\":\"17.25\",\"fill\":\"url(#bmhy9m7zca)\",\"stroke\":\"#FFF\",\"stroke-opacity\":\".3\",\"stroke-width\":\".5\"}}),_c('path',{attrs:{\"fill\":\"#FFF\",\"d\":\"M22.343 8.003c-.064.006-.626.107-.694.12L13.862 9.71h-.003c-.203.045-.362.117-.485.221-.149.126-.231.304-.262.51-.007.045-.018.134-.018.267v9.843c0 .23-.018.453-.172.644-.154.19-.345.247-.568.293l-.509.103c-.643.131-1.061.22-1.44.369-.363.142-.635.323-.85.551-.429.454-.604 1.069-.544 1.645.052.492.27.962.647 1.31.253.235.57.414.945.49.388.079.801.05 1.405-.072.321-.066.623-.168.91-.34.283-.168.527-.394.717-.669.19-.276.314-.582.381-.907.07-.336.087-.64.087-.975v-8.537c0-.458.129-.578.494-.667 0 0 6.473-1.319 6.774-1.378.422-.082.62.04.62.486v5.827c0 .231-.003.464-.158.656-.154.19-.345.248-.568.293l-.509.104c-.643.13-1.062.22-1.44.368-.363.142-.635.323-.85.552-.429.453-.619 1.068-.559 1.644.051.492.286.962.662 1.31.253.235.57.41.945.485.388.08.801.051 1.405-.072.321-.065.623-.163.91-.334.283-.169.527-.394.717-.67.19-.275.313-.581.381-.907.07-.336.073-.64.073-.975V8.698c0-.452-.236-.731-.657-.695\"}})])])])])]),_c('p',{staticClass:\"play-full-text\"},[_vm._v(_vm._s(_vm.PLAY_FULL))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayFullSongButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayFullSongButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayFullSongButton.vue?vue&type=template&id=b3a7733a&scoped=true&\"\nimport script from \"./PlayFullSongButton.vue?vue&type=script&lang=js&\"\nexport * from \"./PlayFullSongButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlayFullSongButton.vue?vue&type=style&index=0&id=b3a7733a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b3a7733a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showIntersitial),expression:\"showIntersitial\"}],attrs:{\"href\":_vm.content.weburl,\"target\":\"content.weburl\"},on:{\"click\":_vm.sendTrackBeacon}},[_c('div',{staticClass:\"match-card\",style:({ backgroundColor: _vm.content.bgColor })},[_c('div',{ref:\"interstitialText\",staticClass:\"intersitial-text-container\"},[_c('div',[_c('div',{staticClass:\"line-clamp\"},[(_vm.content.metadata)?_c('p',{staticClass:\"match-title\"},[_vm._v(\" \"+_vm._s(_vm.content.metadata.title)+\" \")]):_vm._e()]),_c('div',{staticClass:\"line-clamp\"},[(_vm.content.metadata)?_c('p',{staticClass:\"intersitial-match-artists\"},[_vm._v(\" \"+_vm._s(_vm.content.metadata.artist)+\" \")]):_vm._e()])])])])]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCover),expression:\"showCover\"}],attrs:{\"href\":_vm.content.weburl,\"target\":\"content.weburl\"},on:{\"click\":_vm.sendTrackBeacon}},[_c('div',{staticClass:\"match-card\",style:({ backgroundColor: _vm.content.bgColor })},[_c('div',{staticClass:\"cover-and-metadata\"},[_c('cover-art-playback',{ref:\"cover\",attrs:{\"content\":_vm.content,\"size\":\"large\"}}),_c('div',{staticClass:\"text-container\"},[_c('div',{ref:\"matchMainText\"},[_c('div',{staticClass:\"line-clamp\"},[(_vm.content.metadata)?_c('p',{staticClass:\"match-title\"},[_vm._v(\" \"+_vm._s(_vm.content.metadata.title)+\" \")]):_vm._e()]),_c('div',{staticClass:\"line-clamp\"},[(_vm.content.metadata)?_c('p',{staticClass:\"match-artists\"},[_vm._v(\" \"+_vm._s(_vm.content.metadata.artist)+\" \")]):_vm._e()]),_c('div',{staticClass:\"count-icon-container\"},[_c('svg',{attrs:{\"id\":\"icon-shazam_logo\",\"viewBox\":\"0 595.3 400 400\"}},[_c('path',{attrs:{\"d\":\"M200 595.3c-110 0-200 90-200 200s90 200 200 200 200-90 200-200-90-200-200-200zm-32.5 280c-20 0-42.5-7.5-57.5-20-20-17.5-32.5-40-32.5-65-2.5-25 5-47.5 22.5-65 17.5-22.5 50-52.5 52.5-55 10-7.5 22.5-7.5 32.5 0 7.5 10 7.5 22.5 0 32.5l-50 50c-7.5 10-12.5 20-12.5 32.5s7.5 25 17.5 32.5c12.5 12.5 40 15 57.5 0l22.5-22.5c7.5-10 22.5-10 32.5-2.5s10 22.5 2.5 32.5l-25 25c-20 17.5-42.5 25-62.5 25zm135-2.5c-17.5 22.5-52.5 52.5-52.5 55-5 5-10 5-15 5s-12.5-2.5-17.5-7.5c-7.5-10-7.5-22.5 0-32.5l50-50c7.5-10 12.5-20 12.5-32.5s-7.5-25-17.5-32.5c-12.5-12.5-40-15-57.5 0l-22.5 22.5c-7.5 10-22.5 10-32.5 2.5-7.5-10-7.5-25 0-32.5l25-25c32.5-27.5 85-30 117.5 0 20 17.5 32.5 40 32.5 65 2.5 22.5-5 45-22.5 62.5z\"}})]),(_vm.content.tagCount)?_c('p',{staticClass:\"shazam-count\"},[_vm._v(\" \"+_vm._s(_vm.content.tagCount.toLocaleString())+\" \"+_vm._s(_vm.SHAZAMS)+\" \")]):_vm._e()])])])],1),_c('div',{ref:\"amButtonTagCount\",staticClass:\"count-and-button\"},[(_vm.isAMConnected)?_c('div',{staticClass:\"am-button-container\",on:{\"click\":_vm.handleAMTrackBeacon}},[(_vm.content.metadata)?_c('apple-music-button',{staticClass:\"am-button\",attrs:{\"amurl\":_vm.content.metadata.openin,\"inverseColors\":\"true\",\"openIn\":\"true\",\"trackId\":_vm.content.trackkey}}):_vm._e()],1):_c('div',{staticClass:\"button-and-offer\"},[_c('p',{staticClass:\"am-offer-text\"},[_vm._v(\" \"+_vm._s(_vm.AM_OFFER)+\" \")]),_c('div',{on:{\"click\":_vm.handleAMTrackBeacon}},[(_vm.content.metadata)?_c('play-full-song-button',{staticClass:\"am-button\",attrs:{\"amurl\":_vm.content.metadata.openin,\"trackId\":_vm.content.trackId}}):_vm._e()],1)])]),_c('div',[_c('button',{staticClass:\"back-button\",on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.DONE))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MatchCard.vue?vue&type=template&id=6be3266c&scoped=true&\"\nimport script from \"./MatchCard.vue?vue&type=script&lang=js&\"\nexport * from \"./MatchCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MatchCard.vue?vue&type=style&index=0&id=6be3266c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6be3266c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryTrack.vue?vue&type=style&index=0&id=2f3e2f15&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatchCard.vue?vue&type=style&index=0&id=6be3266c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"coverContainer\",staticClass:\"cover-container\"},[_c('img',{ref:\"coverImage\",attrs:{\"src\":_vm.content.metadata.coverart}}),(_vm.content.playbackURL && _vm.size != 'large')?_c('div',{ref:\"playPause\",staticClass:\"play-pause-container\",on:{\"click\":_vm.playAudio}},[(!_vm.localIsPlaying)?_c('svg',{staticClass:\"play-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 18 18\"}},[_c('path',{attrs:{\"d\":\"M16.558 6.769c1.972 1.232 1.974 3.228 0 4.462L6.57 17.474C4.598 18.706 3 17.824 3 15.488V2.512C3 .182 4.596-.708 6.57.526l9.988 6.243z\"}})]):_c('svg',{staticClass:\"pause-icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 16 20\"}},[_c('g',[_c('rect',{attrs:{\"width\":\"5.333\",\"height\":\"20\",\"rx\":\"2.667\"}}),_c('rect',{attrs:{\"width\":\"5.333\",\"height\":\"20\",\"x\":\"10.286\",\"rx\":\"2.667\"}})])])]):_vm._e(),_c('div',{ref:\"progressCircleContainer\",staticClass:\"progress-circle\"},[_c('svg',{ref:\"svg\",attrs:{\"height\":\"50\",\"width\":\"50\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 50 50\"}},[_c('circle',{ref:\"progressCircle\",staticClass:\"progress\",attrs:{\"cx\":\"22\",\"cy\":\"22\",\"r\":\"21\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"cover-container\" ref=\"coverContainer\">\n        <img v-bind:src=\"content.metadata.coverart\" ref=\"coverImage\" />\n        <div class=\"play-pause-container\" @click=\"playAudio\" ref=\"playPause\" v-if=\"content.playbackURL && size != 'large'\">\n            <svg class=\"play-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\" v-if=\"!localIsPlaying\">\n                <path\n                    d=\"M16.558 6.769c1.972 1.232 1.974 3.228 0 4.462L6.57 17.474C4.598 18.706 3 17.824 3 15.488V2.512C3 .182 4.596-.708 6.57.526l9.988 6.243z\"\n                />\n            </svg>\n\n            <svg class=\"pause-icon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 20\" v-else>\n                <g>\n                    <rect width=\"5.333\" height=\"20\" rx=\"2.667\" />\n                    <rect width=\"5.333\" height=\"20\" x=\"10.286\" rx=\"2.667\" />\n                </g>\n            </svg>\n        </div>\n        <div class=\"progress-circle\" ref=\"progressCircleContainer\">\n            <svg height=\"50\" width=\"50\" ref=\"svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\">\n                <circle class=\"progress\" cx=\"22\" cy=\"22\" r=\"21\" ref=\"progressCircle\" />\n            </svg>\n        </div>\n    </div>\n</template>\n\n<script>\nimport {\n    setQueueAndPlay,\n    pause,\n    stop,\n    getPlaybackStatus,\n    getCurrentPlaying,\n    getMK,\n    getCurrentTrackInfo,\n} from '../features/musickit';\nimport Upsell from '../features/upsell';\nimport Beacon from './Beacon.vue';\nexport default {\n    name: 'CoverArtPlayback',\n    props: {\n        content: Object,\n        size: String,\n    },\n    data() {\n        return {\n            audioNode: '',\n            localIsPlaying: false,\n            musicKit: null,\n            isAMConnected: false,\n            mkListenerAdded: false,\n            audioNodeListenerAdded: false,\n            currentlyPlaying: null,\n        };\n    },\n    mounted() {\n        const _this = this;\n\n        this.setupUpsell();\n        this.determineInitialState();\n\n        this.$root.$on('audio_controller_stop', (playing_trackId) => {\n            if (playing_trackId === this.content.trackId) {\n                if (this.isAMConnected) {\n                    stop();\n                } else {\n                    // console.log('audio content stop...');\n                    _this.audioNode.pause();\n                    _this.audioNode.currentTime = 0;\n                }\n                _this.localIsPlaying = false;\n                _this.handleProgressIndicator('ended', null);\n            }\n        });\n\n        this.$root.$on('audio_playing', (playing_trackId) => {\n            // remove the playing indicator from all other tracks\n            // console.log('got audio_playing...', playing_trackId, this.content.trackId);\n\n            // clear the progress indicators\n            if (playing_trackId !== this.content.trackId) {\n                this.$refs.progressCircle.classList.remove('progress-animate');\n            }\n        });\n\n        this.$root.$on('audio_paused', (playing_trackId) => {\n            // debugger;\n            if (this.isAMConnected) {\n                // full length playback uses adamIDs\n                if (playing_trackId !== this.content.trackId) {\n                    this.localIsPlaying = false;\n                    this.handleProgressIndicator('ended', null);\n                }\n            } else {\n                // while preview refers to trackIDs\n                if (playing_trackId !== this.content.trackId) {\n                    this.localIsPlaying = false;\n                    this.removeProgressIndicator('ended');\n                } else {\n                    this.removeProgressIndicator('paused');\n                }\n            }\n        });\n\n        // mount the audio element\n        _this.$nextTick(() => {\n            const audio = new Audio(_this.content.playbackURL);\n            _this.audioNode = audio;\n\n            if (_this.size === 'large') {\n                this.$refs.coverImage.classList.add('large-cover');\n                // Note: We removed playback from the match screen, can add back if\n                // ability is re-introduced ~ JP\n                // this.$refs.playPause.classList.add('large-cover-play-pause');\n            }\n        });\n    },\n    methods: {\n        playAudio: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            // console.log('am conncted?', this.isAMConnected);\n\n            // only fire the beacon when going from pause to play\n            if (!this.localIsPlaying) {\n                const playerplayBeacon = {\n                beaconType: 'userevent',\n                type: 'playerplay',\n                section: (this.size === 'large') ? 'main' : 'history',\n                trackkey: this.content.trackId,\n                };\n                this.sendBeacon(playerplayBeacon);\n            }\n\n            // display the loading spinner\n            if (this.content.adamId != this.currentlyPlaying) {\n                const { progressCircleContainer, progressCircle } = this.$refs;\n                progressCircle.classList.add('progress-dash-loading');\n                progressCircle.classList.remove('progress-dash-removed');\n                progressCircleContainer.classList.add('progress-circle-loading');\n            }\n\n            if (!this.isAMConnected) {\n                const audioDuration = this.audioNode.duration;\n                const durationString = `${Math.round(audioDuration * 1.855 * 1000)}ms`;\n\n                // const progressCircle = this.$refs.progressCircle;\n                const { progressCircleContainer, progressCircle } = this.$refs;\n\n                if (!this.audioNodeListenerAdded) {\n                    this.audioNode.addEventListener('play', () => {\n                        progressCircle.classList.remove('progress-dash-loading');\n                        progressCircleContainer.classList.remove('progress-circle-loading');\n                    });\n\n                    this.audioNode.addEventListener('ended', () => {\n                        progressCircle.classList.remove('progress-animate');\n\n                        // reset the playback time and change from pause to play button\n                        this.localIsPlaying = false;\n                        this.audioNode.currentTime = 0;\n                        this.$root.$emit('audio_finished');\n                    });\n                }\n                // debugger;\n\n                if (this.audioNode.paused) {\n                    this.audioNode.addEventListener('loadstart', () => {\n                        // console.log('loading started...');\n                    });\n\n                    this.audioNode.play();\n                    progressCircle.style.animationDuration = durationString;\n\n                    // means it has been started but is paused\n                    if (progressCircle.classList.contains('progress-animate')) {\n                        progressCircle.style.animationPlayState = 'running';\n                    } else {\n                        progressCircle.classList.add('progress-animate');\n                    }\n\n                    // console.log(progressCircle.getAttribute('r'));\n\n                    this.$root.$emit('audio_playing', this.content.trackId, this.isAMConnected);\n                } else {\n                    this.audioNode.pause();\n\n                    progressCircle.style.animationPlayState = 'paused';\n                    this.$root.$emit('audio_paused', this.content.trackId);\n                }\n            } else {\n                // message listening from MusicKit\n                const _this = this;\n                this.musicKit = getMK();\n\n                if (!this.mkListenerAdded) {\n                    this.musicKit.addEventListener('playbackStateDidChange', (state) => {\n                        _this.handleMKStateChanges(state);\n                    });\n                    this.mkListenerAdded = true;\n                }\n\n                const currentPlaying = getCurrentPlaying();\n                const status = getPlaybackStatus();\n\n                debugger\n\n                if (currentPlaying === this.content.adamId) {\n                    // console.log('pbstatus: ', status);\n                    if (status === 0 || status === 3) {\n                        setQueueAndPlay(this.content.adamId);\n                    } else {\n                        pause();\n                    }\n                } else {\n                    setQueueAndPlay(this.content.adamId);\n\n                    if (currentPlaying) {\n                        this.$root.$emit('audio_paused', this.content.trackId);\n                    }\n\n                    this.$root.$emit('audio_playing', this.content.trackId, true);\n                    // this.localIsPlaying = !this.localIsPlaying;\n                }\n            }\n\n            this.localIsPlaying = !this.localIsPlaying;\n        },\n        removeProgressIndicator: function (state) {\n            const { progressCircleContainer, progressCircle } = this.$refs;\n            if (state === 'ended') {\n                progressCircle.classList.add('progress-dash-removed');\n                progressCircle.classList.remove('progress-animate');\n                this.localIsPlaying = false;\n            } else if (state === 'paused') {\n                progressCircle.style.animationPlayState = 'paused';\n                progressCircle.classList.remove('progress-dash-loading');\n                progressCircleContainer.classList.remove('progress-circle-loading');\n            }\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        setupUpsell: function () {\n            this.upsell = new Upsell({\n                client: 'browserextension',\n                platform: Beacon.platform,\n                sendBeacon: this.sendBeacon.bind(this),\n            });\n        },\n        determineInitialState: function () {\n            //chrome.storage.local.get('amconnect', (result) => {\n            this.upsell.getActivationState((state) => {\n                const amToken = state && state.access_token;\n                this.isAMConnected = amToken ? true : false;\n            });\n        },\n        handleProgressIndicator: function (action, duration) {\n            // const progressCircle = this.$refs.progressCircle;\n            // const progressCircleContainer = this.$refs.progressCircleContainer;\n            const { progressCircleContainer, progressCircle } = this.$refs;\n            if (action === 'start') {\n                if (this.currentlyPlaying === this.content.adamId) {\n                    const durationString = `${Math.round(duration * 1.854)}ms`;\n                    progressCircle.style.animationDuration = durationString;\n                    progressCircle.classList.remove('progress-dash-removed');\n                    progressCircle.classList.add('progress-animate');\n                }\n            } else if (action === 'pause') {\n                progressCircle.style.animationPlayState = 'paused';\n                progressCircle.classList.remove('progress-dash-loading');\n                progressCircleContainer.classList.remove('progress-circle-loading');\n            } else if (action === 'ended') {\n                progressCircle.classList.add('progress-dash-removed');\n                progressCircle.classList.remove('progress-animate');\n                this.localIsPlaying = false;\n            } else if (action === 'resume') {\n                progressCircle.style.animationPlayState = 'running';\n            }\n        },\n        handleMKStateChanges: function (state) {\n            // Playback states\n            // 0: \"none\",\n            // 1: \"loading\",\n            // 2: \"playing\",\n            // 3: \"paused\",\n            // 4: \"stopped\",\n            // 5: \"ended\",\n            // 6: \"seeking\",\n            // 8: \"waiting\",\n            // 9: \"stalled\",\n            // 10: \"completed\"\n\n            // console.log(this.content.metadata.title);\n            // console.log(state);\n            // console.log('+++++++++++++++++++++++++');\n            const from = state.oldState;\n            const to = state.state;\n\n            const { progressCircleContainer, progressCircle } = this.$refs;\n\n            // if ((from === 0 && to === 1) || from === 1 || to === 8) {\n            //     progressCircle.classList.add('progress-dash-loading');\n            //     progressCircleContainer.classList.add('progress-circle-loading');\n            // }\n\n            if (from === 1 && to === 8) {\n                // loading to waiting\n                // debugger;\n                // progressCircle.classList.add('progress-dash-loading');\n                // progressCircleContainer.classList.add('progress-circle-loading');\n                this.currentlyPlaying = getCurrentPlaying();\n            } else if (from === 8 && to === 2) {\n                // waiting to playing\n                progressCircle.classList.remove('progress-dash-loading');\n                progressCircleContainer.classList.remove('progress-circle-loading');\n\n                const info = getCurrentTrackInfo();\n                this.handleProgressIndicator('start', info.playbackDuration);\n            } else if (from === 5 && to === 10) {\n                this.handleProgressIndicator('ended', null);\n            } else if (from === 2 && to === 3) {\n                // playing to paused\n                this.handleProgressIndicator('pause', null);\n            } else if (from === 3 && to === 2) {\n                // paused to playing\n                this.handleProgressIndicator('resume', null);\n            } else if (from === 8 && to === 8) {\n                progressCircle.classList.add('progress-dash-loading');\n                progressCircleContainer.classList.add('progress-circle-loading');\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\nimg {\n    width: 70px;\n    height: 70px;\n    padding: 10px;\n    border-radius: 15px;\n}\n.cover-container {\n    position: relative;\n}\n.play-pause-container {\n    position: absolute;\n    top: 25px;\n    left: 25px;\n    height: 40px;\n    width: 40px;\n    background-color: rgba(0, 0, 0, 0.7);\n    border-radius: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 2;\n    cursor: pointer;\n}\n.progress-circle {\n    position: absolute;\n    top: 23px;\n    left: 23px;\n    height: 44px;\n    width: 44px;\n    transform: rotate(-90deg);\n}\n.progress {\n    fill: transparent;\n    stroke: white;\n    stroke-width: 3;\n    stroke-dasharray: 151px;\n    stroke-dashoffset: 151px;\n    stroke-linecap: round;\n}\n.progress-animate {\n    animation: playIndicator;\n}\n.progress-dash-loading {\n    stroke-dasharray: 151px;\n    stroke-dashoffset: 121px;\n}\n.progress-circle-loading {\n    animation: 1s loadingIndicator infinite;\n}\n.progress-dash-removed {\n    animation-duration: 0ms;\n    stroke-dashoffset: 151px;\n}\n.play-icon,\n.pause-icon {\n    fill: white;\n    width: 14px;\n    height: 14px;\n}\n.large-cover {\n    width: 120px;\n    height: 120px;\n    border-radius: 6px;\n    margin: 0px 15px;\n    padding: 0px;\n}\n.large-cover-play-pause {\n    top: 40px;\n    left: 55px;\n}\n/* transitions */\n.library-enter {\n    opacity: 0;\n}\n\n.library-enter-active {\n    transition: all 0.5s ease-out;\n}\n\n/* animations */\n@keyframes playIndicator {\n    100% {\n        stroke-dashoffset: 0px;\n        /* stroke: white; */\n    }\n}\n@keyframes loadingIndicator {\n    0% {\n        transform: rotate(-90deg);\n    }\n    100% {\n        transform: rotate(270deg);\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoverArtPlayback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CoverArtPlayback.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CoverArtPlayback.vue?vue&type=template&id=32140e14&scoped=true&\"\nimport script from \"./CoverArtPlayback.vue?vue&type=script&lang=js&\"\nexport * from \"./CoverArtPlayback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CoverArtPlayback.vue?vue&type=style&index=0&id=32140e14&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32140e14\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <transition appear name=\"library\">\n        <a v-bind:href=\"content.weburl\" target=\"content.weburl\" @click=\"sendTrackBeacon\">\n            <div class=\"library-card\" @mouseenter=\"handleHoverIn()\" @mouseleave=\"handleHoverOut()\">\n                <cover-art-playback :content=\"content\" size=\"small\" />\n                <div class=\"text-content\">\n                    <p id=\"title\">{{ content.metadata.title }}</p>\n                    <p id=\"artist\">{{ content.metadata.artist }}</p>\n                    <p v-if=\"(amConnected || (!localIsPlaying && !amConnected))\" id=\"date\">\n                        {{ getDateTime(content.matchTime) }}\n                    </p>\n                    <div v-else class=\"marquee-container\">\n                        <p id=\"upsell-text\">{{ UPSELL_TEXT }}</p>\n                    </div>\n                </div>\n\n                <div @click=\"sendAppleMusicBeacon\" class=\"am-button-container\" v-if=\"hover\">\n                    <apple-music-button class=\"am-button\" :amurl=\"content.metadata.openin\" :trackId=\"content.trackId\" />\n                </div>\n                <div class=\"rubbish-container\" @click=\"deleteEntry\" v-if=\"hover\">\n                    <svg id=\"rubbish-bin\" xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"16\" viewBox=\"0 0 14 16\">\n                        <g fill=\"none\" fill-rule=\"evenodd\">\n                            <g fill=\"#000\" fill-rule=\"nonzero\">\n                                <g>\n                                    <g>\n                                        <path\n                                            d=\"M376.394 17c.469 0 .835-.126 1.1-.377.265-.251.407-.613.427-1.085l.454-10.464h1.028c.166 0 .307-.057.423-.171.116-.114.174-.258.174-.43 0-.163-.058-.301-.174-.415-.116-.115-.257-.172-.423-.172h-3.138V2.797c0-.558-.17-.997-.51-1.317-.34-.32-.81-.48-1.41-.48h-2.713c-.595 0-1.062.16-1.403.48-.34.32-.51.759-.51 1.317v1.09h-3.13c-.16 0-.3.056-.415.17-.116.115-.174.253-.174.416 0 .172.058.316.174.43.116.114.254.171.416.171h1.035l.454 10.464c.02.472.164.834.43 1.085.268.251.633.377 1.097.377h6.788zm-1.52-13.114h-3.756v-1.02c0-.173.054-.31.162-.411.109-.102.256-.153.442-.153h2.54c.187 0 .336.051.446.153.111.101.167.238.167.41l-.001 1.021zm-4.157 10.966c-.136 0-.248-.04-.336-.121-.089-.082-.135-.193-.14-.335l-.204-7.738c-.005-.137.035-.247.12-.331.086-.084.202-.126.348-.126.131 0 .241.04.33.122.087.081.134.193.14.335l.21 7.738c.006.137-.035.247-.12.33-.086.085-.202.126-.348.126zm2.283 0c-.146 0-.263-.041-.352-.125-.088-.084-.132-.192-.132-.324V6.658c0-.137.044-.247.132-.331.089-.084.206-.126.352-.126.141 0 .257.042.348.126.09.084.136.194.136.331v7.745c0 .132-.046.24-.136.324-.091.084-.207.125-.348.125zm2.275 0c-.146 0-.262-.041-.347-.125-.086-.084-.129-.194-.129-.331l.22-7.738c.004-.142.051-.254.14-.335.087-.081.2-.122.336-.122.146 0 .262.042.347.126.086.084.126.194.121.331l-.219 7.745c0 .137-.044.246-.132.328-.088.08-.2.121-.337.121z\"\n                                            transform=\"translate(-404.000000, -196.000000) translate(18.000000, 30.000000) translate(20.000000, 165.000000)\"\n                                        />\n                                    </g>\n                                </g>\n                            </g>\n                        </g>\n                    </svg>\n                </div>\n                <div class=\"new-container\" v-else>\n                    <div v-if=\"!dismissedNew && isNew\">\n                        <p class=\"new-text\">NEW</p>\n                    </div>\n                </div>\n            </div>\n        </a>\n    </transition>\n</template>\n\n<script>\nimport AppleMusicButton from './buttons/AppleMusicButton.vue';\nimport CoverArtPlayback from './CoverArtPlayback.vue';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport { cs, de, el, enGB, enUS, es, fr, hi, id, it, ja, ko, nl, pl, pt, ru, tr, zhCN, zhTW } from 'date-fns/locale';\nexport default {\n    name: 'LibraryTrack',\n    components: { AppleMusicButton, CoverArtPlayback },\n    props: {\n        content: Object,\n        isNew: String,\n        amConnectionStatus: Boolean\n    },\n    mounted() {\n        this.fetchStrings();\n\n        this.$root.$on('audio_playing', (trackId, amConnected) => {\n            this.amConnected = amConnected;\n            if (trackId === this.content.trackId) {\n                this.localIsPlaying = true;\n            } else {\n                this.localIsPlaying = false;\n            }\n        });\n\n        this.$root.$on('audio_paused', (trackId) => {\n            if (trackId === this.content.trackId) this.localIsPlaying = false;\n        });\n    },\n    data() {\n        return {\n            hover: false,\n            dismissedNew: false,\n            locale: 'en',\n            localIsPlaying: false,\n            amConnected: false,\n            UPSELL_TEXT: '',\n            NEW: '',\n            blockTrackBeacon: false\n        };\n    },\n    computed: {\n        defaultText() {\n            return browser.i18n.getMessage('extName');\n        },\n    },\n    methods: {\n        getDateTime: function (time) {\n            // if under 1hr return number of minutes\n            // if under 24hrs return number of hours\n            // otherwise return the date the match occured\n            let dateString;\n            const languageDictionary = {\n                cs,\n                de,\n                el,\n                en: enGB,\n                'en-US': enUS,\n                'en-GB': enGB,\n                es,\n                fr,\n                hi,\n                id,\n                it,\n                ja,\n                ko,\n                nl,\n                pl,\n                pt,\n                ru,\n                tr,\n                zh: zhCN,\n                'zh-CN': zhCN,\n                'zh-TW': zhTW,\n            };\n\n            const _this = this;\n\n            // neat little trick here to pull the lang from the system based on the\n            // translated strings we have in _locales\n            const translatedString = browser.i18n.getMessage('nomatch_no_audio');\n            chrome.i18n.detectLanguage(translatedString, function(result) {\n                if (result.isReliable && result.languages[0].percentage > 75) {\n                    _this.locale = result.languages[0].language;\n                }\n            });\n\n            const locale = languageDictionary[this.locale];\n            const elapsedMS = Date.now() - new Date(time);\n\n            const cutoff24hrs = 24 * 60 * 60 * 1000;\n\n            if (elapsedMS <= cutoff24hrs) {\n                dateString = formatDistanceToNow(new Date(time), {\n                    addSuffix: true,\n                    locale,\n                });\n            } else {\n                dateString = format(new Date(time), 'PP  p', { locale });\n            }\n\n            return dateString;\n        },\n        deleteEntry: function (e) {\n            e.preventDefault();\n            const _this = this;\n            const trackid = this.$props.content.trackId;\n            chrome.storage.local.get('shazam_matches', function (result) {\n                let currMatchArray = result['shazam_matches'];\n                const deleteTarget = currMatchArray.findIndex((item) => item.trackId === trackid);\n                currMatchArray.splice(deleteTarget, 1);\n                chrome.storage.local.set({ shazam_matches: currMatchArray });\n\n                _this.$parent.$emit('track_deleted', deleteTarget);\n            });\n        },\n        sendTrackBeacon: function () {\n            // potentially add providername: 'www.shazam.com'\n            const historyTrackResultUserevent = {\n                beaconType: 'userevent',\n                type: 'nav',\n                providerdesc: 'track-click',\n                section: 'history',\n                trackkey: this.content.trackId,\n            };\n\n            if (!this.blockTrackBeacon) {\n                this.sendBeacon(historyTrackResultUserevent);\n            } else {\n                this.blockTrackBeacon = false;\n            }\n        },\n        sendAppleMusicBeacon: function (e) {\n            e.preventDefault();\n            this.blockTrackBeacon = true;\n\n            const goToWebFlowUserevent = {\n                beaconType: 'userevent',\n                type: 'open',\n                screenname: 'amattribution',\n                providername: 'applemusic',\n                providerdesc: 'gotowebflow',\n                section: 'amattribution',\n                trackkey: this.content.trackId\n            }\n\n            // only need to send this webflow promo beacon while we have the\n            // 5 month promo redirect occuring\n            if (!this.amConnectionStatus) {\n                this.sendBeacon(goToWebFlowUserevent);\n            }\n        },\n        handleHoverIn: function () {\n            this.hover = true;\n            if (!this.dismissedNew) {\n                this.dismissedNew = true;\n                this.$root.$emit('update_new_matches', this.content.trackId);\n            }\n        },\n        handleHoverOut: function () {\n            this.hover = false;\n        },\n        fetchStrings: function () {\n            this.UPSELL_TEXT = browser.i18n.getMessage('am_banner');\n            this.NEW = browser.i18n.getMessage('library_new');\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n    },\n};\n</script>\n\n<style scoped>\n.library-card {\n    display: flex;\n    margin: 0px 10px;\n    height: 100px;\n    border-bottom: 1px solid #e4e4e4;\n}\n.library-card:hover {\n    background-color: aliceblue;\n}\nimg {\n    width: 70px;\n    height: 70px;\n    padding: 10px;\n    border-radius: 15px;\n}\n.text-content {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n    margin: 0px 0px 10px 5px;\n}\n#icon-cross {\n    height: 15px;\n    width: 15px;\n    justify-self: flex-end;\n    align-self: flex-start;\n    margin: 10px 10px 10px 0px;\n    cursor: pointer;\n}\n.play-button {\n    width: fit-content;\n}\n.cover-container {\n    position: relative;\n}\n.play-pause-container {\n    position: absolute;\n    top: 25px;\n    left: 25px;\n    height: 40px;\n    width: 40px;\n    background-color: rgba(0, 0, 0, 0.7);\n    border-radius: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.play-icon,\n.pause-icon {\n    fill: white;\n    width: 14px;\n    height: 14px;\n}\n.am-button {\n    align-self: center;\n}\n.am-button-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.rubbish-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0px 10px 0px 5px;\n    cursor: pointer;\n}\n.new-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 0px 10px 0px 5px;\n    cursor: pointer;\n}\n.new-text {\n    font-size: 12px;\n    color: #08f;\n    font-weight: bold;\n}\np {\n    font-size: 20px;\n    margin: 0px;\n}\na {\n    text-decoration: none;\n    color: black;\n}\n#title,\n#artist,\n#date,\n#upsell-text {\n    width: 200px;\n    font-size: 16px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n#title {\n    font-weight: bold;\n    margin-bottom: 5px;\n}\n#artist {\n    margin-bottom: 10px;\n}\n#date {\n    font-size: 12px;\n    color: #646464;\n}\n\n#upsell-text {\n    animation: marqueeAnim 6s 2s linear infinite alternate;\n    font-size: 12px;\n    overflow: visible;\n    font-weight: 500;\n    color: #646464;\n}\n\n.marquee-container {\n    overflow: hidden;\n    width: 180px;\n}\n/* transitions */\n.library-enter {\n    opacity: 0;\n}\n\n.library-enter-active {\n    transition: all 0.5s ease-out;\n}\n\n@keyframes marqueeAnim {\n    0% {\n        transform: translateX(1%);\n    }\n    100% {\n        transform: translateX(-70%);\n    }\n}\n</style>\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShazamButton.vue?vue&type=style&index=0&id=1ffded09&scoped=true&lang=css&\"","// playing a track with musickit\n\n// 1. Fetch the user/musickit token from local storage\n// hit shazam.com/services/partner/oauth/commerce/validate to get jwt token\n\n// 1b. initialize musickit\n// music = MusicKit.configure({})\n// MusicKit.configure({\n//     developerToken: token,\n//     app: {\n//         name: 'Shazam.com',\n//         build: shz.version,\n//     },\n// });\n\n// _musickit = MusicKit.getInstance();\n// _musickit.musicUserToken = fetchedToken\n\n// 2. Add item to playback queue (based on the id)\n// music.setQueue({ song: _______ });\n\n// 3. Call play on the created musickit object\n// music.play();\n\n// check for access token before going down musickit path\n\n/*global MusicKit*/\nlet mk;\nlet currentTrack = null;\nlet currTrackInfo = null;\n\nasync function setupMusicKit() {\n    const tokenURL = 'https://www.shazam.com/services/partner/oauth/commerce/validate';\n    const musickitTokenFetch = await fetch(tokenURL);\n    const musickitDevToken = await musickitTokenFetch.headers.get('x-shz-validation');\n\n    MusicKit.configure({\n        developerToken: musickitDevToken,\n        app: {\n            name: 'Shazam.com',\n            build: '0.0.1',\n        },\n    });\n\n    mk = MusicKit.getInstance();\n\n    chrome.storage.sync.get('amconnect', (result) => {\n        if ('amconnect' in result) {\n            const accessToken = result.amconnect['access_token'];\n            mk.musicUserToken = accessToken;\n        }\n    });\n}\n\nfunction setQueueAndPlay(trackid) {\n    // console.log('incoming', trackid);\n    // console.log('current', currentTrack);\n\n    mk.authorize()\n        .then(() => {\n            // we are changing tracks\n            // could be from null to playing\n            // or from trackId to another trackId\n            if (trackid !== currentTrack) {\n                mk.setQueue({ song: trackid }).then(() => {\n                    currentTrack = trackid;\n                    mk.player.play();\n\n                    // return info on playback duration to setup indicator\n                    const itemInfo = mk.player.queue.items[0];\n                    currTrackInfo = itemInfo;\n                });\n            } else if (mk.player.playbackState === 3 && trackid === currentTrack) {\n                mk.player.play();\n            }\n        })\n        .catch((err) => {\n            console.error(err);\n        });\n}\n\nfunction pause() {\n    mk.player.pause();\n}\n\nfunction stop() {\n    mk.player.stop();\n    currentTrack = null;\n}\n\nfunction getPlaybackStatus() {\n    return mk.player.playbackState;\n}\n\nfunction getCurrentPlaying() {\n    return currentTrack;\n}\n\nfunction getMK() {\n    return mk;\n}\n\nfunction getCurrentTrackInfo() {\n    return currTrackInfo;\n}\n\nexport { setupMusicKit, setQueueAndPlay, pause, stop, getPlaybackStatus, getCurrentPlaying, getMK, getCurrentTrackInfo };\n","<template>\n    <div>\n        <div class=\"main-container\" ref=\"main\">\n            <div class=\"shz-button-container\" ref=\"buttonContainer\">\n                <svg @click=\"beginRecording(true)\" id=\"logo-svg\" viewBox=\"0 0 155.8 155.8\" ref=\"logoSVG\">\n                    <g>\n                        <path\n                            fill-opacity=\".3\"\n                            d=\"M77.9 15.6c-34.4 0-62.3 27.9-62.3 62.3s27.9 62.3 62.3 62.3 62.3-27.9 62.3-62.3-27.9-62.3-62.3-62.3z\"\n                        />\n                        <path\n                            d=\"M66.9 102.4c-6.6 0-13.3-2.2-18.4-6.6C42.3 90.3 38.6 83 38.1 75c-.5-7.7 2.2-15.2 7.4-21 5.9-6.5 16.5-16.6 16.9-17.1 2.9-2.7 7.4-2.6 10.1.2 2.7 2.9 2.6 7.4-.2 10.2-.1.1-10.6 10.2-16.2 16.3-2.6 2.9-3.9 6.6-3.7 10.5.3 4.1 2.2 7.9 5.5 10.8 4.4 3.8 13 4.6 18.3-.2 3.2-2.9 7.1-7.1 7.1-7.1 2.7-2.9 7.2-3.1 10.1-.4 2.9 2.7 3.1 7.2.4 10.2-.2.2-4.4 4.8-8.1 8.1-5 4.5-11.9 6.9-18.8 6.9z\"\n                        />\n                        <path\n                            d=\"M110.3 101.8c-5.9 6.5-16.5 16.6-16.9 17.1-1.4 1.3-3.2 2-5 2-1.9 0-3.8-.7-5.2-2.2-2.7-2.9-2.6-7.4.2-10.2.1-.1 10.6-10.2 16.2-16.3 2.6-2.9 3.9-6.6 3.7-10.5-.2-4.1-2.2-7.9-5.5-10.8-4.4-3.8-13-4.6-18.3.2-3.2 2.9-7.1 7.1-7.1 7.1-2.7 2.9-7.2 3.1-10.1.4-2.9-2.7-3.1-7.2-.4-10.2.2-.2 4.4-4.8 8.1-8.1 10.2-9.2 26.9-9.4 37.3-.4 6.3 5.4 10 12.8 10.5 20.8.4 7.9-2.2 15.3-7.5 21.1z\"\n                        />\n                    </g>\n                </svg>\n            </div>\n            <div v-if=\"listeningActive\" class=\"listening-circle\" id=\"c1\"></div>\n            <div v-if=\"listeningActive\" class=\"listening-circle\" id=\"c2\"></div>\n            <div v-if=\"listeningActive\" class=\"listening-circle\" id=\"c3\"></div>\n            <div v-if=\"listeningActive\" class=\"listening-circle\" id=\"c4\"></div>\n            <div class=\"text-container\" ref=\"textContainer\">\n                <transition mode=\"out-in\" name=\"mainText-appear\">\n                    <h2 class=\"click-text\" :key=\"MAIN_TEXT\">{{ MAIN_TEXT }}</h2>\n                </transition>\n                <transition mode=\"out-in\" name=\"subText-appear\">\n                    <p class=\"click-subtext\" :key=\"SUBTEXT\">{{ SUBTEXT }}</p>\n                </transition>\n            </div>\n        </div>\n        <p v-if=\"listeningActive\" class=\"cancel-text\" @click=\"cancelListening\">\n            {{ CANCEL }}\n        </p>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'ShazamButton',\n    mounted() {\n        this.fetchStrings();\n        this.$root.$on('listening_cancelled', () => {\n            this.adjustFromListeningCard();\n        });\n\n        this.$nextTick(() => {\n            this.$root.$on('retry_capture', () => {\n                const _this = this;\n                _this.stringIndex = 0;\n                clearInterval(_this.textRotationInterval);\n                _this.beginRecording(false);\n            });\n        });\n\n        this.MAIN_TEXT = this.CLICK_TO;\n        this.SUBTEXT = this.IDENTIFY_MUSIC;\n\n        // start AUTOMATICALLY\n        this.beginRecording(true);\n    },\n    methods: {\n        beginRecording: function (mainClick) {\n            const _this = this;\n            this.stringIndex = 0;\n            this.MAIN_TEXT = this.LISTENING_MAIN_STRINGS[this.stringIndex];\n            this.SUBTEXT = this.LISTENING_SUB_STRINGS[this.stringIndex];\n            this.listeningActive = true;\n            this.initialTime = Date.now();\n            browser.runtime.sendMessage({ type: 'startRecording' });\n\n            const listeningScreenPageview = {\n                beaconType: 'pageview',\n                screenname: 'tagging',\n            };\n\n            const shazamButtonUserevent = {\n                beaconType: 'userevent',\n                type: 'taggingstarted',\n                screenname: 'home',\n            };\n\n            if (mainClick) this.sendBeacon(shazamButtonUserevent);\n            this.sendBeacon(listeningScreenPageview);\n\n            this.adjustToListeningCard();\n\n            // emit event to change popup contents\n            this.$parent.$emit('recording_active');\n            this.$root.$emit('audio_playing', null);\n\n            _this.textRotationInterval = setInterval(() => {\n                _this.stringIndex++;\n\n                this.MAIN_TEXT = _this.LISTENING_MAIN_STRINGS[_this.stringIndex];\n                _this.SUBTEXT = _this.LISTENING_SUB_STRINGS[_this.stringIndex];\n\n                if (_this.stringIndex === 3) {\n                    clearInterval(_this.textRotationInterval);\n                }\n            }, 3000);\n            //\n        },\n        setActiveListeningText: function () {\n            this.listeningActive = true;\n            this.adjustToListeningCard();\n        },\n        cancelListening: function () {\n            clearInterval(this.textRotationInterval);\n            this.MAIN_TEXT = this.CLICK_TO;\n            this.SUBTEXT = this.IDENTIFY_MUSIC;\n            browser.runtime.sendMessage({ type: 'stopRecording' });\n\n            const cancelButtonUserevent = {\n                beaconType: 'userevent',\n                type: 'taggingended',\n                outcome: 'cancelled',\n                timespent: Date.now() - this.initialTime,\n            };\n            this.sendBeacon(cancelButtonUserevent);\n        },\n        hidePopup: function () {\n            const hideButtonUserevent = {\n                beaconType: 'userevent',\n                type: 'btn',\n                providerdesc: 'hide',\n            };\n            this.sendBeacon(hideButtonUserevent);\n\n            this.$root.$emit('close_popup');\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        adjustToListeningCard: function () {\n            this.$refs.main.classList.add('main-container-active');\n            this.$refs.buttonContainer.classList.add('button-active');\n            this.$refs.textContainer.classList.add('text-container-active');\n        },\n        adjustFromListeningCard: function () {\n            this.$refs.main.classList.remove('main-container-active');\n            this.$refs.buttonContainer.classList.remove('button-active');\n            this.$refs.textContainer.classList.remove('text-container-active');\n\n            this.listeningActive = false;\n            this.MAIN_TEXT = this.CLICK_TO;\n            this.SUBTEXT = this.IDENTIFY_MUSIC;\n            clearInterval(this.textRotationInterval);\n        },\n        fetchStrings: function () {\n            this.LISTENING_MAIN_STRINGS[0] = browser.i18n.getMessage('shazambutton_listening_main1');\n            this.LISTENING_MAIN_STRINGS[1] = browser.i18n.getMessage('shazambutton_listening_main2');\n            this.LISTENING_MAIN_STRINGS[2] = browser.i18n.getMessage('shazambutton_listening_main3');\n            this.LISTENING_MAIN_STRINGS[3] = browser.i18n.getMessage('shazambutton_listening_main4');\n            this.LISTENING_SUB_STRINGS[0] = browser.i18n.getMessage('shazambutton_listening_sub1');\n            this.LISTENING_SUB_STRINGS[1] = browser.i18n.getMessage('shazambutton_listening_sub2');\n            this.LISTENING_SUB_STRINGS[2] = browser.i18n.getMessage('shazambutton_listening_sub3');\n            this.LISTENING_SUB_STRINGS[3] = browser.i18n.getMessage('shazambutton_listening_sub4');\n            this.HIDE = browser.i18n.getMessage('button_hide');\n            this.CANCEL = browser.i18n.getMessage('button_cancel');\n            this.CLICK_TO = browser.i18n.getMessage('shazambutton_click');\n            this.IDENTIFY_MUSIC = browser.i18n.getMessage('shazambutton_subtext');\n        },\n    },\n    data: function () {\n        return {\n            MAIN_TEXT: '',\n            SUBTEXT: '',\n            LISTENING_MAIN_STRINGS: ['', '', '', ''],\n            LISTENING_SUB_STRINGS: ['', '', '', ''],\n            HIDE: '',\n            CANCEL: '',\n            CLICK_TO: '',\n            IDENTIFY_MUSIC: '',\n            stringIndex: 0,\n            listeningActive: false,\n            textRotationInterval: '',\n            initialTime: '',\n        };\n    },\n};\n</script>\n\n<style scoped>\n.main-container {\n    height: 200px;\n    width: 420px;\n    background-image: linear-gradient(to bottom, #0bf, #066aff);\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n}\n.shz-button-container {\n    width: 125px;\n    height: 100%;\n    margin: 0px 20px 0px 30px;\n    display: flex;\n    transition: all 0.5s ease-out;\n}\n.text-container {\n    width: 280px;\n}\n\n/* active listening modifications */\n.button-active {\n    min-width: 125px;\n    transform: scale(0.8) translateY(-15px);\n}\n\n.main-container-active {\n    height: 200px;\n    transition: all 0.2s ease;\n    align-items: flex-start;\n}\n\n.text-container-active {\n    margin-bottom: 50px;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    height: 85%;\n}\n/* ----------------------------- */\n\n#logo-svg {\n    fill: #fff;\n    animation-delay: 2s;\n    animation: breathingButton 3s infinite ease-out;\n    cursor: pointer;\n    height: 100%;\n}\n.click-text {\n    color: white;\n    font-size: 20px;\n    font-weight: bold;\n    margin: 5px 0px;\n}\n.click-subtext {\n    color: white;\n    font-size: 15px;\n    line-height: 20px;\n    opacity: 0.7;\n    margin: 0px;\n}\n.hide-button {\n    position: absolute;\n    bottom: 15px;\n    right: 15px;\n    width: 120px;\n    height: 34px;\n    background-color: rgba(255, 255, 255, 0.2);\n    border: none;\n    border-radius: 5px;\n    color: white;\n    font-weight: bold;\n    cursor: pointer;\n    text-transform: uppercase;\n}\n.cancel-text {\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    font-size: 12px;\n    font-weight: bold;\n    color: white;\n    margin: 0px;\n    cursor: pointer;\n    text-transform: uppercase;\n}\n.listening-circle {\n    position: absolute;\n    top: 87px;\n    left: 93px;\n    transform: translate(-50%, -50%);\n    z-index: 1;\n    height: 100px;\n    width: 100px;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.4);\n    animation: growAndFade 2s infinite cubic-bezier(0.36, 0.11, 0.89, 0.32);\n    opacity: 0;\n}\n\n#c1 {\n    animation-delay: 0s;\n}\n\n#c2 {\n    animation-delay: 0.4s;\n}\n\n#c3 {\n    animation-delay: 0.8s;\n}\n\n#c4 {\n    animation-delay: 1.2s;\n}\n\n/* animations */\n@keyframes breathingButton {\n    0%,\n    100% {\n        transform: scale(1, 1);\n    }\n    50% {\n        transform: scale(1.05, 1.05);\n    }\n}\n\n@keyframes growAndFade {\n    0% {\n        height: 75px;\n        width: 75px;\n    }\n\n    50% {\n        opacity: 0.2;\n    }\n\n    100% {\n        height: 250px;\n        width: 250px;\n        opacity: 0;\n    }\n}\n\n.mainText-appear-enter {\n    transform: translateY(30px);\n    opacity: 0;\n}\n\n.mainText-appear-enter-active {\n    transition: all 0.3s ease-out;\n}\n\n.subText-appear-enter {\n    transform: translateY(30px);\n    opacity: 0;\n}\n\n.subText-appear-enter-active {\n    transition: all 0.3s ease-out;\n    transition-delay: 0.05s;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"library-card\"},[_c('div',{staticClass:\"cover-container\"},[_c('div',{staticClass:\"image-placeholder\"})]),_c('div',{staticClass:\"text-content\"},[_c('div',{staticClass:\"title\"}),_c('div',{staticClass:\"artist\"})]),_c('div',{staticClass:\"button-container\"},[_c('div',{staticClass:\"button\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"library-card\">\n        <div class=\"cover-container\">\n            <div class=\"image-placeholder\" />\n        </div>\n        <div class=\"text-content\">\n            <div class=\"title\" />\n            <div class=\"artist\" />\n        </div>\n        <div class=\"button-container\">\n            <div class=\"button\" />\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'LibraryPlaceholder',\n};\n</script>\n\n<style scoped>\n.library-card {\n    display: flex;\n    margin: 15px;\n    height: 100px;\n}\n.image-placeholder {\n    width: 70px;\n    height: 70px;\n    padding: 10px;\n    border-radius: 15px;\n    background-color: #ededed;\n}\n.text-content {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    width: 100%;\n    height: 90px;\n}\n.button-container {\n    display: flex;\n    width: 120px;\n    justify-content: center;\n    align-items: center;\n}\n.button {\n    width: 70px;\n    height: 20px;\n    border-radius: 6px;\n    background-color: #ededed;\n}\n.title {\n    height: 10px;\n    width: 160px;\n    border-radius: 5px;\n    background-color: #ededed;\n    margin: 5px 15px;\n}\n.artist {\n    height: 10px;\n    width: 120px;\n    border-radius: 5px;\n    background-color: #ededed;\n    margin: 5px 15px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryPlaceholder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryPlaceholder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LibraryPlaceholder.vue?vue&type=template&id=5282fa47&scoped=true&\"\nimport script from \"./LibraryPlaceholder.vue?vue&type=script&lang=js&\"\nexport * from \"./LibraryPlaceholder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LibraryPlaceholder.vue?vue&type=style&index=0&id=5282fa47&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5282fa47\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppleMusicButton.vue?vue&type=style&index=0&id=53d10c42&scoped=true&lang=css&\"","<template>\n    <transition appear name=\"main-fadein\">\n        <div class=\"disconnect-card\" ref=\"card\">\n            <div class=\"text-container\">\n                <h2 class=\"disconnect-headline\">{{ DISCONNECT_MAIN }}</h2>\n                <p class=\"disconnect-subtext\">{{ DISCONNECT_SUB }}</p>\n            </div>\n            <div class=\"button-container\">\n                <button class=\"cancel-button\" @click=\"cancel\">{{ CANCEL }}</button>\n                <button class=\"disconnect-button\" @click=\"confirm\">{{ DISCONNECT }}</button>\n            </div>\n        </div>\n    </transition>\n</template>\n\n<script>\nexport default {\n    name: 'DisconnectCard',\n    data: function () {\n        return {\n            DISCONNECT_MAIN: '',\n            DISCONNECT_SUB: '',\n            DISCONNECT: '',\n            CANCEL: '',\n        };\n    },\n    props: {\n        expanded: Boolean,\n    },\n    mounted() {\n        this.fetchStrings();\n    },\n    methods: {\n        cancel: function () {\n            this.$root.$emit('toggle_disconnect_card', {\n                toggle: false,\n                expandedState: this.expanded,\n            });\n        },\n        confirm: function () {\n            this.$root.$emit('disconnect_apple_music');\n        },\n        fetchStrings: function () {\n            this.DISCONNECT_MAIN = browser.i18n.getMessage('disconnect_main');\n            this.DISCONNECT_SUB = browser.i18n.getMessage('disconnect_sub');\n            this.DISCONNECT = browser.i18n.getMessage('am_button_disconnect');\n            this.CANCEL = browser.i18n.getMessage('button_cancel');\n        },\n    },\n};\n</script>\n\n<style scoped>\n.disconnect-card {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.8);\n    backdrop-filter: blur(10px);\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    z-index: 3;\n}\n.text-container {\n    text-align: center;\n    color: white;\n    margin-bottom: 50px;\n}\n.disconnect-headline {\n    width: 90vw;\n    font-size: 20px;\n    font-weight: bold;\n    margin: 5px 0px;\n}\n.disconnect-subtext {\n    width: 90vw;\n    font-size: 14px;\n    opacity: 0.7;\n    margin: 0px;\n}\n.button-container {\n    position: absolute;\n    bottom: 20px;\n}\nbutton {\n    width: 190px;\n    height: 34px;\n    border-radius: 6px;\n    border: none;\n    margin: 0px 5px;\n    text-transform: uppercase;\n    font-weight: bold;\n    font-size: 14px;\n    cursor: pointer;\n}\n.cancel-button {\n    background-color: #e4e4e4;\n    color: #0088ff;\n}\n.disconnect-button {\n    background-color: #0088ff;\n    color: white;\n}\n/* transitions */\n.main-fadein-enter {\n    opacity: 0;\n}\n\n.main-fadein-enter-active {\n    transition: all .2s ease-out;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"pillBackground\",staticClass:\"connect-pill\",on:{\"click\":_vm.handleClick}},[_c('p',{ref:\"connectText\",staticClass:\"connect-text\"},[_vm._v(_vm._s(_vm.actionText))]),_c('svg',{ref:\"pillText\",staticClass:\"icon-applemusic\",attrs:{\"viewBox\":\"0 0 337.42001 80.64\"}},[_c('g',[_c('path',{attrs:{\"d\":\"M43.8732,12.6988C46.60624,9.28037,48.46086,4.69039,47.97172,0c-4.00079,0.19894-8.88298,2.63946-11.70954,6.06057\\n                c-2.53794,2.92966-4.78422,7.7118-4.19863,12.20557C36.55464,18.65572,41.04158,16.02133,43.8732,12.6988\"}}),_c('path',{attrs:{\"d\":\"M47.92068,19.14357c-6.52215-0.3885-12.06756,3.70163-15.18223,3.70163c-3.11637,0-7.88593-3.50585-13.0446-3.41137\\n                c-6.71433,0.09862-12.94446,3.89497-16.3517,9.93291c-7.00811,12.07887-1.84944,29.99609,4.96557,39.83367\\n                c3.30953,4.86696,7.29806,10.22584,12.55359,10.03336c4.96557-0.19486,6.91187-3.2153,12.94775-3.2153\\n                c6.03144,0,7.78463,3.2153,13.04101,3.1179c5.45099-0.09746,8.85883-4.86939,12.1683-9.74109\\n                c3.79665-5.54809,5.35085-10.90521,5.44862-11.1993c-0.09777-0.0974-10.51105-4.0922-10.6076-16.07069\\n                c-0.09831-10.02977,8.17558-14.80048,8.56499-15.09633C57.75206,20.11855,50.45163,19.33935,47.92068,19.14357\"}})]),_c('g',[_c('path',{attrs:{\"d\":\"M140.85696,78.62715V24.85957h-0.35449l-22.02344,53.76758h-8.4043L88.00052,24.85957h-0.35449v53.76758H77.3179V5.56953\\n                h13.11328l23.64355,58.22363h0.40527l23.59277-58.22363h13.16309v73.05762H140.85696z\"}}),_c('path',{attrs:{\"d\":\"M208.33841,78.62715h-10.47949v-9.01172h-0.25391c-2.93555,6.37891-8.35352,9.97363-16.50488,9.97363\\n                c-11.59375,0-18.68166-7.54395-18.68166-19.74512V25.36543h10.93556v32.35254c0,8.10059,3.84766,12.45411,11.3916,12.45411\\n                c7.89844,0,12.65723-5.46777,12.65723-13.77051V25.36543h10.93555V78.62715z\"}}),_c('path',{attrs:{\"d\":\"M238.30814,24.40351c12.4043,0,20.4541,6.88574,20.80859,16.70801h-10.27832\\n                c-0.60744-5.16406-4.4043-8.4043-10.53027-8.4043c-5.92383,0-9.87305,2.88574-9.87305,7.13867\\n                c0,3.34082,2.43066,5.61914,8.20215,6.93555l8.65723,1.97461c10.88574,2.53125,15.03711,6.78418,15.03711,14.47949\\n                c0,9.72071-9.0625,16.4043-21.61816,16.4043c-13.31543,0-21.31543-6.53125-22.32812-16.65723h10.83496\\n                c1.0127,5.56934,4.80957,8.30371,11.49316,8.30371c6.58105,0,10.63184-2.73438,10.63184-7.08789\\n                c0-3.44336-1.97461-5.46875-7.79688-6.78516l-8.65723-2.02441c-10.12598-2.3291-15.13867-7.18945-15.13867-14.93555\\n                C217.75247,30.93476,226.05618,24.40351,238.30814,24.40351z\"}}),_c('path',{attrs:{\"d\":\"M267.92239,11.2917c0-3.49316,2.83496-6.27734,6.32812-6.27734c3.49414,0,6.27832,2.78418,6.27832,6.27734\\n                c0,3.44336-2.78418,6.27832-6.27832,6.27832C270.75735,17.57002,267.92239,14.73506,267.92239,11.2917z M268.78275,25.36543\\n                h10.93555v53.26172h-10.93555V25.36543z\"}}),_c('path',{attrs:{\"d\":\"M325.88626,43.69355c-1.11328-5.6709-5.36621-10.17676-12.50488-10.17676c-8.45508,0-14.02441,7.03711-14.02441,18.47949\\n                c0,11.69531,5.62012,18.4795,14.12598,18.4795c6.7334,0,11.1377-3.69531,12.40332-9.87207h10.53125\\n                c-1.16504,11.34082-10.22754,19.03614-23.03613,19.03614c-15.23926,0-25.16211-10.42969-25.16211-27.64356\\n                c0-16.91016,9.92285-27.59277,25.06055-27.59277c13.7207,0,22.07422,8.80957,23.03613,19.29004H325.88626z\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConnectButton.vue?vue&type=template&id=2b03ef82&scoped=true&\"\nimport script from \"./ConnectButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ConnectButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConnectButton.vue?vue&type=style&index=0&id=2b03ef82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b03ef82\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <div class=\"main-container\">\n            <div class=\"toggle-area\" @click=\"toggleLibraryContent\">\n                <svg\n                    ref=\"chevron\"\n                    id=\"chevron\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"14\"\n                    height=\"9\"\n                    viewBox=\"0 0 14 9\"\n                >\n                    <g fill=\"none\" fill-rule=\"evenodd\">\n                        <g fill=\"#000\" fill-rule=\"nonzero\">\n                            <g>\n                                <g>\n                                    <path\n                                        d=\"M7.007 14c.247-.005.473-.057.68-.155.207-.098.412-.255.614-.472l5.27-5.657c.286-.299.429-.665.429-1.099 0-.294-.068-.563-.203-.808-.136-.245-.32-.441-.551-.588-.232-.147-.485-.221-.761-.221-.429 0-.806.178-1.131.534l-4.34 4.734-4.353-4.734C2.326 5.178 1.946 5 1.523 5c-.281 0-.536.074-.765.22-.23.148-.413.344-.551.589-.138.245-.207.514-.207.808 0 .217.036.414.107.592.072.178.179.347.322.507l5.277 5.657c.395.418.828.627 1.301.627z\"\n                                        transform=\"translate(-38.000000, -200.000000) translate(18.000000, 30.000000) translate(20.000000, 165.000000)\"\n                                    />\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n\n                <p class=\"shazams-text\">{{ SHAZAMS }}</p>\n                <transition appear name=\"text-appear\">\n                    <div v-show=\"newMatches.length > 0\" class=\"new-pill\">\n                        <p :key=\"newMatches.length\">{{ newMatches.length }}</p>\n                    </div>\n                </transition>\n            </div>\n            <connect-button :expandedState=\"expanded\" v-show=\"!(isListening && isAMConnected)\"/>\n        </div>\n        <div class=\"library-container\" v-show=\"expanded\">\n            <div v-for=\"(track) in libraryContents\" v-bind:key=\"track.trackId\">\n                <template v-if='(newMatches.includes(track.trackId))'>\n                    <library-track :content=\"track\" isNew=true :amConnectionStatus=\"isAMConnected\"/>\n                </template>\n                <template v-else>\n                    <library-track :content=\"track\" :amConnectionStatus=\"isAMConnected\"/>\n                </template>\n            </div>\n            <div v-if=\"libraryContents.length > 0\" class=\"count-delete-area\" @click=\"clearLibrary\">\n                <svg\n                    id=\"rubbish-bin\"\n                    ref=\"rubbish\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    width=\"14\"\n                    height=\"16\"\n                    viewBox=\"0 0 14 16\"\n                >\n                    <g fill=\"none\" fill-rule=\"evenodd\">\n                        <g fill=\"#d7374f\" fill-rule=\"nonzero\">\n                            <g>\n                                <g>\n                                    <path\n                                        d=\"M376.394 17c.469 0 .835-.126 1.1-.377.265-.251.407-.613.427-1.085l.454-10.464h1.028c.166 0 .307-.057.423-.171.116-.114.174-.258.174-.43 0-.163-.058-.301-.174-.415-.116-.115-.257-.172-.423-.172h-3.138V2.797c0-.558-.17-.997-.51-1.317-.34-.32-.81-.48-1.41-.48h-2.713c-.595 0-1.062.16-1.403.48-.34.32-.51.759-.51 1.317v1.09h-3.13c-.16 0-.3.056-.415.17-.116.115-.174.253-.174.416 0 .172.058.316.174.43.116.114.254.171.416.171h1.035l.454 10.464c.02.472.164.834.43 1.085.268.251.633.377 1.097.377h6.788zm-1.52-13.114h-3.756v-1.02c0-.173.054-.31.162-.411.109-.102.256-.153.442-.153h2.54c.187 0 .336.051.446.153.111.101.167.238.167.41l-.001 1.021zm-4.157 10.966c-.136 0-.248-.04-.336-.121-.089-.082-.135-.193-.14-.335l-.204-7.738c-.005-.137.035-.247.12-.331.086-.084.202-.126.348-.126.131 0 .241.04.33.122.087.081.134.193.14.335l.21 7.738c.006.137-.035.247-.12.33-.086.085-.202.126-.348.126zm2.283 0c-.146 0-.263-.041-.352-.125-.088-.084-.132-.192-.132-.324V6.658c0-.137.044-.247.132-.331.089-.084.206-.126.352-.126.141 0 .257.042.348.126.09.084.136.194.136.331v7.745c0 .132-.046.24-.136.324-.091.084-.207.125-.348.125zm2.275 0c-.146 0-.262-.041-.347-.125-.086-.084-.129-.194-.129-.331l.22-7.738c.004-.142.051-.254.14-.335.087-.081.2-.122.336-.122.146 0 .262.042.347.126.086.084.126.194.121.331l-.219 7.745c0 .137-.044.246-.132.328-.088.08-.2.121-.337.121z\"\n                                        transform=\"translate(-404.000000, -196.000000) translate(18.000000, 30.000000) translate(20.000000, 165.000000)\"\n                                    />\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n                <p class=\"delete-count-text\">{{ DELETE_ALL }} ({{ libraryContents.length }})</p>\n            </div>\n            <div v-if=\"libraryContents.length === 0\">\n                <div class=\"no-shazams-container\">\n                    <div class=\"absolute-container\">\n                        <div class=\"no-shazams-text\">\n                            <h2 class=\"no-shazams-title\">\n                                {{ NO_SHAZAMS_MAIN }}\n                            </h2>\n                            <p class=\"no-shazams-sub\">{{ NO_SHAZAMS_SUB }}</p>\n                        </div>\n                    </div>\n                    <div>\n                        <library-placeholder style=\"opacity: 0.8\" />\n                        <library-placeholder style=\"opacity: 0.4\" />\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport LibraryTrack from './LibraryTrack.vue';\nimport LibraryPlaceholder from './LibraryPlaceholder.vue';\nimport ConnectButton from './buttons/ConnectButton.vue';\nimport Upsell from '../features/upsell';\nimport Beacon from './Beacon.vue';\nexport default {\n    components: { LibraryTrack, LibraryPlaceholder, ConnectButton },\n    name: 'Library',\n    data: function () {\n        return {\n            expanded: false,\n            libraryContents: [],\n            newMatches: [],\n            SHAZAMS: '',\n            NEW: '',\n            NO_SHAZAMS_MAIN: '',\n            NO_SHAZAMS_SUB: '',\n            DELETE_ALL: '',\n            audioPlaying: false,\n            currentPlayingID: '',\n            isAMConnected: false,\n            showConnectButton: true,\n            isListening: false,\n        };\n    },\n    props: {\n        musicKit: Object\n    },\n    mounted() {\n        this.fetchLibrary();\n        this.fetchNewMatches();\n        this.fetchStrings();\n        this.setupUpsell();\n        this.musicKit;\n\n        this.$on('track_deleted', (deleteTarget) => {\n            this.libraryContents.splice(deleteTarget, 1);\n\n            // refresh the library after the successful deletion\n            this.fetchLibrary();\n        });\n\n        this.$root.$on('track_match', (updatedLibrary) => {\n            this.libraryContents = updatedLibrary.reverse();\n            this.fetchNewMatches();\n        });\n\n        this.$root.$on('update_new_count', () => {\n            this.fetchNewMatches();\n        });\n\n        this.$root.$on('clear_library', () => {\n            chrome.storage.local.set({ shazam_matches: [] });\n            chrome.storage.local.set({ new_matches: [] });\n            this.libraryContents = [];\n            this.fetchLibrary();\n            this.$parent.$emit('toggle_delete_card', {\n                toggle: false,\n                expandedState: false,\n            });\n        });\n\n        this.$root.$on('audio_playing', (trackId) => {\n            this.handlePlayingAudio(trackId);\n        });\n\n        this.$root.$on('audio_paused', () => {\n            if (this.audioPlaying) {\n                this.audioPlaying = false;\n                this.currentPlayingID = '';\n            }\n        });\n\n        this.$root.$on('audio_finished', () => {\n            this.audioPlaying = false;\n        });\n\n        this.$root.$on('update_new_matches', (trackId) => {\n            const currNewMatches = this.newMatches.filter(item => item !== trackId);\n            chrome.storage.local.set({ new_matches: currNewMatches });\n            this.fetchNewMatches();\n        });\n\n        this.$root.$on('listening_state_change', (state) => {\n            this.isListening = state;\n        });\n    },\n    methods: {\n        toggleLibraryContent: function () {\n            // send beacon if we're opening the library\n            if (!this.expanded) {\n                const libraryBeaconObject = {\n                    beaconType: 'userevent',\n                    type: 'btn',\n                    providerdesc: 'history',\n                    trackcount: this.libraryContents.length\n                };\n                this.sendBeacon(libraryBeaconObject);\n            }\n\n            this.expanded = !this.expanded;\n\n            // flip the chevron direction\n            this.$refs.chevron.classList.toggle('invert');\n\n            // let the delete card keep track of the state\n            this.$root.$emit('library_toggled', this.expanded);\n\n            this.handlePlayingAudio();\n        },\n        forceCloseLibrary: function () {\n            this.$refs.chevron.classList.remove('invert');\n            this.expanded = false;\n            this.$root.$emit('library_toggled', false);\n        },\n        fetchLibrary: function () {\n            const _this = this;\n            chrome.storage.local.get('shazam_matches', function (result) {\n                if (result.shazam_matches) {\n                    _this.libraryContents = result.shazam_matches.reverse();\n                    // if there aren't any tracks disable the button\n                    if (_this.libraryContents.length === 0 && _this.$refs.rubbish) {\n                        _this.$refs.rubbish.classList.add('disable-rubbish');\n                    }\n                }\n            });\n        },\n        clearLibrary: function (e) {\n            e.preventDefault(); // stop clickthrough to trackpage\n            this.$parent.$emit('toggle_delete_card', {\n                toggle: true,\n                expandedState: this.expanded,\n            });\n        },\n        fetchNewMatches: function() {\n            const _this = this;\n            chrome.storage.local.get('new_matches', function (result) {\n                _this.newMatches = result.new_matches || [];\n            });\n        },\n        handlePlayingAudio: function (trackId) {\n            if (this.audioPlaying) {\n                this.$root.$emit('audio_controller_stop', this.currentPlayingID);\n            }\n            this.audioPlaying = true;\n            this.currentPlayingID = trackId;\n        },\n        sendBeacon: function (beaconObject) {\n            this.$root.$emit('send_beacon', beaconObject);\n        },\n        setupUpsell: function () {\n            this.upsell = new Upsell({\n                client: 'browserextension',\n                platform: Beacon.platform,\n                sendBeacon: this.sendBeacon.bind(this),\n            });\n\n            this.upsell.getActivationState((state) => {\n                const amToken = state && state.access_token;\n                this.isAMConnected = amToken ? true : false;\n            });\n        },\n        fetchStrings: function () {\n            this.SHAZAMS = browser.i18n.getMessage('general_shazams');\n            this.NEW = browser.i18n.getMessage('library_new');\n            this.NO_SHAZAMS_MAIN = browser.i18n.getMessage('library_no_shazams_main');\n            this.NO_SHAZAMS_SUB = browser.i18n.getMessage('library_no_shazams_sub');\n            this.DELETE_ALL = browser.i18n.getMessage('delete_all');\n        },\n    },\n};\n</script>\n\n<style scoped>\n.library-container {\n    max-height: 250px;\n    overflow-y: scroll;\n}\np {\n    margin: 0px;\n}\n.main-container {\n    display: flex;\n    align-items: center;\n    border-top: 1px solid #e4e4e4;\n    padding: 0px 20px;\n}\n.shazams-text {\n    font-size: 16px;\n    color: black;\n    font-weight: bold;\n    margin: 0px 5px 3px 10px;\n}\n.delete-count-text {\n    font-size: 16px;\n    font-weight: bold;\n    color: #d7374f;\n    text-transform: uppercase;\n}\n.toggle-area {\n    width: 100%;\n    height: 50px;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n}\n.shazams-text {\n    text-transform: uppercase;\n}\n.new-pill {\n    background-color: #0088ff;\n    height: 18px;\n    width: 18px;\n    line-height: 18px;\n    border-radius: 100%;\n    text-align: center;\n    color: white;\n    font-weight: bold;\n    font-size: 11px;\n    text-transform: uppercase;\n    margin-bottom: 3px;\n}\n.count-delete-area {\n    display: flex;\n    justify-content: center;\n    margin: 15px 0px;\n    cursor: pointer;\n}\n.vertical-divider {\n    width: 1px;\n    background-color: grey;\n    margin-right: 10px;\n}\n.invert {\n    transform: scale(1, -1);\n}\n#chevron {\n    transition: all 0.2s ease;\n}\n#rubbish-bin {\n    cursor: pointer;\n    margin-right: 5px;\n    fill: #d7374f;\n}\n.disable-rubbish {\n    opacity: 0.3;\n    pointer-events: none;\n}\n\n/* Library placeholder styles */\n.no-shazams-container {\n    height: 420px;\n    overflow-y: hidden;\n}\n.no-shazams-text {\n    text-align: center;\n    margin-bottom: 50px;\n}\n.no-shazams-title {\n    font-size: 20px;\n    margin: 2px 0px;\n}\n.no-shazams-sub {\n    font-size: 16px;\n    margin: 0px;\n    opacity: 0.7;\n}\n.absolute-container {\n    position: fixed;\n    z-index: 2;\n    width: 420px;\n    height: 250px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n/* Animations */\n.text-appear-enter {\n    transform: scale(0.4, 0.4);\n    opacity: 0;\n}\n\n.text-appear-enter-active {\n    transition: all 0.3s ease-out;\n}\n</style>\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LibraryPlaceholder.vue?vue&type=style&index=0&id=5282fa47&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Library.vue?vue&type=style&index=0&id=5691dbc3&scoped=true&lang=css&\"","export default {\n    'ue-connect--start': {\n        //__desc: \"AM Signin/Signup Connect: Start\",\n        beaconType: 'userevent',\n        action: 'start',\n        type: 'streamingmusicflow',\n        providername: 'applemusic',\n        section : 'connect',\n        screenname : 'connect',\n        _dynamic: {\n            loginorigin: '-',\n            providerdesc: '-',\n            itsct: '-',\n            itscg: '-',\n            clientbeaconuuid: '',\n        },\n    },\n\n\n    'ue-connect--complete': {\n        //__desc: \"AM Signin/Signup Connect: Complete\",\n        beaconType: 'userevent',\n        action: 'complete',\n        type: 'streamingmusicflow',\n        providername: 'applemusic',\n        screenname : 'connect',\n        _dynamic: {\n            loginorigin: '-',\n            clientbeaconuuid: '',\n        },\n    },\n    'err-connect--error': {\n        __desc: 'AM Signin/Signup Connect: Error',\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        type: 'streamingmusicflow',\n        action: 'error',\n        providername: 'applemusic',\n        screenname : 'connect',\n        _dynamic: {\n            providerdesc: '-',\n            loginorigin: '-',\n            clientbeaconuuid: '',\n        },\n    },\n\n    'err-createcode--error': {\n        //__desc: \"AM Signin/Signup Create Code: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        screenname: 'applemusichandshake_errorcode',\n        action: 'error',\n        _dynamic: {\n            code: '-',\n            errordesc: '-',\n            clientbeaconuuid: '',\n        },\n    },\n    'err-validate--error': {\n        //__desc: \"AM Signin/Signup Validate: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        screenname: 'applemusichandshake',\n        action: 'error',\n        type: 'validate',\n        _dynamic: {\n            code: '-',\n            errordesc: '-',\n            clientbeaconuuid: '',\n        },\n    },\n\n    'ue-handshake--start': {\n        //__desc: \"AM Signin/Signup Token Exchange: Start\",\n        beaconType: 'userevent',\n        screenname: 'applemusichandshake',\n        action: 'start',\n        _dynamic: {\n            clientbeaconuuid: '',\n        },\n    },\n    'ue-handshake--complete': {\n        //__desc: \"AM Signin/Signup Token Exchange: Complete\",\n        beaconType: 'userevent',\n        screenname: 'applemusichandshake',\n        action: 'success',\n        _dynamic: {\n            clientbeaconuuid: '',\n        },\n    },\n    'err-handshake--error': {\n        //__desc: \"AM Signin/Signup Token Exchange: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        screenname: 'applemusichandshake',\n        action: 'error',\n        _dynamic: {\n            code: '-',\n            clientbeaconuuid: '',\n        },\n    },\n\n    'ue-connection--success': {\n        //__desc: \"AM Signin/Signup Connection: Success\",\n        beaconType: 'userevent',\n        type: 'streamingmusicflow',\n        action: 'success',\n        providername: 'applemusic',\n        screenname : 'connect',\n        _dynamic: {\n            loginorigin: '-',\n            clientbeaconuuid: '-',\n        },\n    },\n\n    'ue-connection--denied': {\n        //__desc: \"AM Signin/Signup Connection: Denied\",\n        beaconType: 'userevent',\n        type: 'streamingmusicflow',\n        action: 'medialibrary_permissiondenied',\n        providername: 'applemusic',\n        screenname : 'connect',\n        _dynamic: {\n            providerdesc: '-',\n            loginorigin: '-',\n        },\n    },\n\n\n    'ue-connect-amattribution': {\n        //__desc: \"Connect Apple Music - AM Attribution\",\n        beaconType: 'userevent',\n        type: 'open',\n        providername: 'applemusic',\n        providerdesc: 'gotowebflow',\n        _dynamic: {\n            screenname: '-',\n            trackkey: '-',\n            section: '-',\n        },\n    },\n    'im-connect-cta': {\n        //__desc: \"Connect Apple Music CTA Impression\",\n        beaconType: 'impression',\n        providername: 'trackupsell',\n        _dynamic: {\n            screenname: '-',\n            trackkey: '-',\n            providerdesc: '-',\n        },\n    },\n\n    'ue-complete--install': {\n        //__desc: \"Install Apple Music/iTunes\",\n        beaconType: 'userevent',\n        type: 'streamingmusicflow',\n        action: 'install',\n        _dynamic: {\n            screenname: '-',\n            providername: '-',\n            loginorigin: '-',\n        },\n    },\n    'ue-complete--connect': {\n        //__desc: \"Connect Apple Music\",\n        beaconType: 'userevent',\n        type: 'streamingmusicflow',\n        action: 'start',\n        providername: 'applemusic',\n        providerdesc: 'modal',\n        loginorigin: 'connectnow',\n        _dynamic: {\n            screenname: '-',\n            trackkey: '-',\n        },\n    },\n    'ue-complete--tryagain': {\n        //__desc: \"Connect - Try Again\",\n        beaconType: 'userevent',\n        type: 'streamingmusicflow',\n        action: 'start',\n        providername: 'applemusic',\n        loginorigin: 'tryagain',\n        _dynamic: {\n            screenname: '-',\n            trackkey: '-',\n        },\n    },\n    'im-complete--success': {\n        //__desc: \"AM Signin/Signup Webflow: Connection Success\",\n        beaconType: 'impression',\n        screenname: 'applewebflowview',\n        providerdesc: 'success',\n    },\n    'im-complete--denied': {\n        //__desc: \"AM Signin/Signup Webflow: Connection Denied\",\n        beaconType: 'impression',\n        screenname: 'applewebflowview',\n        providerdesc: 'denied',\n    },\n    'im-complete--error': {\n        //__desc: \"AM Signin/Signup Webflow: Connection Error\",\n        beaconType: 'impression',\n        screenname: 'applewebflowview',\n        providerdesc: 'error',\n    },\n    'err-musickit-load--error': {\n        //__desc: \"Musickit Loading: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        providername: 'musickit',\n        type: 'download',\n        action: 'error',\n        providerdesc: 'loaderror',\n        _dynamic: {\n            screenname: '-',\n            code: '-',\n        },\n    },\n    'err-musickit-config--error': {\n        //__desc: \"Musickit Configuration: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        providername: 'musickit',\n        type: 'download',\n        action: 'error',\n        providerdesc: 'config',\n        _dynamic: {\n            screenname: '-',\n            code: '-',\n        },\n    },\n    'err-musickit-auth--error': {\n        //__desc: \"Musickit Authorization: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        providername: 'musickit',\n        type: 'download',\n        action: 'error',\n        providerdesc: 'auth',\n        _dynamic: {\n            screenname: '-',\n            code: '-',\n        },\n    },\n    'err-musickit-playaction--error': {\n        __desc: 'Musickit PlayAction: Error',\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        providername: 'musickit',\n        type: 'download',\n        action: 'error',\n        providerdesc: 'disconnectedplayattempt',\n        _dynamic: {\n            screenname: '-',\n        },\n    },\n    'err-musickit-playback--error': {\n        //__desc: \"Musickit Playback: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        providername: 'musickit',\n        type: 'playback',\n        action: 'error',\n        _dynamic: {\n            screenname: '-',\n            code: '-',\n        },\n    },\n    'err-opener--error': {\n        //__desc: \"AM Signin/Signup Opener: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        type: 'opener',\n        action: 'error',\n        providerdesc: 'noopener',\n        _dynamic: {\n            screenname: '-',\n        },\n    },\n    'err-callback--error': {\n        //__desc: \"AM Signin/Signup Callback: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        type: 'callback',\n        action: 'error',\n        providerdesc: 'nocallback',\n        _dynamic: {\n            screenname: '-',\n        },\n    },\n    'err-callbackexe--error': {\n        //__desc: \"AM Signin/Signup Callback Exception: Error\",\n        beaconType: 'userevent', // not error, as beaconType=error doesn't show up in BigQuery\n        type: 'callback',\n        action: 'error',\n        providerdesc: 'exception',\n        _dynamic: {\n            screenname: '-',\n            errordesc: '-',\n        },\n    },\n    'ue-track-am-click': {\n        beaconType: 'userevent',\n        type: 'open',\n        providername: 'applemusic',\n        providerdesc: 'gotoapplemusic',\n        store: 'applemusic',\n        // section: 'list',\n        _dynamic: {\n            trackkey: '',\n            clientbeaconuuid: '',\n            screenname: '-',\n        },\n    },\n    'ue-btn-open-in-am': {\n        beaconType: 'userevent',\n        type: 'open',\n        providername: 'applemusic',\n        providerdesc: 'gotoapplemusic',\n        store: 'applemusic',\n        amc: '1',\n        // section: 'video',\n        _dynamic: {\n            screenname: '-',\n            trackkey: '',\n            clientbeaconuuid: '',\n        },\n    },\n};\n","import * as FeatureFlags from '@shazam-web/featureflags';\nimport { getPlatformInfo } from '@shazam-web/useragent';\n\nlet state = {\n    member: false,\n    country: 'US',\n    env: 'www', // env variable?\n    origin: 'https://www.shazam.com', // env variable?\n};\n\nexport default {\n    state,\n    getFeatureFlags(cb = () => {}) {\n        if (this.featureflags) {\n            cb(this.featureflags);\n        }\n        chrome.storage.local.get('country', function (result) {\n            state.country = result.country || 'US';\n            chrome.storage.local.get('inidDetails', function (result) {\n                state.inid = (result && result.inidDetails && result.inidDetails.inid) || 'userinid'; //result.inidDetails.inid;\n                chrome.storage.sync.get(['amconnect'], (result) => {\n                    state.member = !!result.amconnect;\n                    console.log(state);\n                    if (!this.featureflags) {\n                        getConfig((featureflags) => {\n                            this.featureflags = featureflags;\n                            featureflags.addCustomModules({\n                                applemusic: {\n                                    memberState(config) {\n                                        let result = Object.keys(config).every((prop) => {\n                                            return state[prop] === config[prop];\n                                        });\n                                        return result;\n                                    },\n                                },\n                            });\n                            cb(featureflags); //\n                        });\n                    }\n                });\n            });\n        });\n    },\n};\n\nfunction getConfig(cb) {\n    FeatureFlags.configureFeatures(\n        {\n            url: `${state.origin}/config/features/website.json`,\n        },\n        {\n            controlConfigs: {\n                environments: ['www', 'cisd', 'betasd', 'dev'],\n                getLoginState() {\n                    return state.member;\n                },\n            },\n            controlStates: {\n                country: state.country,\n                environment: state.env,\n                inid: state.inid,\n                platformProps: getPlatformInfo(navigator.userAgent),\n                urlparams: {},\n            },\n        },\n        ({ featureflags }) => {\n            cb(featureflags);\n        }\n    );\n}\n\nchrome.storage.onChanged.addListener((changes, namespace) => {\n    if (namespace == 'sync' && changes.amconnect) {\n        state.member = !changes.newValue;\n    }\n});\n","import beaconsManifest from './beacons.js';\nimport Config from '../config.js';\n\nfunction guid() {\n    function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n}\n\nconst MOCKACTIVATE = false;\nconst origin = Config.state.origin;\n\nexport default class Upsell {\n    constructor({ client, platform, sendBeacon = () => {} }) {\n        let itsct = `Shazam_web_ext_${platform.deviceplatform}`;\n        let ct = guid();\n\n        Object.assign(this, {\n            activateUrl: 'https://activate.apple.com/oauth2?',\n            callback: origin + '/applemusic/signin/complete',\n            client,\n            activateParams: {\n                client_id: 'xFmm2RMz',\n                app: 'music',\n                at: '1001l4DI',\n                ct,\n                mttnagencyid: 's2n', //AMP-11471 //'769459046716559743' --> WEB-756\n                mttnsiteid: '125115',\n                mttnsub1: itsct,\n                mttnsub2: ct,\n                mttn3pid: 'Apple-Shazam', //AMP-11471 //'a_custom_779816081798873874',\n                itsct,\n                itscg: '30201',\n                clientbeaconuuid: ct,\n            },\n        });\n\n        this._beacon = (beaconId, params) => {\n            let manifestData = beaconsManifest[beaconId];\n            let _dynamic = manifestData._dynamic || {};\n\n            let beaconData = {\n                ...manifestData,\n                ...{\n                    appname: this.client,\n                    beaconType: manifestData.beaconType || 'userevent',\n                },\n            };\n            delete beaconData._dynamic;\n\n            Object.keys(_dynamic).forEach((key) => {\n                let value = params[key];\n                if (value) {\n                    beaconData[key] = value;\n                }\n            });\n            beaconData.section = beaconData.section || beaconData.screenname;\n            sendBeacon(beaconData);\n        };\n        this.init();\n    }\n    init() {\n        // coming from shazam.com signin complete flow postMessage\n        window.addEventListener('message', (event) => {\n            if (event.origin == origin) {\n                if (event.data.action == 'signincomplete') {\n                    this._onSigninComplete(event.data);\n                } else if (event.data.action == 'activate') {\n                    this.activate(event.data.params);\n                }\n            }\n        });\n    }\n    getActivationState(cb) {\n        chrome.storage.sync.get('amconnect', (result) => {\n            cb(result.amconnect);\n        });\n    }\n    getClientBeaconUuid() {\n        return this.activateParams.clientbeaconuuid;\n    }\n    // o = { screenname, loginorigin}\n    activate(o) {\n        let params = this._verifyParams(Object.assign(o, this.activateParams));\n\n        this._getCodeChallenge((data) => {\n            if (data.error) {\n                this._beacon('err-createcode--error', {\n                    code: data.error.statusCode,\n                    errordesc: data.error.message || 'unknown',\n                    ...params,\n                });\n            } else {\n                this._signin(params, data);\n            }\n        });\n    }\n    deactivate(cb = () => {}) {\n        this.active = false;\n        this._signinContext = null;\n\n        chrome.storage.sync.get('amconnect', () => {\n            chrome.storage.sync.remove('amconnect');\n\n            chrome.tabs.query({}, (tabs) => {\n                let shzTabs = tabs.filter((it) => it.url.search(/shazam/) !== -1);\n                (shzTabs || []).forEach((tab) => {\n                    chrome.tabs.sendMessage(tab.id, {\n                        eventType: 'storage',\n                        key: 'amconnect',\n                        data: null,\n                    });\n                });\n            });\n            cb();\n        });\n    }\n\n    getUpsellUrl(params) {\n        const { enabled, data: flagData } = Upsell.featureflags.getFlag(`applemusic.signUpRedirectTo.campaign`);\n        if (enabled) {\n            let url = flagData.campaignURL;\n            if (url.search(/^\\//) !== -1) {\n                url = `${origin}${url}`;\n            }\n\n            // TODO Question - Support playlist id , am playlist, an album?\n\n            if (params.trackkey) {\n                url += `/track/${params.trackkey}?referrer=browserextension`;\n            }\n            return url;\n        }\n    }\n    gotoAppleMusicUpsell(amurl, params) {\n        //let { screenname, loginorigin,  beaconId } = params;\n        this.getActivationState((isActive) => {\n            if (!isActive) {\n                let url = this.getUpsellUrl(params);\n                if (url) {\n                    setTimeout(() => window.open(url, '_blank'), 200);\n                } else {\n                    this.activate(params);\n                }\n            } else {\n                this.gotoAppleMusic(amurl, params);\n            }\n        });\n    }\n\n    gotoAppleMusic(amurl, params) {\n        let { screenname, beaconId, trackkey } = params;\n        let { ct, at, itsct, itscg, mttnagencyid, mttnsiteid, mttn3pid, app } = this.activateParams;\n\n        //site i=1585723865&ign-itscg=30201&ign-itsct=Shazam_web&mttn3pid=Apple-Shazam&mttnagencyid=s2n&mttnsiteid=125115&mttnsub1=Shazam_web&mttnsub2=813e889a-7773-8d56-5d72-fb486b0963d0\n        //exte i=1582660724&ign-itscg=30201&ign-itsct=Shazam_web_ext_desktop_mac&mttn3pid=a_custom_779816081798873874&mttnagencyid=769459046716559743&mttnsiteid=125115\n\n        let queryParams = this._formQueryParams(amurl, {\n            ct,\n            at,\n            itsct,\n            itscg,\n            mttnagencyid,\n            mttnsiteid,\n            mttn3pid,\n            app,\n            screenname,\n            trackkey\n        });\n        // // go from object format to \"a=1&b=2\"\n        let strparams = Object.keys(queryParams).map((key) => `${key}=${queryParams[key]}`);\n        let url = amurl.replace(/\\?[^#]*/, '?' + strparams.join('&'));\n\n        this._beacon(beaconId, queryParams);\n        //window.open implicitly closes extension popup, so need time for beacons to fire (or not???) ~ JP\n        setTimeout(() => window.open(url, '_blank'), 200);\n    }\n    _signin(params, codedata) {\n        let { codeVerifier, codeChallenge } = codedata;\n        // custom beacon values : screenname_cluiid_appname_platform \n        let state = (params.state = `${params.screenname}_${params.clientbeaconuuid}_${this.client}_webextension`);\n\n        let activateurl = this._getActivateUrl(params, codeChallenge);\n        this._beacon('ue-connect--start', params);\n\n        let handle = chrome.windows.create({\n            // Just use the full URL if you need to open an external page\n            url: activateurl,\n            setSelfAsOpener: true,\n            //alwaysOnTop: true,\n            type: 'popup',\n            left: window.screenX,\n            top: window.screenY,\n            height: 600,\n            width: 500,\n        });\n\n        this._signinContext = { handle, state, params, codeVerifier };\n    }\n    // from shazam.com\n    _onSigninComplete(data) {\n        let { handle, state, params, codeVerifier } = this._signinContext;\n        this._signupContext = null;\n\n        handle && handle.close();\n        // try {\n        //     setTimeout(() => {\n        //         handle && handle.close();\n        //     }, 0); // set a timeout to close in case child couldn't close itself\n        // } catch (exc) {\n        //     console.log(exc);\n        // }\n\n        let error = (data.state != state || data.error) && {\n            code: data.error || 'invalid_state',\n            beaconId: data.error == 'access_denied' ? 'ue-connection--denied' : 'err-connect--error',\n        };\n        if (error) {\n            this._activationComplete({ params, data, error });\n        } else {\n            this._beacon('ue-handshake--start', { ...params });\n            \n            this._exhangeCodeForToken({ code: data.code, codeVerifier }, (data) => {\n                error = data.error && {\n                    code: data.error,\n                    beaconId: 'err-handshake--error',\n                };\n                this._activationComplete({ params, data, error });\n            });\n        }\n    }\n\n    _activationComplete({ params, data, error }) {\n        let { clientbeaconuuid, loginorigin, screenname } = params;\n\n        let event = {\n            beaconId: 'ue-handshake--complete',\n        };\n        if (error) {\n            event.beaconId = error.beaconId;\n            event.providerdesc = error.code;\n        }\n        this._beacon(event.beaconId, { ...event, ...params });\n\n        let mvargs = {\n            screenname,\n            clientbeaconuuid,\n            loginorigin,\n            appname: this.client,\n            platform : 'webextension'\n        };\n        if (error) {\n            mvargs.error = error.code || 'unknown';\n        } else {\n            mvargs.access_token = data.access_token;\n            mvargs.isAccessAllowed = !!mvargs.access_token;\n        }\n        this._setConnectedState(mvargs.isAccessAllowed && data);\n        \n        if (mvargs.isAccessAllowed){\n            this._beacon('ue-connection--success', { ...params });\n        }\n\n        let args = Object.keys(mvargs).map((key) => `${key}=${mvargs[key]}`);\n\n        chrome.windows.create({\n            // Just use the full URL if you need to open an external page\n            url: origin + `/applemusic/signin/complete/confirm?${args.join('&')}`,\n            setSelfAsOpener: true,\n            type: 'popup',\n            left: window.screenX,\n            top: window.screenY,\n            height: 375,\n            width: 340,\n        });\n    }\n\n    _setConnectedState(data) {\n        let { access_token } = data || {};\n\n        if (!access_token) {\n            this.deactivate();\n        } else {\n            //dont need to synchronize with shazam.com, /signin/conplete/confirm will update window.storage\n            chrome.storage.sync.set({ amconnect: data });\n        }\n    }\n    _verifyParams(params) {\n        [\n            'app',\n            'clientbeaconuuid',\n            'ct',\n            'at',\n            'itsct',\n            'itsct',\n            'mttnagencyid',\n            'mttnsiteid',\n            'mttnsiteid',\n            'mttnsub1',\n            'mttnsub2',\n            'screenname',\n            // \"state\",\n        ].forEach((key) => {\n            if (!params[key]) {\n                throw `Upsell:Missing parameter ${key}`;\n            }\n        });\n\n        return params;\n    }\n    _getActivateUrl(params, codeChallenge) {\n        //     mttnagencyid=769459046716559743&mttnsiteid=125115&mttn3pid=a_custom_779816081798873874&mttnsub1=Shazam_web_desktop_mac&mttnsub2=ee0b600d-b486-7416-3ff8-2bde074be189&ign-itsct=Shazam_web_desktop_mac&ign-itscg=30201\n        let queryParams = Object.assign(\n            {\n                response_type: 'code',\n                scope: 'music',\n                redirect_uri: this.callback,\n                code_challenge_method: 'S256',\n                code_challenge: codeChallenge,\n            },\n            params\n        );\n        const queryString = Object.entries(queryParams)\n            .map(([key, val]) => `${key}=${encodeURIComponent(val)}`)\n            .join('&');\n\n        let url = MOCKACTIVATE ? `${origin}/applemusic/signin/mockactivate?` : this.activateUrl;\n        return url + queryString;\n    }\n    _getCodeChallenge(cb) {\n        let codeVerifier = guid().replace(/-/g, '');\n\n        fetch(`${origin}/services/partner/oauth/pkce/createcode`, {\n            method: 'POST',\n            body: JSON.stringify({\n                code_verifier: codeVerifier,\n            }),\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n        })\n            .then((response) => response.json())\n            .then((data = {}) => {\n                cb(data.error ? data : { codeVerifier, codeChallenge: data.code_challenge });\n            })\n            .catch((error) => {\n                cb({ error });\n            });\n    }\n    _exhangeCodeForToken(params, cb) {\n        if (MOCKACTIVATE && params.code == 'testcode') {\n            cb({ access_token: 'testdat_token' });\n            return;\n        }\n\n        let fetchParams = {\n            grant_type: 'authorization_code',\n            code: params.code,\n            code_verifier: params.codeVerifier,\n        };\n        const postParams = Object.keys(fetchParams)\n            .map((key) => {\n                return key + '=' + fetchParams[key];\n            })\n            .join('&');\n\n        fetch(`${origin}/services/partner/oauth/commerce/oauth2/token`, {\n            method: 'POST',\n            body: postParams,\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Cache-Control': 'no-cache',\n                // NOTE: 'Authorization: Bearer {JWT_TOKEN}' gets added server side\n            },\n        })\n            .then((response) => response.json())\n            .then((data = {}) => {\n                cb(data);\n            })\n            .catch((error) => {\n                cb({ error });\n            });\n    }\n    _formQueryParams(url, params) {\n        // go from \"a=1&b=2\" format to object\n        let strparams = url.match(/\\?([^#]*)/); //?a=1&b=2\n        strparams = (strparams && strparams[1]) || {}; // a=1&b=2\n        let obj = {};\n        strparams.split('&').reduce((obj, item) => {\n            let parts = item.split('=');\n            obj[parts[0]] = parts[1] || ''; //{ a : 1},{ b: 2}\n            return obj;\n        }, obj);\n\n        return { ...obj, ...params }; // passed in take precedence\n\n        // // go from object format to \"a=1&b=2\"\n        // strparams = Object.keys(queryParams).map((key) => `${key}=${queryParams[key]}`);\n        // return url.replace(/\\?[^#]*/, '?' + strparams.join('&'));\n    }\n}\n\nUpsell.featureflags = null; // safari doesnt support static\n\nConfig.getFeatureFlags((featureflags) => {\n    Upsell.featureflags = featureflags;\n});\n\n// beacon-parse \"https://beacon.shazam.com/beacons/api/v1/beacon/website/1.0/en-US/FR/web/-/beacon/d156f014-3812-92b2-272b-3bd1d1c84ba0/userevent?action=start&type=streamingmusicflow&providername=applemusic&clientbeaconuuid=bceeb2fa-d592-bab7-e748-491474409114&screenname=home&loginorigin=connect&itsct=Shazam_web_desktop_mac&itscg=30201&ec=0&fc=0&webId=d156f014-3812-92b2-272b-3bd1d1c84ba0&inapp=0&bot=0&deviceplatform=desktop_mac&osver=10.15.7&path=/&buildnum=src&amc=0&aa=0&ea=0&ga=0&newuser=0&browsername=chrome&browserver=91.0.4472.114&ua=Mozilla/5.0_(Macintosh;_Intel_Mac_OS_X_10_15_7)_AppleWebKit/537.36_(KHTML,_like_Gecko)_Chrome/91.0.4472.114_Safari/537.36\"\n\n//ttps://activate.apple.com/oauth2?response_type=code&scope=music&redirect_uri=https%3A%2F%2Fdev.shazam.apple.com%2Fapplemusic%2Fsignin%2Fcomplete&code_challenge_method=S256&code_challenge=ACFVYPaOnomLue9wHTxGxgklgt7hU7ETJlJ27YHGrZk&screenname=webextension&loginorigin=webextension&clientbeaconuuid=c05265eb-9ffe-9c86-ceda-3a33e8388cb2&client_id=browserextension&app=music&at=1001l4DI&ct=c05265eb-9ffe-9c86-ceda-3a33e8388cb2&mttnagencyid=769459046716559743&mttnsiteid=125115&mttnsub1=Shazam_web_desktop_mac&mttnsub2=c05265eb-9ffe-9c86-ceda-3a33e8388cb2&mttn3pid=a_custom_779816081798873874&itsct=Shazam_web_desktop_mac&itscg=30201&state=webextension_c05265eb-9ffe-9c86-ceda-3a33e8388cb2\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"card\",staticClass:\"rate-shazam-card\"},[_c('div',{staticClass:\"text-container\"},[_c('h2',{staticClass:\"rate-shazam-headline\"},[_vm._v(_vm._s(_vm.RATE_SHAZAM_MAIN))]),_c('p',{staticClass:\"rate-shazam-subtext\"},[_vm._v(_vm._s(_vm.RATE_SHAZAM_SUB))])]),_c('div',{staticClass:\"button-container\"},[_c('button',{staticClass:\"cancel-button\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.CANCEL))]),_c('button',{staticClass:\"rate-shazam-button\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.RATE))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RateShazamCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RateShazamCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RateShazamCard.vue?vue&type=template&id=2cdf3b2e&scoped=true&\"\nimport script from \"./RateShazamCard.vue?vue&type=script&lang=js&\"\nexport * from \"./RateShazamCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RateShazamCard.vue?vue&type=style&index=0&id=2cdf3b2e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cdf3b2e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayFullSongButton.vue?vue&type=style&index=0&id=b3a7733a&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DeleteCard.vue?vue&type=style&index=0&id=522b4a30&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"main-container\"},[_c('div',{staticClass:\"toggle-area\",on:{\"click\":_vm.toggleLibraryContent}},[_c('svg',{ref:\"chevron\",attrs:{\"id\":\"chevron\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"14\",\"height\":\"9\",\"viewBox\":\"0 0 14 9\"}},[_c('g',{attrs:{\"fill\":\"none\",\"fill-rule\":\"evenodd\"}},[_c('g',{attrs:{\"fill\":\"#000\",\"fill-rule\":\"nonzero\"}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M7.007 14c.247-.005.473-.057.68-.155.207-.098.412-.255.614-.472l5.27-5.657c.286-.299.429-.665.429-1.099 0-.294-.068-.563-.203-.808-.136-.245-.32-.441-.551-.588-.232-.147-.485-.221-.761-.221-.429 0-.806.178-1.131.534l-4.34 4.734-4.353-4.734C2.326 5.178 1.946 5 1.523 5c-.281 0-.536.074-.765.22-.23.148-.413.344-.551.589-.138.245-.207.514-.207.808 0 .217.036.414.107.592.072.178.179.347.322.507l5.277 5.657c.395.418.828.627 1.301.627z\",\"transform\":\"translate(-38.000000, -200.000000) translate(18.000000, 30.000000) translate(20.000000, 165.000000)\"}})])])])])]),_c('p',{staticClass:\"shazams-text\"},[_vm._v(_vm._s(_vm.SHAZAMS))]),_c('transition',{attrs:{\"appear\":\"\",\"name\":\"text-appear\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.newMatches.length > 0),expression:\"newMatches.length > 0\"}],staticClass:\"new-pill\"},[_c('p',{key:_vm.newMatches.length},[_vm._v(_vm._s(_vm.newMatches.length))])])])],1),_c('connect-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!(_vm.isListening && _vm.isAMConnected)),expression:\"!(isListening && isAMConnected)\"}],attrs:{\"expandedState\":_vm.expanded}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expanded),expression:\"expanded\"}],staticClass:\"library-container\"},[_vm._l((_vm.libraryContents),function(track){return _c('div',{key:track.trackId},[((_vm.newMatches.includes(track.trackId)))?[_c('library-track',{attrs:{\"content\":track,\"isNew\":\"true\",\"amConnectionStatus\":_vm.isAMConnected}})]:[_c('library-track',{attrs:{\"content\":track,\"amConnectionStatus\":_vm.isAMConnected}})]],2)}),(_vm.libraryContents.length > 0)?_c('div',{staticClass:\"count-delete-area\",on:{\"click\":_vm.clearLibrary}},[_c('svg',{ref:\"rubbish\",attrs:{\"id\":\"rubbish-bin\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"14\",\"height\":\"16\",\"viewBox\":\"0 0 14 16\"}},[_c('g',{attrs:{\"fill\":\"none\",\"fill-rule\":\"evenodd\"}},[_c('g',{attrs:{\"fill\":\"#d7374f\",\"fill-rule\":\"nonzero\"}},[_c('g',[_c('g',[_c('path',{attrs:{\"d\":\"M376.394 17c.469 0 .835-.126 1.1-.377.265-.251.407-.613.427-1.085l.454-10.464h1.028c.166 0 .307-.057.423-.171.116-.114.174-.258.174-.43 0-.163-.058-.301-.174-.415-.116-.115-.257-.172-.423-.172h-3.138V2.797c0-.558-.17-.997-.51-1.317-.34-.32-.81-.48-1.41-.48h-2.713c-.595 0-1.062.16-1.403.48-.34.32-.51.759-.51 1.317v1.09h-3.13c-.16 0-.3.056-.415.17-.116.115-.174.253-.174.416 0 .172.058.316.174.43.116.114.254.171.416.171h1.035l.454 10.464c.02.472.164.834.43 1.085.268.251.633.377 1.097.377h6.788zm-1.52-13.114h-3.756v-1.02c0-.173.054-.31.162-.411.109-.102.256-.153.442-.153h2.54c.187 0 .336.051.446.153.111.101.167.238.167.41l-.001 1.021zm-4.157 10.966c-.136 0-.248-.04-.336-.121-.089-.082-.135-.193-.14-.335l-.204-7.738c-.005-.137.035-.247.12-.331.086-.084.202-.126.348-.126.131 0 .241.04.33.122.087.081.134.193.14.335l.21 7.738c.006.137-.035.247-.12.33-.086.085-.202.126-.348.126zm2.283 0c-.146 0-.263-.041-.352-.125-.088-.084-.132-.192-.132-.324V6.658c0-.137.044-.247.132-.331.089-.084.206-.126.352-.126.141 0 .257.042.348.126.09.084.136.194.136.331v7.745c0 .132-.046.24-.136.324-.091.084-.207.125-.348.125zm2.275 0c-.146 0-.262-.041-.347-.125-.086-.084-.129-.194-.129-.331l.22-7.738c.004-.142.051-.254.14-.335.087-.081.2-.122.336-.122.146 0 .262.042.347.126.086.084.126.194.121.331l-.219 7.745c0 .137-.044.246-.132.328-.088.08-.2.121-.337.121z\",\"transform\":\"translate(-404.000000, -196.000000) translate(18.000000, 30.000000) translate(20.000000, 165.000000)\"}})])])])])]),_c('p',{staticClass:\"delete-count-text\"},[_vm._v(_vm._s(_vm.DELETE_ALL)+\" (\"+_vm._s(_vm.libraryContents.length)+\")\")])]):_vm._e(),(_vm.libraryContents.length === 0)?_c('div',[_c('div',{staticClass:\"no-shazams-container\"},[_c('div',{staticClass:\"absolute-container\"},[_c('div',{staticClass:\"no-shazams-text\"},[_c('h2',{staticClass:\"no-shazams-title\"},[_vm._v(\" \"+_vm._s(_vm.NO_SHAZAMS_MAIN)+\" \")]),_c('p',{staticClass:\"no-shazams-sub\"},[_vm._v(_vm._s(_vm.NO_SHAZAMS_SUB))])])]),_c('div',[_c('library-placeholder',{staticStyle:{\"opacity\":\"0.8\"}}),_c('library-placeholder',{staticStyle:{\"opacity\":\"0.4\"}})],1)])]):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Library.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Library.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Library.vue?vue&type=template&id=5691dbc3&scoped=true&\"\nimport script from \"./Library.vue?vue&type=script&lang=js&\"\nexport * from \"./Library.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Library.vue?vue&type=style&index=0&id=5691dbc3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5691dbc3\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupContent.vue?vue&type=style&index=0&id=7e3eeb24&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"no-match-card\"},[_c('transition',{attrs:{\"appear\":\"\",\"name\":\"main-fadein\"}},[_c('svg',{attrs:{\"id\":\"icon-exclamation\",\"viewBox\":\"0 0 120 120\"}},[_c('title',[_vm._v(\"Path\")]),_c('path',{attrs:{\"id\":\"prefix__a\",\"d\":\"M60 0c33.137 0 60 26.863 60 60s-26.863 60-60 60S0 93.137 0 60 26.863 0 60 0zm0 83.077c-4.076 0-7.385 3.306-7.385 7.385 0 4.076 3.309 7.384 7.386 7.384s7.384-3.308 7.384-7.384c0-4.079-3.307-7.385-7.384-7.385zm-5.32-59.638c-4.342 2.24-7.315 7.163-7.585 12.585-.152 3.03.699 5.885 1.497 8.73.612 2.374 1.227 4.761 1.9 7.117 1.217 4.734 2.421 9.509 3.78 14.19.612 2.409 1.019 5.316 2.96 6.83 2.089 1.623 5.001 1.128 6.594-1.106.429-.6.715-1.278.92-2.006l.076-.287.007-.027.004-.016.002-.007.001-.003-.006.026c1.366-4.68 2.54-9.458 3.776-14.184 1.343-4.743 2.612-9.539 3.823-14.33 1.42-5.627-.286-11.809-4.263-15.505-3.754-3.489-9.066-4.283-13.486-2.007z\"}})])]),_c('transition',{attrs:{\"appear\":\"\",\"name\":\"main-fadein\"}},[_c('div',{staticClass:\"no-match-text\"},[(_vm.wasSilent)?_c('p',{staticClass:\"title-text\"},[_vm._v(\" \"+_vm._s(_vm.NO_AUDIO_MAIN))]):_c('p',{staticClass:\"title-text\"},[_vm._v(_vm._s(_vm.NO_RESULT_MAIN))]),(_vm.wasSilent)?_c('p',{staticClass:\"sub-text\"},[_vm._v(_vm._s(_vm.NO_AUDIO_SUB))]):_c('p',{staticClass:\"sub-text\"},[_vm._v(_vm._s(_vm.NO_RESULT_SUB))])])]),_c('transition',{attrs:{\"appear\":\"\",\"name\":\"main-fadein\"}},[_c('div',{ref:\"buttonContainer\",staticClass:\"button-container\"},[_c('button',{staticClass:\"back-button\",on:{\"click\":_vm.back}},[_vm._v(\" \"+_vm._s(_vm.CANCEL)+\" \")]),_c('button',{staticClass:\"try-again-button\",on:{\"click\":_vm.tryCaptureAgain}},[_vm._v(\" \"+_vm._s(_vm.TRY_AGAIN)+\" \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMatchCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NoMatchCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NoMatchCard.vue?vue&type=template&id=16128191&scoped=true&\"\nimport script from \"./NoMatchCard.vue?vue&type=script&lang=js&\"\nexport * from \"./NoMatchCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NoMatchCard.vue?vue&type=style&index=0&id=16128191&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16128191\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RateShazamCard.vue?vue&type=style&index=0&id=2cdf3b2e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConnectButton.vue?vue&type=style&index=0&id=2b03ef82&scoped=true&lang=css&\""],"sourceRoot":""}