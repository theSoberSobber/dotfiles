(()=>{var e={729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function s(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,s,i,a){if("function"!=typeof s)throw new TypeError("The listener must be a function");var o=new n(s,i||e,a),m=r?r+t:t;return e._events[m]?e._events[m].fn?e._events[m]=[e._events[m],o]:e._events[m].push(o):(e._events[m]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function o(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,s,n=[];if(0===this._eventsCount)return n;for(s in e=this._events)t.call(e,s)&&n.push(r?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=r?r+e:e,s=this._events[t];if(!s)return[];if(s.fn)return[s.fn];for(var n=0,i=s.length,a=new Array(i);n<i;n++)a[n]=s[n].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,s=this._events[t];return s?s.fn?1:s.length:0},o.prototype.emit=function(e,t,s,n,i,a){var o=r?r+e:e;if(!this._events[o])return!1;var m,g,l=this._events[o],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,s),!0;case 4:return l.fn.call(l.context,t,s,n),!0;case 5:return l.fn.call(l.context,t,s,n,i),!0;case 6:return l.fn.call(l.context,t,s,n,i,a),!0}for(g=1,m=new Array(c-1);g<c;g++)m[g-1]=arguments[g];l.fn.apply(l.context,m)}else{var f,A=l.length;for(g=0;g<A;g++)switch(l[g].once&&this.removeListener(e,l[g].fn,void 0,!0),c){case 1:l[g].fn.call(l[g].context);break;case 2:l[g].fn.call(l[g].context,t);break;case 3:l[g].fn.call(l[g].context,t,s);break;case 4:l[g].fn.call(l[g].context,t,s,n);break;default:if(!m)for(f=1,m=new Array(c-1);f<c;f++)m[f-1]=arguments[f];l[g].fn.apply(l[g].context,m)}}return!0},o.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,s,n){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||s&&o.context!==s||a(this,i);else{for(var m=0,g=[],l=o.length;m<l;m++)(o[m].fn!==t||n&&!o[m].once||s&&o[m].context!==s)&&g.push(o[m]);g.length?this._events[i]=1===g.length?g[0]:g:a(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new s,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},150:function(e,t){var r,s,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,s=[e],r=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const n=e=>e&&"object"==typeof e&&"function"==typeof e.then,i=(t,r)=>(...s)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||s.length<=1&&!1!==r.singleCallbackArg?t.resolve(s[0]):t.resolve(s)},a=e=>1==e?"argument":"arguments",o=(e,t)=>function(r,...s){if(s.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${s.length}`);if(s.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((n,a)=>{if(t.fallbackToNoCallback)try{r[e](...s,i({resolve:n,reject:a},t))}catch(i){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,i),r[e](...s),t.fallbackToNoCallback=!1,t.noCallback=!0,n()}else t.noCallback?(r[e](...s),n()):r[e](...s,i({resolve:n,reject:a},t))}))},m=(e,t,r)=>new Proxy(t,{apply:(t,s,n)=>r.call(s,e,...n)});let g=Function.call.bind(Object.prototype.hasOwnProperty);const l=(e,t={},r={})=>{let s=Object.create(null),n={has:(t,r)=>r in e||r in s,get(n,i,a){if(i in s)return s[i];if(!(i in e))return;let c=e[i];if("function"==typeof c)if("function"==typeof t[i])c=m(e,e[i],t[i]);else if(g(r,i)){let t=o(i,r[i]);c=m(e,e[i],t)}else c=c.bind(e);else if("object"==typeof c&&null!==c&&(g(t,i)||g(r,i)))c=l(c,t[i],r[i]);else{if(!g(r,"*"))return Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>e[i],set(t){e[i]=t}}),c;c=l(c,t[i],r["*"])}return s[i]=c,c},set:(t,r,n,i)=>(r in s?s[r]=n:e[r]=n,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(s,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(s,t)},i=Object.create(e);return new Proxy(i,n)},c=e=>({addListener(t,r,...s){t.addListener(e.get(r),...s)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),f=new s((e=>"function"!=typeof e?e:function(t){const r=l(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)})),A=new s((e=>"function"!=typeof e?e:function(t,r,s){let i,a,o=!1,m=new Promise((e=>{i=function(t){o=!0,e(t)}}));try{a=e(t,r,i)}catch(e){a=Promise.reject(e)}const g=!0!==a&&n(a);if(!0!==a&&!g&&!o)return!1;const l=e=>{e.then((e=>{s(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",s({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return l(g?a:m),!0})),u=({reject:r,resolve:s},n)=>{e.runtime.lastError?e.runtime.lastError.message===t?s():r(new Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?r(new Error(n.message)):s(n)},h=(e,t,r,...s)=>{if(s.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${a(t.minArgs)} for ${e}(), got ${s.length}`);if(s.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${a(t.maxArgs)} for ${e}(), got ${s.length}`);return new Promise(((e,t)=>{const n=u.bind(null,{resolve:e,reject:t});s.push(n),r.sendMessage(...s)}))},d={devtools:{network:{onRequestFinished:c(f)}},runtime:{onMessage:c(A),onMessageExternal:c(A),sendMessage:h.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:h.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},p={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":p},services:{"*":p},websites:{"*":p}},l(e,d,r)};e.exports=r(chrome)}else e.exports=globalThis.browser},void 0===(n="function"==typeof r?r.apply(t,s):r)||(e.exports=n)}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,r),i.exports}(()=>{"use strict";var e=r(150),t=r(729);class s extends Error{constructor(e){super(e),this.name="TimeoutError"}}class n extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const i=e=>void 0===globalThis.DOMException?new n(e):new DOMException(e),a=e=>{const t=void 0===e.reason?i("This operation was aborted."):e.reason;return t instanceof Error?t:i(t)};var o,m=function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};class g{constructor(){o.set(this,[])}enqueue(e,t){const r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&m(this,o,"f")[this.size-1].priority>=t.priority)return void m(this,o,"f").push(r);const s=function(e,t,r){let s=0,n=e.length;for(;n>0;){const i=Math.trunc(n/2);let a=s+i;r(e[a],t)<=0?(s=++a,n-=i+1):n=i}return s}(m(this,o,"f"),r,((e,t)=>t.priority-e.priority));m(this,o,"f").splice(s,0,r)}dequeue(){const e=m(this,o,"f").shift();return null==e?void 0:e.run}filter(e){return m(this,o,"f").filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return m(this,o,"f").length}}o=new WeakMap;var l,c,f,A,u,h,d,p,x,v,w,b,y,k,T,C,E,P,N,I,_,M,O,L,j,S,$=function(e,t,r,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(e,r):n?n.value=r:t.set(e,r),r},W=function(e,t,r,s){if("a"===r&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?s:"a"===r?s.call(e):s?s.value:t.get(e)};const F=new s;class D extends Error{}class q extends t{constructor(e){var t,r,s,n;if(super(),l.add(this),c.set(this,void 0),f.set(this,void 0),A.set(this,0),u.set(this,void 0),h.set(this,void 0),d.set(this,0),p.set(this,void 0),x.set(this,void 0),v.set(this,void 0),w.set(this,void 0),b.set(this,0),y.set(this,void 0),k.set(this,void 0),T.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:g,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(n=null===(s=e.interval)||void 0===s?void 0:s.toString())&&void 0!==n?n:""}\` (${typeof e.interval})`);$(this,c,e.carryoverConcurrencyCount,"f"),$(this,f,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),$(this,u,e.intervalCap,"f"),$(this,h,e.interval,"f"),$(this,v,new e.queueClass,"f"),$(this,w,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,$(this,T,!0===e.throwOnTimeout,"f"),$(this,k,!1===e.autoStart,"f")}get concurrency(){return W(this,y,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);$(this,y,e,"f"),W(this,l,"m",j).call(this)}async add(e,t={}){return new Promise(((r,n)=>{W(this,v,"f").enqueue((async()=>{var i,o,m;$(this,b,(o=W(this,b,"f"),++o),"f"),$(this,A,(m=W(this,A,"f"),++m),"f");try{if(null===(i=t.signal)||void 0===i?void 0:i.aborted)return void n(new D("The task was aborted."));const o=void 0===this.timeout&&void 0===t.timeout?e({signal:t.signal}):function(e,t,r,n){let i;const o=new Promise(((o,m)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((n={customTimers:{setTimeout,clearTimeout},...n}).signal){const{signal:e}=n;e.aborted&&m(a(e)),e.addEventListener("abort",(()=>{m(a(e))}))}i=n.customTimers.setTimeout.call(void 0,(()=>{if("function"==typeof r){try{o(r())}catch(e){m(e)}return}const n=r instanceof Error?r:new s("string"==typeof r?r:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),m(n)}),t),(async()=>{try{o(await e)}catch(e){m(e)}finally{n.customTimers.clearTimeout.call(void 0,i)}})()}else o(e)}));return o.clear=()=>{clearTimeout(i),i=void 0},o}(Promise.resolve(e({signal:t.signal})),void 0===t.timeout?this.timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?W(this,T,"f"):t.throwOnTimeout)&&n(F)})),m=await o;r(m),this.emit("completed",m)}catch(e){n(e),this.emit("error",e)}W(this,l,"m",P).call(this)}),t),W(this,l,"m",M).call(this),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return W(this,k,"f")?($(this,k,!1,"f"),W(this,l,"m",j).call(this),this):this}pause(){$(this,k,!0,"f")}clear(){$(this,v,new(W(this,w,"f")),"f")}async onEmpty(){0!==W(this,v,"f").size&&await W(this,l,"m",S).call(this,"empty")}async onSizeLessThan(e){W(this,v,"f").size<e||await W(this,l,"m",S).call(this,"next",(()=>W(this,v,"f").size<e))}async onIdle(){0===W(this,b,"f")&&0===W(this,v,"f").size||await W(this,l,"m",S).call(this,"idle")}get size(){return W(this,v,"f").size}sizeBy(e){return W(this,v,"f").filter(e).length}get pending(){return W(this,b,"f")}get isPaused(){return W(this,k,"f")}}c=new WeakMap,f=new WeakMap,A=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,x=new WeakMap,v=new WeakMap,w=new WeakMap,b=new WeakMap,y=new WeakMap,k=new WeakMap,T=new WeakMap,l=new WeakSet,C=function(){return W(this,f,"f")||W(this,A,"f")<W(this,u,"f")},E=function(){return W(this,b,"f")<W(this,y,"f")},P=function(){var e;$(this,b,(e=W(this,b,"f"),--e),"f"),W(this,l,"m",M).call(this),this.emit("next")},N=function(){this.emit("empty"),0===W(this,b,"f")&&this.emit("idle")},I=function(){W(this,l,"m",L).call(this),W(this,l,"m",O).call(this),$(this,x,void 0,"f")},_=function(){const e=Date.now();if(void 0===W(this,p,"f")){const t=W(this,d,"f")-e;if(!(t<0))return void 0===W(this,x,"f")&&$(this,x,setTimeout((()=>{W(this,l,"m",I).call(this)}),t),"f"),!0;$(this,A,W(this,c,"f")?W(this,b,"f"):0,"f")}return!1},M=function(){if(0===W(this,v,"f").size)return W(this,p,"f")&&clearInterval(W(this,p,"f")),$(this,p,void 0,"f"),W(this,l,"m",N).call(this),!1;if(!W(this,k,"f")){const e=!W(this,l,"a",_);if(W(this,l,"a",C)&&W(this,l,"a",E)){const t=W(this,v,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&W(this,l,"m",O).call(this),!0)}}return!1},O=function(){W(this,f,"f")||void 0!==W(this,p,"f")||($(this,p,setInterval((()=>{W(this,l,"m",L).call(this)}),W(this,h,"f")),"f"),$(this,d,Date.now()+W(this,h,"f"),"f"))},L=function(){0===W(this,A,"f")&&0===W(this,b,"f")&&W(this,p,"f")&&(clearInterval(W(this,p,"f")),$(this,p,void 0,"f")),$(this,A,W(this,c,"f")?W(this,b,"f"):0,"f"),W(this,l,"m",j).call(this)},j=function(){for(;W(this,l,"m",M).call(this););},S=async function(e,t){return new Promise((r=>{const s=()=>{t&&!t()||(this.off(e,s),r())};this.on(e,s)}))},function(t){if(window.ipfsCompanionLinkifiedDOM)return;if(void 0!==document.contentType&&"text/plain"!==document.contentType&&"text/html"!==document.contentType)return;window.ipfsCompanionLinkifiedDOM=!0,window.ipfsCompanionLinkifyValidationCache=new Map;const r=/(?:\s+|^)(\/ip(?:f|n)s\/|dweb:\/ip(?:f|n)s\/|ipns:\/\/|ipfs:\/\/)([^\s+"<>:]+)/g,s=".//text()[(contains(., '/ipfs/') or contains(., '/ipns/') or contains(., 'ipns:/') or contains(., 'ipfs:/')) and not(ancestor::a) and not(ancestor::script) and not(ancestor::style) and (parent::"+["abbr","acronym","address","applet","b","bdo","big","blockquote","body","caption","center","cite","code","dd","del","div","dfn","dt","em","fieldset","font","form","h1","h2","h3","h4","h5","h6","i","iframe","ins","kdb","li","object","pre","p","q","samp","small","span","strike","s","strong","sub","sup","td","th","tt","u","var"].join(" or parent::")+") ]";async function n(e,t){if(!e||!e.nodeType||e.isContentEditable)return;if(e.className&&e.className.match&&e.className.match(/\blinkifiedIpfsAddress\b/))return;const r=document.evaluate(s,e,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);let n=0,i=null;for(t=t||new q({concurrency:1});i=r.snapshotItem(n++);){if(!i.parentNode||!e.contains(i))continue;const r=i;t.add((async()=>a(r)))}await t.onIdle()}function i(t){let r=t[1],s=t[2];return s=s.replace(/[.,]*$/,""),"ipfs://"===r?r="/ipfs/":"ipns://"===r?r="/ipns/":"dweb:/ipfs/"===r?r="/ipfs/":"dweb:/ipns/"===r&&(r="/ipns/"),async function(t){if(window.ipfsCompanionLinkifyValidationCache.has(t))return window.ipfsCompanionLinkifyValidationCache.get(t);try{const r=await e.runtime.sendMessage({pubGwUrlForIpfsOrIpnsPath:t});window.ipfsCompanionLinkifyValidationCache.set(t,r.pubGwUrlForIpfsOrIpnsPath)}catch(e){window.ipfsCompanionLinkifyValidationCache.set(t,null),console.error("pubGwUrlForIpfsOrIpnsPath.error for "+t,e)}return window.ipfsCompanionLinkifyValidationCache.get(t)}(r+s)}async function a(e){if(!function(e){let t=e.parentNode;if(!t)return!1;for(;t;){if(t.isContentEditable)return!1;if(t.className&&t.className.match(/\blinkifiedIpfsAddress\b/))return!1;if("PRE"===t.tagName&&t.className)return!1;if(!(t instanceof HTMLDocument||t.parentNode))return!1;t=t.parentNode}return!0}(e))return;let t,s;const n=e.textContent;let a=null,o=0;for(;s=r.exec(n);)if(t=await i(s),t){const e=document.createTextNode(s[0]);null==a&&(a=document.createElement("span"),a.className="linkifiedIpfsAddress"),a.appendChild(document.createTextNode(n.substring(o,s.index)));const r=document.createElement("a");r.className="linkifiedIpfsAddress",r.setAttribute("href",t),r.appendChild(e),a.appendChild(r);const i=s[0].length;o=s.index+i}if(a&&e.parentNode)try{a.appendChild(document.createTextNode(n.substring(o,n.length))),e.parentNode.replaceChild(a,e)}catch(e){console.error(e)}}!function(){const e=new q({concurrency:1});n(document.body,e).then((()=>{new MutationObserver((function(t){t.forEach((async t=>async function(e,t){if(t=t||new q({concurrency:1}),"childList"===e.type)for(const r of e.addedNodes)r.nodeType===Node.TEXT_NODE?t.add((async()=>a(r))):t.add((async()=>n(r)));"characterData"===e.type&&t.add((async()=>a(e.target)));await t.onIdle()}(t,e)))})).observe(document.body,{characterData:!0,childList:!0,subtree:!0})}))}()}()})()})();